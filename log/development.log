  [1m[35m (2.7ms)[0m  [1m[35mCREATE DATABASE "dev" ENCODING = 'unicode'[0m
  â†³ bin/rails:9
  [1m[35m (0.9ms)[0m  [1m[35mCREATE DATABASE "dev" ENCODING = 'unicode'[0m
  â†³ bin/rails:9
  [1m[35m (93.8ms)[0m  [1m[35mDROP DATABASE IF EXISTS "dev"[0m
  â†³ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[35mDROP DATABASE IF EXISTS "dev"[0m
  â†³ bin/rails:9
  [1m[35m (132.2ms)[0m  [1m[35mCREATE DATABASE "dev" ENCODING = 'unicode'[0m
  â†³ bin/rails:9
  [1m[35m (1.4ms)[0m  [1m[35mCREATE DATABASE "dev" ENCODING = 'unicode'[0m
  â†³ bin/rails:9
  [1m[35m (12.9ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  â†³ bin/rails:9
  [1m[35m (8.3ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  â†³ bin/rails:9
  [1m[35m (0.7ms)[0m  [1m[34mSELECT pg_try_advisory_lock(601276535802311985)[0m
  â†³ bin/rails:9
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
Migrating to DeviseCreateUsers (20220131165958)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:9
  [1m[35m (6.2ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "full_name" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "confirmation_token" character varying, "confirmed_at" timestamp, "confirmation_sent_at" timestamp, "unconfirmed_email" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  â†³ db/migrate/20220131165958_devise_create_users.rb:5
  [1m[35m (1.1ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_email" ON "users"  ("email")[0m
  â†³ db/migrate/20220131165958_devise_create_users.rb:39
  [1m[35m (0.6ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users"  ("reset_password_token")[0m
  â†³ db/migrate/20220131165958_devise_create_users.rb:40
  [1m[35m (0.8ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_confirmation_token" ON "users"  ("confirmation_token")[0m
  â†³ db/migrate/20220131165958_devise_create_users.rb:41
  [1m[36mActiveRecord::SchemaMigration Create (1.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20220131165958"]]
  â†³ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:9
Migrating to CreateProducts (20220131175123)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:9
  [1m[35m (6.0ms)[0m  [1m[35mCREATE TABLE "products" ("id" bigserial primary key, "name" character varying DEFAULT '' NOT NULL, "description" text DEFAULT '' NOT NULL, "price" decimal DEFAULT 1 NOT NULL, "quantity" integer DEFAULT 5 NOT NULL, "user_id" bigint NOT NULL, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_dee2631783"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  â†³ db/migrate/20220131175123_create_products.rb:5
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_products_on_user_id" ON "products"  ("user_id")[0m
  â†³ db/migrate/20220131175123_create_products.rb:5
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20220131175123"]]
  â†³ bin/rails:9
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:9
Migrating to CreateComments (20220201035221)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:9
  [1m[35m (5.1ms)[0m  [1m[35mCREATE TABLE "comments" ("id" bigserial primary key, "body" text DEFAULT '' NOT NULL, "user_id" bigint NOT NULL, "product_id" bigint NOT NULL, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_03de2dc08c"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_a0d280f6e4"
FOREIGN KEY ("product_id")
  REFERENCES "products" ("id")
)[0m
  â†³ db/migrate/20220201035221_create_comments.rb:5
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_comments_on_user_id" ON "comments"  ("user_id")[0m
  â†³ db/migrate/20220201035221_create_comments.rb:5
  [1m[35m (1.8ms)[0m  [1m[35mCREATE  INDEX  "index_comments_on_product_id" ON "comments"  ("product_id")[0m
  â†³ db/migrate/20220201035221_create_comments.rb:5
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20220201035221"]]
  â†³ bin/rails:9
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:9
Migrating to CreateCartItems (20220201035448)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:9
  [1m[35m (2.6ms)[0m  [1m[35mCREATE TABLE "cart_items" ("id" bigserial primary key, "quantity" integer DEFAULT 0 NOT NULL, "user_id" bigint NOT NULL, "product_id" bigint NOT NULL, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_fcb2cbf0bc"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_681a180e84"
FOREIGN KEY ("product_id")
  REFERENCES "products" ("id")
)[0m
  â†³ db/migrate/20220201035448_create_cart_items.rb:5
  [1m[35m (0.5ms)[0m  [1m[35mCREATE  INDEX  "index_cart_items_on_user_id" ON "cart_items"  ("user_id")[0m
  â†³ db/migrate/20220201035448_create_cart_items.rb:5
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_cart_items_on_product_id" ON "cart_items"  ("product_id")[0m
  â†³ db/migrate/20220201035448_create_cart_items.rb:5
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20220201035448"]]
  â†³ bin/rails:9
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:9
Migrating to CreateOrders (20220201035610)
  [1m[35m (5.9ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:9
  [1m[35m (2.6ms)[0m  [1m[35mCREATE TABLE "orders" ("id" bigserial primary key, "status" integer DEFAULT 0 NOT NULL, "payment_id" character varying DEFAULT '' NOT NULL, "amount_paid" decimal DEFAULT 0 NOT NULL, "user_id" bigint NOT NULL, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_f868b47f6a"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  â†³ db/migrate/20220201035610_create_orders.rb:5
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_orders_on_user_id" ON "orders"  ("user_id")[0m
  â†³ db/migrate/20220201035610_create_orders.rb:5
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20220201035610"]]
  â†³ bin/rails:9
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:9
Migrating to CreateOrderItems (20220201035703)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:9
  [1m[35m (10.3ms)[0m  [1m[35mCREATE TABLE "order_items" ("id" bigserial primary key, "product_name" character varying DEFAULT '' NOT NULL, "price" decimal DEFAULT 1 NOT NULL, "quantity" integer DEFAULT 1 NOT NULL, "order_id" bigint NOT NULL, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_e3cb28f071"
FOREIGN KEY ("order_id")
  REFERENCES "orders" ("id")
)[0m
  â†³ db/migrate/20220201035703_create_order_items.rb:5
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_order_items_on_order_id" ON "order_items"  ("order_id")[0m
  â†³ db/migrate/20220201035703_create_order_items.rb:5
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20220201035703"]]
  â†³ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:9
Migrating to CreateActiveStorageTables (20220201074401)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:9
  [1m[35m (11.3ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" bigserial primary key, "key" character varying NOT NULL, "filename" character varying NOT NULL, "content_type" character varying, "metadata" text, "byte_size" bigint NOT NULL, "checksum" character varying NOT NULL, "created_at" timestamp NOT NULL)[0m
  â†³ db/migrate/20220201074401_create_active_storage_tables.active_storage.rb:6
  [1m[35m (0.6ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_active_storage_blobs_on_key" ON "active_storage_blobs"  ("key")[0m
  â†³ db/migrate/20220201074401_create_active_storage_tables.active_storage.rb:6
  [1m[35m (3.4ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" bigserial primary key, "name" character varying NOT NULL, "record_type" character varying NOT NULL, "record_id" bigint NOT NULL, "blob_id" bigint NOT NULL, "created_at" timestamp NOT NULL, CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  â†³ db/migrate/20220201074401_create_active_storage_tables.active_storage.rb:18
  [1m[35m (0.5ms)[0m  [1m[35mCREATE  INDEX  "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments"  ("blob_id")[0m
  â†³ db/migrate/20220201074401_create_active_storage_tables.active_storage.rb:18
  [1m[35m (0.7ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_active_storage_attachments_uniqueness" ON "active_storage_attachments"  ("record_type", "record_id", "name", "blob_id")[0m
  â†³ db/migrate/20220201074401_create_active_storage_tables.active_storage.rb:18
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20220201074401"]]
  â†³ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:9
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  â†³ bin/rails:9
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:9
  [1m[36mActiveRecord::InternalMetadata Create (5.7ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-04-20 17:43:47.672398"], ["updated_at", "2023-04-20 17:43:47.672398"]]
  â†³ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(601276535802311985)[0m
  â†³ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
Started GET "/" for ::1 at 2023-04-20 10:43:59 -0700
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ /Users/dev/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.6/lib/active_record/log_subscriber.rb:98
DEPRECATION WARNING: 'include Pundit' is deprecated. Please use 'include Pundit::Authorization' instead.
 (called from include at /Users/dev/Documents/repos/ecommerceApp-main/app/controllers/concerns/authorizable.rb:7)
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[35m (2.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  â†³ app/views/products/index.html.erb:6
  Rendered products/index.html.erb within layouts/application (14.2ms)
  Rendered layouts/_header.html.erb (10.3ms)
  Rendered layouts/_alert.html.erb (0.3ms)
Completed 200 OK in 3443ms (Views: 3414.1ms | ActiveRecord: 11.7ms)


Started GET "/users/sign_in" for ::1 at 2023-04-20 10:44:07 -0700
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (0.7ms)
  Rendered devise/sessions/new.html.erb within layouts/application (1505.1ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_alert.html.erb (0.2ms)
Completed 200 OK in 1627ms (Views: 1595.2ms | ActiveRecord: 23.5ms)


Started GET "/users/sign_up" for ::1 at 2023-04-20 10:44:26 -0700
Processing by Devise::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_error_messages.html.erb (0.4ms)
  Rendered devise/shared/_links.html.erb (0.6ms)
  Rendered devise/registrations/new.html.erb within layouts/application (5.8ms)
  Rendered layouts/_header.html.erb (1.1ms)
  Rendered layouts/_alert.html.erb (0.3ms)
Completed 200 OK in 51ms (Views: 49.9ms | ActiveRecord: 0.0ms)


Started POST "/users" for ::1 at 2023-04-20 10:44:40 -0700
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"vkX/6h5go8X6ioBk1Fn/DmTtdJK/VS7dlNwsJcxWn+WndyDZJI8e6iVXPlUZ7CDHvisVgXrVrIp7j0x2HDpW8Q==", "user"=>{"full_name"=>"salman", "email"=>"salman@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "role"=>"0", "commit"=>"Sign up"}
Unpermitted parameter: :password_confirmation
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/dev/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.6/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Exists (17.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "salman@gmail.com"], ["LIMIT", 1]]
  â†³ /Users/dev/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.6/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Create (3.0ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "full_name", "confirmation_token", "confirmation_sent_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "salman@gmail.com"], ["encrypted_password", "$2a$12$AiW7yWq9/dnpSJ2RgmNB3OgOcUi0RV78TjNKW1Fxv7UiltOO.xIaG"], ["full_name", "salman"], ["confirmation_token", "R-dEySL2eAe5QpQK3B7_"], ["confirmation_sent_at", "2023-04-20 17:44:42.429061"], ["created_at", "2023-04-20 17:44:42.428945"], ["updated_at", "2023-04-20 17:44:42.428945"]]
  â†³ /Users/dev/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.6/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.8ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/dev/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.6/lib/active_record/log_subscriber.rb:98
  Rendering devise/mailer/confirmation_instructions.html.erb
  Rendered devise/mailer/confirmation_instructions.html.erb (0.5ms)
Devise::Mailer#confirmation_instructions: processed outbound mail in 144.5ms
Sent mail to salman@gmail.com (4231.5ms)
Date: Thu, 20 Apr 2023 10:44:42 -0700
From: please-change-me-at-config-initializers-devise@example.com
Reply-To: please-change-me-at-config-initializers-devise@example.com
To: salman@gmail.com
Message-ID: <64417a0a9a5a8_84443fdd4cd44d88622ee@the-showdown.mail>
Subject: Confirmation instructions
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Welcome salman@gmail.com!</p>

<p>You can confirm your account email through the link below:</p>

<p><a href="http://localhost:3000/users/confirmation?confirmation_token=R-dEySL2eAe5QpQK3B7_">Confirm my account</a></p>

Redirected to http://localhost:3000/
Completed 302 Found in 5902ms (ActiveRecord: 21.7ms)


Started GET "/" for ::1 at 2023-04-20 10:44:46 -0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[35m (2.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  â†³ app/views/products/index.html.erb:6
  Rendered products/index.html.erb within layouts/application (3.4ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_alert.html.erb (0.2ms)
Completed 200 OK in 65ms (Views: 60.9ms | ActiveRecord: 2.4ms)


  [1m[36mUser Load (5.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (8.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
Started GET "/users/sign_in" for ::1 at 2023-04-20 10:45:33 -0700
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (0.9ms)
  Rendered devise/sessions/new.html.erb within layouts/application (6.1ms)
  Rendered layouts/_header.html.erb (1.5ms)
  Rendered layouts/_alert.html.erb (0.4ms)
Completed 200 OK in 67ms (Views: 63.3ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for ::1 at 2023-04-20 10:45:39 -0700
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"y6HGMOFI14OWg4q0+t1VcpR9UfpKOEWa+54bhwBg4p4gJiKiOgVTnThG0VSzAhXJ6rrIHFI3coy/bylfj2oS5A==", "user"=>{"email"=>"salman@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "salman@gmail.com"], ["LIMIT", 1]]
  â†³ /Users/dev/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.6/lib/active_record/log_subscriber.rb:98
  [1m[35m (3.4ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/dev/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.6/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/dev/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.6/lib/active_record/log_subscriber.rb:98
Completed 401 Unauthorized in 328ms (ActiveRecord: 6.6ms)


Started GET "/users/sign_in" for ::1 at 2023-04-20 10:45:39 -0700
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (0.7ms)
  Rendered devise/sessions/new.html.erb within layouts/application (3.9ms)
  Rendered layouts/_header.html.erb (1.1ms)
  Rendered layouts/_alert.html.erb (0.3ms)
Completed 200 OK in 51ms (Views: 50.2ms | ActiveRecord: 0.0ms)


  [1m[36mUser Load (6.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (5.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (16.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (3.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (1.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Update (9.7ms)[0m  [1m[33mUPDATE "users" SET "confirmed_at" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["confirmed_at", "2023-04-20 17:45:24.919026"], ["updated_at", "2023-04-20 17:46:24.923575"], ["id", 1]]
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mUser Load (4.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
Started POST "/users/sign_in" for ::1 at 2023-04-20 10:46:31 -0700
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"AgbgRTmZoxI3f2Bo3BBfANvtcHDYWIIbXCyN/P3Dnqxw4Baq55ONSruqY6w43Ddn5+DHWNHr/HsyyLqSoUfQBQ==", "user"=>{"email"=>"salman@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "salman@gmail.com"], ["LIMIT", 1]]
  â†³ /Users/dev/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.6/lib/active_record/log_subscriber.rb:98
  [1m[35m (2.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/concerns/load_cart.rb:37
Redirected to http://localhost:3000/
Completed 302 Found in 296ms (ActiveRecord: 10.1ms)


Started GET "/" for ::1 at 2023-04-20 10:46:31 -0700
Processing by ProductsController#index as HTML
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:7
  Rendering products/index.html.erb within layouts/application
  [1m[35m (5.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" WHERE (user_id != 1)[0m
  â†³ app/views/products/index.html.erb:6
  Rendered products/index.html.erb within layouts/application (6.8ms)
  Rendered layouts/_header.html.erb (1.1ms)
  Rendered layouts/_alert.html.erb (0.2ms)
Completed 200 OK in 56ms (Views: 45.8ms | ActiveRecord: 7.1ms)


Started GET "/products/mine" for ::1 at 2023-04-20 10:46:34 -0700
Processing by ProductsController#mine as HTML
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:16
  Rendering products/mine.html.erb within layouts/application
  [1m[36mProduct Load (2.8ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (user_id = 1)[0m
  â†³ app/views/products/mine.html.erb:9
  Rendered products/mine.html.erb within layouts/application (4.4ms)
  Rendered layouts/_header.html.erb (0.9ms)
  Rendered layouts/_alert.html.erb (0.2ms)
Completed 200 OK in 65ms (Views: 48.4ms | ActiveRecord: 4.1ms)


Started GET "/products/new" for ::1 at 2023-04-20 10:46:36 -0700
Processing by ProductsController#new as HTML
  [1m[36mUser Load (5.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:12
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (79.6ms)
  Rendered products/new.html.erb within layouts/application (81.9ms)
  Rendered layouts/_header.html.erb (0.9ms)
  Rendered layouts/_alert.html.erb (0.2ms)
Completed 200 OK in 188ms (Views: 74.1ms | ActiveRecord: 85.0ms)


Started POST "/rails/active_storage/direct_uploads" for ::1 at 2023-04-20 10:46:53 -0700
Processing by ActiveStorage::DirectUploadsController#create as JSON
  Parameters: {"blob"=>{"filename"=>"Screenshot 2023-04-18 at 11.18.23 AM.png", "content_type"=>"image/png", "byte_size"=>558081, "checksum"=>"XC0qe+1QNcVd723AyCAPbA=="}, "direct_upload"=>{"blob"=>{"filename"=>"Screenshot 2023-04-18 at 11.18.23 AM.png", "content_type"=>"image/png", "byte_size"=>558081, "checksum"=>"XC0qe+1QNcVd723AyCAPbA=="}}}
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/dev/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.6/lib/active_record/log_subscriber.rb:98
  [1m[36mActiveStorage::Blob Create (23.9ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["key", "87if5mpwZoq2cxbp5wP74s5U"], ["filename", "Screenshot 2023-04-18 at 11.18.23 AM.png"], ["content_type", "image/png"], ["byte_size", 558081], ["checksum", "XC0qe+1QNcVd723AyCAPbA=="], ["created_at", "2023-04-20 17:46:54.101085"]]
  â†³ /Users/dev/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.6/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/dev/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.6/lib/active_record/log_subscriber.rb:98
[36m  Disk Storage (0.7ms) [0m[34mGenerated URL for file at key: 87if5mpwZoq2cxbp5wP74s5U (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWRPRGRwWmpWdGNIZGFiM0V5WTNoaWNEVjNVRGMwY3pWVkJqb0dSVlE2RVdOdmJuUmxiblJmZEhsd1pVa2lEbWx0WVdkbEwzQnVad1k3QmxRNkUyTnZiblJsYm5SZmJHVnVaM1JvYVFNQmhBZzZEV05vWldOcmMzVnRTU0lkV0VNd2NXVXJNVkZPWTFaa056SXpRWGxEUVZCaVFUMDlCanNHVkE9PSIsImV4cCI6IjIwMjMtMDQtMjBUMTc6NTE6NTQuMTI5WiIsInB1ciI6ImJsb2JfdG9rZW4ifX0=--87641c3c9d889d93339314bf6cc6aa78726d6b0e)[0m
Completed 200 OK in 114ms (Views: 0.6ms | ActiveRecord: 88.3ms)


Started PUT "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWRPRGRwWmpWdGNIZGFiM0V5WTNoaWNEVjNVRGMwY3pWVkJqb0dSVlE2RVdOdmJuUmxiblJmZEhsd1pVa2lEbWx0WVdkbEwzQnVad1k3QmxRNkUyTnZiblJsYm5SZmJHVnVaM1JvYVFNQmhBZzZEV05vWldOcmMzVnRTU0lkV0VNd2NXVXJNVkZPWTFaa056SXpRWGxEUVZCaVFUMDlCanNHVkE9PSIsImV4cCI6IjIwMjMtMDQtMjBUMTc6NTE6NTQuMTI5WiIsInB1ciI6ImJsb2JfdG9rZW4ifX0=--87641c3c9d889d93339314bf6cc6aa78726d6b0e" for ::1 at 2023-04-20 10:46:54 -0700
Processing by ActiveStorage::DiskController#update as */*
  Parameters: {"encoded_token"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWRPRGRwWmpWdGNIZGFiM0V5WTNoaWNEVjNVRGMwY3pWVkJqb0dSVlE2RVdOdmJuUmxiblJmZEhsd1pVa2lEbWx0WVdkbEwzQnVad1k3QmxRNkUyTnZiblJsYm5SZmJHVnVaM1JvYVFNQmhBZzZEV05vWldOcmMzVnRTU0lkV0VNd2NXVXJNVkZPWTFaa056SXpRWGxEUVZCaVFUMDlCanNHVkE9PSIsImV4cCI6IjIwMjMtMDQtMjBUMTc6NTE6NTQuMTI5WiIsInB1ciI6ImJsb2JfdG9rZW4ifX0=--87641c3c9d889d93339314bf6cc6aa78726d6b0e"}
[36m  Disk Storage (2.8ms) [0m[32mUploaded file to key: 87if5mpwZoq2cxbp5wP74s5U (checksum: XC0qe+1QNcVd723AyCAPbA==)[0m
Completed 204 No Content in 3ms (ActiveRecord: 0.0ms)


Started POST "/products" for ::1 at 2023-04-20 10:46:54 -0700
Processing by ProductsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"aIKGJNkNTsPOHalKmBXniN5nCFoHudGiFANC2IvEqpGK4lzpKLqBbpu2oC39WCdIDP3BIZNV76ZOuTpp6L0gSA==", "product"=>{"name"=>"hello", "description"=>"hi i am product", "price"=>"100", "quantity"=>"5", "images"=>["eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--f57375bb7c294a0651708b1198785d173bb2a503"]}, "commit"=>"Create"}
  [1m[36mActiveStorage::Blob Load (24.6ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:21
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:22
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/products_controller.rb:24
  [1m[36mProduct Create (32.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "price", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "hello"], ["description", "hi i am product"], ["price", "100.0"], ["user_id", 1], ["created_at", "2023-04-20 17:46:54.200358"], ["updated_at", "2023-04-20 17:46:54.200358"]]
  â†³ app/controllers/products_controller.rb:24
  [1m[36mActiveStorage::Attachment Create (21.5ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "images"], ["record_type", "Product"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-04-20 17:46:54.234943"]]
  â†³ app/controllers/products_controller.rb:24
  [1m[36mProduct Update (1.5ms)[0m  [1m[33mUPDATE "products" SET "updated_at" = $1 WHERE "products"."id" = $2[0m  [["updated_at", "2023-04-20 17:46:54.259211"], ["id", 1]]
  â†³ app/controllers/products_controller.rb:24
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/products_controller.rb:24
  [1m[35m (10.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/products_controller.rb:24
  [1m[36mActiveStorage::Blob Update (0.8ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true}"], ["id", 1]]
  â†³ app/controllers/products_controller.rb:24
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/products_controller.rb:24
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 39f40c24-1f0b-427f-a259-b822bc44c980) to Async(default) with arguments: #<GlobalID:0x00007fba69ea5b98 @uri=#<URI::GID gid://ecommerce-app/ActiveStorage::Blob/1>>
Redirected to http://localhost:3000/products/mine
Completed 302 Found in 124ms (ActiveRecord: 93.5ms)


Started GET "/products/mine" for ::1 at 2023-04-20 10:46:54 -0700
  [1m[36mActiveStorage::Blob Load (0.7ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ /Users/dev/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.6/lib/active_record/log_subscriber.rb:98
[ActiveJob] [ActiveStorage::AnalyzeJob] [39f40c24-1f0b-427f-a259-b822bc44c980] Performing ActiveStorage::AnalyzeJob (Job ID: 39f40c24-1f0b-427f-a259-b822bc44c980) from Async(default) with arguments: #<GlobalID:0x00007fba5a5f88b0 @uri=#<URI::GID gid://ecommerce-app/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [39f40c24-1f0b-427f-a259-b822bc44c980] [36m  Disk Storage (0.3ms) [0m[34mDownloaded file from key: 87if5mpwZoq2cxbp5wP74s5U[0m
Processing by ProductsController#mine as HTML
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:16
  Rendering products/mine.html.erb within layouts/application
  [1m[36mProduct Load (2.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (user_id = 1)[0m
  â†³ app/views/products/mine.html.erb:9
  [1m[36mActiveStorage::Attachment Exists (7.5ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/mine.html.erb:13
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"]]
  â†³ app/views/products/mine.html.erb:16
  [1m[36mCACHE ActiveStorage::Attachment Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/models/product.rb:18
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"]]
  â†³ app/models/product.rb:18
  [1m[36mActiveStorage::Blob Load (1.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/product.rb:18
[ActiveJob] [ActiveStorage::AnalyzeJob] [39f40c24-1f0b-427f-a259-b822bc44c980]   [1m[35m (1.7ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [39f40c24-1f0b-427f-a259-b822bc44c980]   â†³ /Users/dev/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.6/lib/active_record/log_subscriber.rb:98
[36m  Disk Storage (0.1ms) [0m[34mChecked if file exists at key: variants/87if5mpwZoq2cxbp5wP74s5U/d53adedc97214a86f733c99ccf8eea276ebd79310a2d392decb9ededdf5b75ec (no)[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [39f40c24-1f0b-427f-a259-b822bc44c980]   [1m[36mActiveStorage::Blob Update (1.4ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"width\":994,\"height\":476,\"analyzed\":true}"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [39f40c24-1f0b-427f-a259-b822bc44c980]   â†³ /Users/dev/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.6/lib/active_record/log_subscriber.rb:98
[36m  Disk Storage (0.4ms) [0m[34mDownloaded file from key: 87if5mpwZoq2cxbp5wP74s5U[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [39f40c24-1f0b-427f-a259-b822bc44c980]   [1m[35m (17.1ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [39f40c24-1f0b-427f-a259-b822bc44c980]   â†³ /Users/dev/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.6/lib/active_record/log_subscriber.rb:98
[ActiveJob] [ActiveStorage::AnalyzeJob] [39f40c24-1f0b-427f-a259-b822bc44c980] Performed ActiveStorage::AnalyzeJob (Job ID: 39f40c24-1f0b-427f-a259-b822bc44c980) from Async(default) in 5353.08ms
[36m  Disk Storage (2.0ms) [0m[32mUploaded file to key: variants/87if5mpwZoq2cxbp5wP74s5U/d53adedc97214a86f733c99ccf8eea276ebd79310a2d392decb9ededdf5b75ec[0m
  Rendered products/mine.html.erb within layouts/application (5431.8ms)
  Rendered layouts/_header.html.erb (1.2ms)
  Rendered layouts/_alert.html.erb (0.3ms)
Completed 200 OK in 5526ms (Views: 5484.6ms | ActiveRecord: 35.0ms)


Started GET "/rails/active_storage/representations/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--f57375bb7c294a0651708b1198785d173bb2a503/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdCam9MY21WemFYcGxTU0lJTkRBd0Jqb0dSVlE9IiwiZXhwIjpudWxsLCJwdXIiOiJ2YXJpYXRpb24ifX0=--9d8bdfc48eb597c2ee1689b2563c12ae400ca2c7/Screenshot%202023-04-18%20at%2011.18.23%20AM.png" for ::1 at 2023-04-20 10:46:59 -0700
Processing by ActiveStorage::RepresentationsController#show as PNG
  Parameters: {"signed_blob_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--f57375bb7c294a0651708b1198785d173bb2a503", "variation_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdCam9MY21WemFYcGxTU0lJTkRBd0Jqb0dSVlE9IiwiZXhwIjpudWxsLCJwdXIiOiJ2YXJpYXRpb24ifX0=--9d8bdfc48eb597c2ee1689b2563c12ae400ca2c7", "filename"=>"Screenshot 2023-04-18 at 11.18.23 AM"}
  [1m[36mActiveStorage::Blob Load (1.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ /Users/dev/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.6/lib/active_record/log_subscriber.rb:98
[36m  Disk Storage (0.0ms) [0m[34mChecked if file exists at key: variants/87if5mpwZoq2cxbp5wP74s5U/d53adedc97214a86f733c99ccf8eea276ebd79310a2d392decb9ededdf5b75ec (yes)[0m
[36m  Disk Storage (2.0ms) [0m[34mGenerated URL for file at key: variants/87if5mpwZoq2cxbp5wP74s5U/d53adedc97214a86f733c99ccf8eea276ebd79310a2d392decb9ededdf5b75ec (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSm5kbUZ5YVdGdWRITXZPRGRwWmpWdGNIZGFiM0V5WTNoaWNEVjNVRGMwY3pWVkwyUTFNMkZrWldSak9UY3lNVFJoT0RabU56TXpZems1WTJObU9HVmxZVEkzTm1WaVpEYzVNekV3WVRKa016a3laR1ZqWWpsbFpHVmtaR1kxWWpjMVpXTUdPZ1pGVkRvUVpHbHpjRzl6YVhScGIyNUpJZ0YrYVc1c2FXNWxPeUJtYVd4bGJtRnRaVDBpVTJOeVpXVnVjMmh2ZENBeU1ESXpMVEEwTFRFNElHRjBJREV4TGpFNExqSXpJRUZOTG5CdVp5STdJR1pwYkdWdVlXMWxLajFWVkVZdE9DY25VMk55WldWdWMyaHZkQ1V5TURJd01qTXRNRFF0TVRnbE1qQmhkQ1V5TURFeExqRTRMakl6SlRJd1FVMHVjRzVuQmpzR1ZEb1JZMjl1ZEdWdWRGOTBlWEJsU1NJT2FXMWhaMlV2Y0c1bkJqc0dWQT09IiwiZXhwIjoiMjAyMy0wNC0yMFQxNzo1MTo1OS44NTZaIiwicHVyIjoiYmxvYl9rZXkifX0=--e5157e10c574ad89bbd09d0e516a5b72e065e22e/Screenshot%202023-04-18%20at%2011.18.23%20AM.png?content_type=image%2Fpng&disposition=inline%3B+filename%3D%22Screenshot+2023-04-18+at+11.18.23+AM.png%22%3B+filename%2A%3DUTF-8%27%27Screenshot%25202023-04-18%2520at%252011.18.23%2520AM.png)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSm5kbUZ5YVdGdWRITXZPRGRwWmpWdGNIZGFiM0V5WTNoaWNEVjNVRGMwY3pWVkwyUTFNMkZrWldSak9UY3lNVFJoT0RabU56TXpZems1WTJObU9HVmxZVEkzTm1WaVpEYzVNekV3WVRKa016a3laR1ZqWWpsbFpHVmtaR1kxWWpjMVpXTUdPZ1pGVkRvUVpHbHpjRzl6YVhScGIyNUpJZ0YrYVc1c2FXNWxPeUJtYVd4bGJtRnRaVDBpVTJOeVpXVnVjMmh2ZENBeU1ESXpMVEEwTFRFNElHRjBJREV4TGpFNExqSXpJRUZOTG5CdVp5STdJR1pwYkdWdVlXMWxLajFWVkVZdE9DY25VMk55WldWdWMyaHZkQ1V5TURJd01qTXRNRFF0TVRnbE1qQmhkQ1V5TURFeExqRTRMakl6SlRJd1FVMHVjRzVuQmpzR1ZEb1JZMjl1ZEdWdWRGOTBlWEJsU1NJT2FXMWhaMlV2Y0c1bkJqc0dWQT09IiwiZXhwIjoiMjAyMy0wNC0yMFQxNzo1MTo1OS44NTZaIiwicHVyIjoiYmxvYl9rZXkifX0=--e5157e10c574ad89bbd09d0e516a5b72e065e22e/Screenshot%202023-04-18%20at%2011.18.23%20AM.png?content_type=image%2Fpng&disposition=inline%3B+filename%3D%22Screenshot+2023-04-18+at+11.18.23+AM.png%22%3B+filename%2A%3DUTF-8%27%27Screenshot%25202023-04-18%2520at%252011.18.23%2520AM.png
Completed 302 Found in 7ms (ActiveRecord: 1.3ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSm5kbUZ5YVdGdWRITXZPRGRwWmpWdGNIZGFiM0V5WTNoaWNEVjNVRGMwY3pWVkwyUTFNMkZrWldSak9UY3lNVFJoT0RabU56TXpZems1WTJObU9HVmxZVEkzTm1WaVpEYzVNekV3WVRKa016a3laR1ZqWWpsbFpHVmtaR1kxWWpjMVpXTUdPZ1pGVkRvUVpHbHpjRzl6YVhScGIyNUpJZ0YrYVc1c2FXNWxPeUJtYVd4bGJtRnRaVDBpVTJOeVpXVnVjMmh2ZENBeU1ESXpMVEEwTFRFNElHRjBJREV4TGpFNExqSXpJRUZOTG5CdVp5STdJR1pwYkdWdVlXMWxLajFWVkVZdE9DY25VMk55WldWdWMyaHZkQ1V5TURJd01qTXRNRFF0TVRnbE1qQmhkQ1V5TURFeExqRTRMakl6SlRJd1FVMHVjRzVuQmpzR1ZEb1JZMjl1ZEdWdWRGOTBlWEJsU1NJT2FXMWhaMlV2Y0c1bkJqc0dWQT09IiwiZXhwIjoiMjAyMy0wNC0yMFQxNzo1MTo1OS44NTZaIiwicHVyIjoiYmxvYl9rZXkifX0=--e5157e10c574ad89bbd09d0e516a5b72e065e22e/Screenshot%202023-04-18%20at%2011.18.23%20AM.png?content_type=image%2Fpng&disposition=inline%3B+filename%3D%22Screenshot+2023-04-18+at+11.18.23+AM.png%22%3B+filename%2A%3DUTF-8%27%27Screenshot%25202023-04-18%2520at%252011.18.23%2520AM.png" for ::1 at 2023-04-20 10:46:59 -0700
Processing by ActiveStorage::DiskController#show as PNG
  Parameters: {"content_type"=>"image/png", "disposition"=>"inline; filename=\"Screenshot 2023-04-18 at 11.18.23 AM.png\"; filename*=UTF-8''Screenshot%202023-04-18%20at%2011.18.23%20AM.png", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSm5kbUZ5YVdGdWRITXZPRGRwWmpWdGNIZGFiM0V5WTNoaWNEVjNVRGMwY3pWVkwyUTFNMkZrWldSak9UY3lNVFJoT0RabU56TXpZems1WTJObU9HVmxZVEkzTm1WaVpEYzVNekV3WVRKa016a3laR1ZqWWpsbFpHVmtaR1kxWWpjMVpXTUdPZ1pGVkRvUVpHbHpjRzl6YVhScGIyNUpJZ0YrYVc1c2FXNWxPeUJtYVd4bGJtRnRaVDBpVTJOeVpXVnVjMmh2ZENBeU1ESXpMVEEwTFRFNElHRjBJREV4TGpFNExqSXpJRUZOTG5CdVp5STdJR1pwYkdWdVlXMWxLajFWVkVZdE9DY25VMk55WldWdWMyaHZkQ1V5TURJd01qTXRNRFF0TVRnbE1qQmhkQ1V5TURFeExqRTRMakl6SlRJd1FVMHVjRzVuQmpzR1ZEb1JZMjl1ZEdWdWRGOTBlWEJsU1NJT2FXMWhaMlV2Y0c1bkJqc0dWQT09IiwiZXhwIjoiMjAyMy0wNC0yMFQxNzo1MTo1OS44NTZaIiwicHVyIjoiYmxvYl9rZXkifX0=--e5157e10c574ad89bbd09d0e516a5b72e065e22e", "filename"=>"Screenshot 2023-04-18 at 11.18.23 AM"}
Completed 200 OK in 3ms (ActiveRecord: 0.0ms)


Started GET "/products/1/edit" for ::1 at 2023-04-20 10:47:06 -0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:68
  [1m[36mUser Load (13.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:69
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/policies/product_policy.rb:31
  Rendering products/edit.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Exists (3.1ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/_form.html.erb:53
  [1m[36mCACHE ActiveStorage::Attachment Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/_form.html.erb:54
  [1m[35m (1.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"]]
  â†³ app/views/products/_form.html.erb:56
  [1m[36mCACHE ActiveStorage::Attachment Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/models/product.rb:18
  [1m[36mActiveStorage::Attachment Load (1.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"]]
  â†³ app/models/product.rb:18
  [1m[36mActiveStorage::Blob Load (1.7ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/product.rb:18
[36m  Disk Storage (0.0ms) [0m[34mChecked if file exists at key: variants/87if5mpwZoq2cxbp5wP74s5U/d5e0661f964c96f1a753d1d56ba158fb5d7ca340169576e789eae5f4d9fc7031 (no)[0m
[36m  Disk Storage (0.3ms) [0m[34mDownloaded file from key: 87if5mpwZoq2cxbp5wP74s5U[0m
[36m  Disk Storage (0.7ms) [0m[32mUploaded file to key: variants/87if5mpwZoq2cxbp5wP74s5U/d5e0661f964c96f1a753d1d56ba158fb5d7ca340169576e789eae5f4d9fc7031[0m
  Rendered products/_form.html.erb (138.4ms)
  Rendered products/edit.html.erb within layouts/application (139.6ms)
  Rendered layouts/_header.html.erb (1.1ms)
  Rendered layouts/_alert.html.erb (0.2ms)
Completed 200 OK in 219ms (Views: 174.2ms | ActiveRecord: 23.1ms)


Started GET "/rails/active_storage/representations/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--f57375bb7c294a0651708b1198785d173bb2a503/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdCam9MY21WemFYcGxTU0lJTWpBd0Jqb0dSVlE9IiwiZXhwIjpudWxsLCJwdXIiOiJ2YXJpYXRpb24ifX0=--ebd0af6aac3766f1c76d4d968beb43ebbc982d2d/Screenshot%202023-04-18%20at%2011.18.23%20AM.png" for ::1 at 2023-04-20 10:47:06 -0700
Processing by ActiveStorage::RepresentationsController#show as PNG
  Parameters: {"signed_blob_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--f57375bb7c294a0651708b1198785d173bb2a503", "variation_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdCam9MY21WemFYcGxTU0lJTWpBd0Jqb0dSVlE9IiwiZXhwIjpudWxsLCJwdXIiOiJ2YXJpYXRpb24ifX0=--ebd0af6aac3766f1c76d4d968beb43ebbc982d2d", "filename"=>"Screenshot 2023-04-18 at 11.18.23 AM"}
  [1m[36mActiveStorage::Blob Load (0.6ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ /Users/dev/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.6/lib/active_record/log_subscriber.rb:98
[36m  Disk Storage (0.0ms) [0m[34mChecked if file exists at key: variants/87if5mpwZoq2cxbp5wP74s5U/d5e0661f964c96f1a753d1d56ba158fb5d7ca340169576e789eae5f4d9fc7031 (yes)[0m
[36m  Disk Storage (0.4ms) [0m[34mGenerated URL for file at key: variants/87if5mpwZoq2cxbp5wP74s5U/d5e0661f964c96f1a753d1d56ba158fb5d7ca340169576e789eae5f4d9fc7031 (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSm5kbUZ5YVdGdWRITXZPRGRwWmpWdGNIZGFiM0V5WTNoaWNEVjNVRGMwY3pWVkwyUTFaVEEyTmpGbU9UWTBZemsyWmpGaE56VXpaREZrTlRaaVlURTFPR1ppTldRM1kyRXpOREF4TmprMU56WmxOemc1WldGbE5XWTBaRGxtWXpjd016RUdPZ1pGVkRvUVpHbHpjRzl6YVhScGIyNUpJZ0YrYVc1c2FXNWxPeUJtYVd4bGJtRnRaVDBpVTJOeVpXVnVjMmh2ZENBeU1ESXpMVEEwTFRFNElHRjBJREV4TGpFNExqSXpJRUZOTG5CdVp5STdJR1pwYkdWdVlXMWxLajFWVkVZdE9DY25VMk55WldWdWMyaHZkQ1V5TURJd01qTXRNRFF0TVRnbE1qQmhkQ1V5TURFeExqRTRMakl6SlRJd1FVMHVjRzVuQmpzR1ZEb1JZMjl1ZEdWdWRGOTBlWEJsU1NJT2FXMWhaMlV2Y0c1bkJqc0dWQT09IiwiZXhwIjoiMjAyMy0wNC0yMFQxNzo1MjowNi41NTZaIiwicHVyIjoiYmxvYl9rZXkifX0=--404dbc444660a39f4b7d9eb2ec436b2a12735365/Screenshot%202023-04-18%20at%2011.18.23%20AM.png?content_type=image%2Fpng&disposition=inline%3B+filename%3D%22Screenshot+2023-04-18+at+11.18.23+AM.png%22%3B+filename%2A%3DUTF-8%27%27Screenshot%25202023-04-18%2520at%252011.18.23%2520AM.png)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSm5kbUZ5YVdGdWRITXZPRGRwWmpWdGNIZGFiM0V5WTNoaWNEVjNVRGMwY3pWVkwyUTFaVEEyTmpGbU9UWTBZemsyWmpGaE56VXpaREZrTlRaaVlURTFPR1ppTldRM1kyRXpOREF4TmprMU56WmxOemc1WldGbE5XWTBaRGxtWXpjd016RUdPZ1pGVkRvUVpHbHpjRzl6YVhScGIyNUpJZ0YrYVc1c2FXNWxPeUJtYVd4bGJtRnRaVDBpVTJOeVpXVnVjMmh2ZENBeU1ESXpMVEEwTFRFNElHRjBJREV4TGpFNExqSXpJRUZOTG5CdVp5STdJR1pwYkdWdVlXMWxLajFWVkVZdE9DY25VMk55WldWdWMyaHZkQ1V5TURJd01qTXRNRFF0TVRnbE1qQmhkQ1V5TURFeExqRTRMakl6SlRJd1FVMHVjRzVuQmpzR1ZEb1JZMjl1ZEdWdWRGOTBlWEJsU1NJT2FXMWhaMlV2Y0c1bkJqc0dWQT09IiwiZXhwIjoiMjAyMy0wNC0yMFQxNzo1MjowNi41NTZaIiwicHVyIjoiYmxvYl9rZXkifX0=--404dbc444660a39f4b7d9eb2ec436b2a12735365/Screenshot%202023-04-18%20at%2011.18.23%20AM.png?content_type=image%2Fpng&disposition=inline%3B+filename%3D%22Screenshot+2023-04-18+at+11.18.23+AM.png%22%3B+filename%2A%3DUTF-8%27%27Screenshot%25202023-04-18%2520at%252011.18.23%2520AM.png
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSm5kbUZ5YVdGdWRITXZPRGRwWmpWdGNIZGFiM0V5WTNoaWNEVjNVRGMwY3pWVkwyUTFaVEEyTmpGbU9UWTBZemsyWmpGaE56VXpaREZrTlRaaVlURTFPR1ppTldRM1kyRXpOREF4TmprMU56WmxOemc1WldGbE5XWTBaRGxtWXpjd016RUdPZ1pGVkRvUVpHbHpjRzl6YVhScGIyNUpJZ0YrYVc1c2FXNWxPeUJtYVd4bGJtRnRaVDBpVTJOeVpXVnVjMmh2ZENBeU1ESXpMVEEwTFRFNElHRjBJREV4TGpFNExqSXpJRUZOTG5CdVp5STdJR1pwYkdWdVlXMWxLajFWVkVZdE9DY25VMk55WldWdWMyaHZkQ1V5TURJd01qTXRNRFF0TVRnbE1qQmhkQ1V5TURFeExqRTRMakl6SlRJd1FVMHVjRzVuQmpzR1ZEb1JZMjl1ZEdWdWRGOTBlWEJsU1NJT2FXMWhaMlV2Y0c1bkJqc0dWQT09IiwiZXhwIjoiMjAyMy0wNC0yMFQxNzo1MjowNi41NTZaIiwicHVyIjoiYmxvYl9rZXkifX0=--404dbc444660a39f4b7d9eb2ec436b2a12735365/Screenshot%202023-04-18%20at%2011.18.23%20AM.png?content_type=image%2Fpng&disposition=inline%3B+filename%3D%22Screenshot+2023-04-18+at+11.18.23+AM.png%22%3B+filename%2A%3DUTF-8%27%27Screenshot%25202023-04-18%2520at%252011.18.23%2520AM.png" for ::1 at 2023-04-20 10:47:06 -0700
Processing by ActiveStorage::DiskController#show as PNG
  Parameters: {"content_type"=>"image/png", "disposition"=>"inline; filename=\"Screenshot 2023-04-18 at 11.18.23 AM.png\"; filename*=UTF-8''Screenshot%202023-04-18%20at%2011.18.23%20AM.png", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSm5kbUZ5YVdGdWRITXZPRGRwWmpWdGNIZGFiM0V5WTNoaWNEVjNVRGMwY3pWVkwyUTFaVEEyTmpGbU9UWTBZemsyWmpGaE56VXpaREZrTlRaaVlURTFPR1ppTldRM1kyRXpOREF4TmprMU56WmxOemc1WldGbE5XWTBaRGxtWXpjd016RUdPZ1pGVkRvUVpHbHpjRzl6YVhScGIyNUpJZ0YrYVc1c2FXNWxPeUJtYVd4bGJtRnRaVDBpVTJOeVpXVnVjMmh2ZENBeU1ESXpMVEEwTFRFNElHRjBJREV4TGpFNExqSXpJRUZOTG5CdVp5STdJR1pwYkdWdVlXMWxLajFWVkVZdE9DY25VMk55WldWdWMyaHZkQ1V5TURJd01qTXRNRFF0TVRnbE1qQmhkQ1V5TURFeExqRTRMakl6SlRJd1FVMHVjRzVuQmpzR1ZEb1JZMjl1ZEdWdWRGOTBlWEJsU1NJT2FXMWhaMlV2Y0c1bkJqc0dWQT09IiwiZXhwIjoiMjAyMy0wNC0yMFQxNzo1MjowNi41NTZaIiwicHVyIjoiYmxvYl9rZXkifX0=--404dbc444660a39f4b7d9eb2ec436b2a12735365", "filename"=>"Screenshot 2023-04-18 at 11.18.23 AM"}
Completed 200 OK in 1ms (ActiveRecord: 0.0ms)


Started GET "/cart_items" for ::1 at 2023-04-20 10:47:12 -0700
Processing by CartItemsController#index as HTML
  [1m[36mUser Load (7.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/cart_items_controller.rb:7
  Rendering cart_items/index.html.erb within layouts/application
  [1m[35m (11.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/views/cart_items/index.html.erb:6
  Rendered cart_items/index.html.erb within layouts/application (12.3ms)
  Rendered layouts/_header.html.erb (1.1ms)
  Rendered layouts/_alert.html.erb (0.2ms)
Completed 200 OK in 63ms (Views: 41.6ms | ActiveRecord: 18.5ms)


Started GET "/" for ::1 at 2023-04-20 10:47:13 -0700
Processing by ProductsController#index as HTML
  [1m[36mUser Load (4.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:7
  Rendering products/index.html.erb within layouts/application
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" WHERE (user_id != 1)[0m
  â†³ app/views/products/index.html.erb:6
  Rendered products/index.html.erb within layouts/application (1.9ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_alert.html.erb (0.2ms)
Completed 200 OK in 67ms (Views: 52.7ms | ActiveRecord: 5.6ms)


Started GET "/" for ::1 at 2023-04-20 10:47:15 -0700
Processing by ProductsController#index as HTML
  [1m[36mUser Load (3.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:7
  Rendering products/index.html.erb within layouts/application
  [1m[35m (1.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" WHERE (user_id != 1)[0m
  â†³ app/views/products/index.html.erb:6
  Rendered products/index.html.erb within layouts/application (4.7ms)
  Rendered layouts/_header.html.erb (0.9ms)
  Rendered layouts/_alert.html.erb (0.2ms)
Completed 200 OK in 72ms (Views: 57.6ms | ActiveRecord: 4.7ms)


Started GET "/products/mine" for ::1 at 2023-04-20 10:47:17 -0700
Processing by ProductsController#mine as HTML
  [1m[36mUser Load (4.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:16
  Rendering products/mine.html.erb within layouts/application
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (user_id = 1)[0m
  â†³ app/views/products/mine.html.erb:9
  [1m[36mActiveStorage::Attachment Exists (2.4ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/mine.html.erb:13
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"]]
  â†³ app/views/products/mine.html.erb:16
  [1m[36mCACHE ActiveStorage::Attachment Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/models/product.rb:18
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"]]
  â†³ app/models/product.rb:18
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/product.rb:18
[36m  Disk Storage (0.0ms) [0m[34mChecked if file exists at key: variants/87if5mpwZoq2cxbp5wP74s5U/d53adedc97214a86f733c99ccf8eea276ebd79310a2d392decb9ededdf5b75ec (yes)[0m
  Rendered products/mine.html.erb within layouts/application (9.8ms)
  Rendered layouts/_header.html.erb (1.2ms)
  Rendered layouts/_alert.html.erb (0.2ms)
Completed 200 OK in 69ms (Views: 50.0ms | ActiveRecord: 9.8ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSm5kbUZ5YVdGdWRITXZPRGRwWmpWdGNIZGFiM0V5WTNoaWNEVjNVRGMwY3pWVkwyUTFNMkZrWldSak9UY3lNVFJoT0RabU56TXpZems1WTJObU9HVmxZVEkzTm1WaVpEYzVNekV3WVRKa016a3laR1ZqWWpsbFpHVmtaR1kxWWpjMVpXTUdPZ1pGVkRvUVpHbHpjRzl6YVhScGIyNUpJZ0YrYVc1c2FXNWxPeUJtYVd4bGJtRnRaVDBpVTJOeVpXVnVjMmh2ZENBeU1ESXpMVEEwTFRFNElHRjBJREV4TGpFNExqSXpJRUZOTG5CdVp5STdJR1pwYkdWdVlXMWxLajFWVkVZdE9DY25VMk55WldWdWMyaHZkQ1V5TURJd01qTXRNRFF0TVRnbE1qQmhkQ1V5TURFeExqRTRMakl6SlRJd1FVMHVjRzVuQmpzR1ZEb1JZMjl1ZEdWdWRGOTBlWEJsU1NJT2FXMWhaMlV2Y0c1bkJqc0dWQT09IiwiZXhwIjoiMjAyMy0wNC0yMFQxNzo1MTo1OS44NTZaIiwicHVyIjoiYmxvYl9rZXkifX0=--e5157e10c574ad89bbd09d0e516a5b72e065e22e/Screenshot%202023-04-18%20at%2011.18.23%20AM.png?content_type=image%2Fpng&disposition=inline%3B+filename%3D%22Screenshot+2023-04-18+at+11.18.23+AM.png%22%3B+filename%2A%3DUTF-8%27%27Screenshot%25202023-04-18%2520at%252011.18.23%2520AM.png" for ::1 at 2023-04-20 10:47:17 -0700
Processing by ActiveStorage::DiskController#show as PNG
  Parameters: {"content_type"=>"image/png", "disposition"=>"inline; filename=\"Screenshot 2023-04-18 at 11.18.23 AM.png\"; filename*=UTF-8''Screenshot%202023-04-18%20at%2011.18.23%20AM.png", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSm5kbUZ5YVdGdWRITXZPRGRwWmpWdGNIZGFiM0V5WTNoaWNEVjNVRGMwY3pWVkwyUTFNMkZrWldSak9UY3lNVFJoT0RabU56TXpZems1WTJObU9HVmxZVEkzTm1WaVpEYzVNekV3WVRKa016a3laR1ZqWWpsbFpHVmtaR1kxWWpjMVpXTUdPZ1pGVkRvUVpHbHpjRzl6YVhScGIyNUpJZ0YrYVc1c2FXNWxPeUJtYVd4bGJtRnRaVDBpVTJOeVpXVnVjMmh2ZENBeU1ESXpMVEEwTFRFNElHRjBJREV4TGpFNExqSXpJRUZOTG5CdVp5STdJR1pwYkdWdVlXMWxLajFWVkVZdE9DY25VMk55WldWdWMyaHZkQ1V5TURJd01qTXRNRFF0TVRnbE1qQmhkQ1V5TURFeExqRTRMakl6SlRJd1FVMHVjRzVuQmpzR1ZEb1JZMjl1ZEdWdWRGOTBlWEJsU1NJT2FXMWhaMlV2Y0c1bkJqc0dWQT09IiwiZXhwIjoiMjAyMy0wNC0yMFQxNzo1MTo1OS44NTZaIiwicHVyIjoiYmxvYl9rZXkifX0=--e5157e10c574ad89bbd09d0e516a5b72e065e22e", "filename"=>"Screenshot 2023-04-18 at 11.18.23 AM"}
Completed 304 Not Modified in 1ms (ActiveRecord: 0.0ms)


Started GET "/" for ::1 at 2023-04-20 10:47:20 -0700
Processing by ProductsController#index as HTML
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:7
  Rendering products/index.html.erb within layouts/application
  [1m[35m (3.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" WHERE (user_id != 1)[0m
  â†³ app/views/products/index.html.erb:6
  Rendered products/index.html.erb within layouts/application (6.1ms)
  Rendered layouts/_header.html.erb (1.1ms)
  Rendered layouts/_alert.html.erb (0.2ms)
Completed 200 OK in 82ms (Views: 71.5ms | ActiveRecord: 4.7ms)


Started DELETE "/users/sign_out" for ::1 at 2023-04-20 10:47:21 -0700
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"ehIC/+lZDpzyaCtkk5N6TeoXtvG62WyRzI46tNq1W1pw9jicgn9KmfSrsfkoyClfbBDP6GfLcx7on6vWEAXRQg=="}
  [1m[36mUser Load (3.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ /Users/dev/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.6/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/dev/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.6/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/dev/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.6/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/
Completed 302 Found in 20ms (ActiveRecord: 3.7ms)


Started GET "/" for ::1 at 2023-04-20 10:47:21 -0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[35m (5.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  â†³ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/views/products/index.html.erb:7
  [1m[36mActiveStorage::Attachment Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/index.html.erb:11
  [1m[35m (28.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"]]
  â†³ app/views/products/index.html.erb:14
  [1m[36mCACHE ActiveStorage::Attachment Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/models/product.rb:18
  [1m[36mActiveStorage::Attachment Load (4.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"]]
  â†³ app/models/product.rb:18
  [1m[36mActiveStorage::Blob Load (0.7ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/product.rb:18
[36m  Disk Storage (0.1ms) [0m[34mChecked if file exists at key: variants/87if5mpwZoq2cxbp5wP74s5U/d53adedc97214a86f733c99ccf8eea276ebd79310a2d392decb9ededdf5b75ec (yes)[0m
  Rendered products/index.html.erb within layouts/application (52.4ms)
  Rendered layouts/_header.html.erb (0.9ms)
  Rendered layouts/_alert.html.erb (0.2ms)
Completed 200 OK in 107ms (Views: 64.1ms | ActiveRecord: 41.3ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSm5kbUZ5YVdGdWRITXZPRGRwWmpWdGNIZGFiM0V5WTNoaWNEVjNVRGMwY3pWVkwyUTFNMkZrWldSak9UY3lNVFJoT0RabU56TXpZems1WTJObU9HVmxZVEkzTm1WaVpEYzVNekV3WVRKa016a3laR1ZqWWpsbFpHVmtaR1kxWWpjMVpXTUdPZ1pGVkRvUVpHbHpjRzl6YVhScGIyNUpJZ0YrYVc1c2FXNWxPeUJtYVd4bGJtRnRaVDBpVTJOeVpXVnVjMmh2ZENBeU1ESXpMVEEwTFRFNElHRjBJREV4TGpFNExqSXpJRUZOTG5CdVp5STdJR1pwYkdWdVlXMWxLajFWVkVZdE9DY25VMk55WldWdWMyaHZkQ1V5TURJd01qTXRNRFF0TVRnbE1qQmhkQ1V5TURFeExqRTRMakl6SlRJd1FVMHVjRzVuQmpzR1ZEb1JZMjl1ZEdWdWRGOTBlWEJsU1NJT2FXMWhaMlV2Y0c1bkJqc0dWQT09IiwiZXhwIjoiMjAyMy0wNC0yMFQxNzo1MTo1OS44NTZaIiwicHVyIjoiYmxvYl9rZXkifX0=--e5157e10c574ad89bbd09d0e516a5b72e065e22e/Screenshot%202023-04-18%20at%2011.18.23%20AM.png?content_type=image%2Fpng&disposition=inline%3B+filename%3D%22Screenshot+2023-04-18+at+11.18.23+AM.png%22%3B+filename%2A%3DUTF-8%27%27Screenshot%25202023-04-18%2520at%252011.18.23%2520AM.png" for ::1 at 2023-04-20 10:47:21 -0700
Processing by ActiveStorage::DiskController#show as PNG
  Parameters: {"content_type"=>"image/png", "disposition"=>"inline; filename=\"Screenshot 2023-04-18 at 11.18.23 AM.png\"; filename*=UTF-8''Screenshot%202023-04-18%20at%2011.18.23%20AM.png", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSm5kbUZ5YVdGdWRITXZPRGRwWmpWdGNIZGFiM0V5WTNoaWNEVjNVRGMwY3pWVkwyUTFNMkZrWldSak9UY3lNVFJoT0RabU56TXpZems1WTJObU9HVmxZVEkzTm1WaVpEYzVNekV3WVRKa016a3laR1ZqWWpsbFpHVmtaR1kxWWpjMVpXTUdPZ1pGVkRvUVpHbHpjRzl6YVhScGIyNUpJZ0YrYVc1c2FXNWxPeUJtYVd4bGJtRnRaVDBpVTJOeVpXVnVjMmh2ZENBeU1ESXpMVEEwTFRFNElHRjBJREV4TGpFNExqSXpJRUZOTG5CdVp5STdJR1pwYkdWdVlXMWxLajFWVkVZdE9DY25VMk55WldWdWMyaHZkQ1V5TURJd01qTXRNRFF0TVRnbE1qQmhkQ1V5TURFeExqRTRMakl6SlRJd1FVMHVjRzVuQmpzR1ZEb1JZMjl1ZEdWdWRGOTBlWEJsU1NJT2FXMWhaMlV2Y0c1bkJqc0dWQT09IiwiZXhwIjoiMjAyMy0wNC0yMFQxNzo1MTo1OS44NTZaIiwicHVyIjoiYmxvYl9rZXkifX0=--e5157e10c574ad89bbd09d0e516a5b72e065e22e", "filename"=>"Screenshot 2023-04-18 at 11.18.23 AM"}
Completed 304 Not Modified in 0ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for ::1 at 2023-04-20 10:47:23 -0700
Processing by Devise::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_error_messages.html.erb (0.7ms)
  Rendered devise/shared/_links.html.erb (0.6ms)
  Rendered devise/registrations/new.html.erb within layouts/application (8.3ms)
  Rendered layouts/_header.html.erb (0.9ms)
  Rendered layouts/_alert.html.erb (0.4ms)
Completed 200 OK in 61ms (Views: 59.2ms | ActiveRecord: 0.0ms)


Started POST "/users" for ::1 at 2023-04-20 10:47:35 -0700
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"G+Pj1VzOopqebLC3GOc7zjY2ys7IaPbUvAaWwKt2LYOtx2Cw8Oibg0uPzb5l133excYdthXyI/solB3vKaCalw==", "user"=>{"full_name"=>"guest", "email"=>"guest@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "role"=>"0", "commit"=>"Sign up"}
Unpermitted parameter: :password_confirmation
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/dev/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.6/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "guest@gmail.com"], ["LIMIT", 1]]
  â†³ /Users/dev/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.6/lib/active_record/log_subscriber.rb:98
  [1m[35m (3.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/dev/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.6/lib/active_record/log_subscriber.rb:98
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_error_messages.html.erb (0.7ms)
  Rendered devise/shared/_links.html.erb (0.6ms)
  Rendered devise/registrations/new.html.erb within layouts/application (5.3ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_alert.html.erb (0.2ms)
Completed 200 OK in 327ms (Views: 46.2ms | ActiveRecord: 4.6ms)


Started POST "/users" for ::1 at 2023-04-20 10:47:40 -0700
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"MpwNAI2yUBCOntARpNbLrxcsBF6hmDSZhIK/r5urktQ4eDdj5pQUFYhdSowfjZi9kSt9R3yKKxagky7NURsYzA==", "user"=>{"full_name"=>"guest123", "email"=>"guest@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "role"=>"0", "commit"=>"Sign up"}
Unpermitted parameter: :password_confirmation
  [1m[35m (1.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/dev/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.6/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "guest@gmail.com"], ["LIMIT", 1]]
  â†³ /Users/dev/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.6/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/dev/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.6/lib/active_record/log_subscriber.rb:98
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_error_messages.html.erb (0.6ms)
  Rendered devise/shared/_links.html.erb (0.4ms)
  Rendered devise/registrations/new.html.erb within layouts/application (4.6ms)
  Rendered layouts/_header.html.erb (0.9ms)
  Rendered layouts/_alert.html.erb (0.2ms)
Completed 200 OK in 52ms (Views: 42.3ms | ActiveRecord: 1.9ms)


Started POST "/users" for ::1 at 2023-04-20 10:47:44 -0700
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"qW8E76sshjG0EfSOe/zerYS1Y/AJrk1XAnscVhcjJtKjiz6MwArCNLLSbhPAp42/ArIa6dS8Utgmao003ZOsyg==", "user"=>{"full_name"=>"guest123", "email"=>"guest@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "role"=>"0", "commit"=>"Sign up"}
Unpermitted parameter: :password_confirmation
  [1m[35m (2.7ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/dev/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.6/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "guest@gmail.com"], ["LIMIT", 1]]
  â†³ /Users/dev/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.6/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Create (1.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "full_name", "confirmation_token", "confirmation_sent_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "guest@gmail.com"], ["encrypted_password", "$2a$12$VziIITe/GPlw/3.nMKyUteRIG7QF9E/b4vpgO7XQA3iYEjJySGxTy"], ["full_name", "guest123"], ["confirmation_token", "dyfP4Z7vL7kVgeYtXHpU"], ["confirmation_sent_at", "2023-04-20 17:47:44.415232"], ["created_at", "2023-04-20 17:47:44.415135"], ["updated_at", "2023-04-20 17:47:44.415135"]]
  â†³ /Users/dev/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.6/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/dev/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.6/lib/active_record/log_subscriber.rb:98
  Rendering devise/mailer/confirmation_instructions.html.erb
  Rendered devise/mailer/confirmation_instructions.html.erb (0.5ms)
Devise::Mailer#confirmation_instructions: processed outbound mail in 33.0ms
Sent mail to guest@gmail.com (174.8ms)
Date: Thu, 20 Apr 2023 10:47:44 -0700
From: please-change-me-at-config-initializers-devise@example.com
Reply-To: please-change-me-at-config-initializers-devise@example.com
To: guest@gmail.com
Message-ID: <64417ac06e51f_84443fdd4cd44f5462362@the-showdown.mail>
Subject: Confirmation instructions
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Welcome guest@gmail.com!</p>

<p>You can confirm your account email through the link below:</p>

<p><a href="http://localhost:3000/users/confirmation?confirmation_token=dyfP4Z7vL7kVgeYtXHpU">Confirm my account</a></p>

Redirected to http://localhost:3000/
Completed 302 Found in 496ms (ActiveRecord: 5.3ms)


Started GET "/" for ::1 at 2023-04-20 10:47:44 -0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  â†³ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/views/products/index.html.erb:7
  [1m[36mActiveStorage::Attachment Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/index.html.erb:11
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"]]
  â†³ app/views/products/index.html.erb:14
  [1m[36mCACHE ActiveStorage::Attachment Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/models/product.rb:18
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"]]
  â†³ app/models/product.rb:18
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/product.rb:18
[36m  Disk Storage (0.0ms) [0m[34mChecked if file exists at key: variants/87if5mpwZoq2cxbp5wP74s5U/d53adedc97214a86f733c99ccf8eea276ebd79310a2d392decb9ededdf5b75ec (yes)[0m
  Rendered products/index.html.erb within layouts/application (7.2ms)
  Rendered layouts/_header.html.erb (0.9ms)
  Rendered layouts/_alert.html.erb (0.2ms)
Completed 200 OK in 46ms (Views: 41.7ms | ActiveRecord: 2.8ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSm5kbUZ5YVdGdWRITXZPRGRwWmpWdGNIZGFiM0V5WTNoaWNEVjNVRGMwY3pWVkwyUTFNMkZrWldSak9UY3lNVFJoT0RabU56TXpZems1WTJObU9HVmxZVEkzTm1WaVpEYzVNekV3WVRKa016a3laR1ZqWWpsbFpHVmtaR1kxWWpjMVpXTUdPZ1pGVkRvUVpHbHpjRzl6YVhScGIyNUpJZ0YrYVc1c2FXNWxPeUJtYVd4bGJtRnRaVDBpVTJOeVpXVnVjMmh2ZENBeU1ESXpMVEEwTFRFNElHRjBJREV4TGpFNExqSXpJRUZOTG5CdVp5STdJR1pwYkdWdVlXMWxLajFWVkVZdE9DY25VMk55WldWdWMyaHZkQ1V5TURJd01qTXRNRFF0TVRnbE1qQmhkQ1V5TURFeExqRTRMakl6SlRJd1FVMHVjRzVuQmpzR1ZEb1JZMjl1ZEdWdWRGOTBlWEJsU1NJT2FXMWhaMlV2Y0c1bkJqc0dWQT09IiwiZXhwIjoiMjAyMy0wNC0yMFQxNzo1MTo1OS44NTZaIiwicHVyIjoiYmxvYl9rZXkifX0=--e5157e10c574ad89bbd09d0e516a5b72e065e22e/Screenshot%202023-04-18%20at%2011.18.23%20AM.png?content_type=image%2Fpng&disposition=inline%3B+filename%3D%22Screenshot+2023-04-18+at+11.18.23+AM.png%22%3B+filename%2A%3DUTF-8%27%27Screenshot%25202023-04-18%2520at%252011.18.23%2520AM.png" for ::1 at 2023-04-20 10:47:44 -0700
Processing by ActiveStorage::DiskController#show as PNG
  Parameters: {"content_type"=>"image/png", "disposition"=>"inline; filename=\"Screenshot 2023-04-18 at 11.18.23 AM.png\"; filename*=UTF-8''Screenshot%202023-04-18%20at%2011.18.23%20AM.png", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSm5kbUZ5YVdGdWRITXZPRGRwWmpWdGNIZGFiM0V5WTNoaWNEVjNVRGMwY3pWVkwyUTFNMkZrWldSak9UY3lNVFJoT0RabU56TXpZems1WTJObU9HVmxZVEkzTm1WaVpEYzVNekV3WVRKa016a3laR1ZqWWpsbFpHVmtaR1kxWWpjMVpXTUdPZ1pGVkRvUVpHbHpjRzl6YVhScGIyNUpJZ0YrYVc1c2FXNWxPeUJtYVd4bGJtRnRaVDBpVTJOeVpXVnVjMmh2ZENBeU1ESXpMVEEwTFRFNElHRjBJREV4TGpFNExqSXpJRUZOTG5CdVp5STdJR1pwYkdWdVlXMWxLajFWVkVZdE9DY25VMk55WldWdWMyaHZkQ1V5TURJd01qTXRNRFF0TVRnbE1qQmhkQ1V5TURFeExqRTRMakl6SlRJd1FVMHVjRzVuQmpzR1ZEb1JZMjl1ZEdWdWRGOTBlWEJsU1NJT2FXMWhaMlV2Y0c1bkJqc0dWQT09IiwiZXhwIjoiMjAyMy0wNC0yMFQxNzo1MTo1OS44NTZaIiwicHVyIjoiYmxvYl9rZXkifX0=--e5157e10c574ad89bbd09d0e516a5b72e065e22e", "filename"=>"Screenshot 2023-04-18 at 11.18.23 AM"}
Completed 304 Not Modified in 1ms (ActiveRecord: 0.0ms)


  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Update (1.8ms)[0m  [1m[33mUPDATE "users" SET "confirmed_at" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["confirmed_at", "2023-04-20 17:46:53.359956"], ["updated_at", "2023-04-20 17:47:53.375894"], ["id", 2]]
  [1m[35m (4.7ms)[0m  [1m[35mCOMMIT[0m
Started GET "/users/sign_in" for ::1 at 2023-04-20 10:47:55 -0700
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (0.6ms)
  Rendered devise/sessions/new.html.erb within layouts/application (3.1ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_alert.html.erb (0.3ms)
Completed 200 OK in 51ms (Views: 50.4ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for ::1 at 2023-04-20 10:48:01 -0700
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"pDalfAKVGx0FFZz/R4cloZM+VECPhS+TWORljk5hfE+1healmn6n40AuztOTG3ywlKXhwxL+bexzMZ6ebIMMuQ==", "user"=>{"email"=>"guest@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "guest@gmail.com"], ["LIMIT", 1]]
  â†³ /Users/dev/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.6/lib/active_record/log_subscriber.rb:98
  [1m[35m (1.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/controllers/concerns/load_cart.rb:37
Redirected to http://localhost:3000/
Completed 302 Found in 300ms (ActiveRecord: 3.3ms)


Started GET "/" for ::1 at 2023-04-20 10:48:01 -0700
Processing by ProductsController#index as HTML
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:7
  Rendering products/index.html.erb within layouts/application
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" WHERE (user_id != 2)[0m
  â†³ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (user_id != 2)[0m
  â†³ app/views/products/index.html.erb:7
  [1m[36mActiveStorage::Attachment Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/index.html.erb:11
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"]]
  â†³ app/views/products/index.html.erb:14
  [1m[36mCACHE ActiveStorage::Attachment Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/models/product.rb:18
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"]]
  â†³ app/models/product.rb:18
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/product.rb:18
[36m  Disk Storage (0.0ms) [0m[34mChecked if file exists at key: variants/87if5mpwZoq2cxbp5wP74s5U/d53adedc97214a86f733c99ccf8eea276ebd79310a2d392decb9ededdf5b75ec (yes)[0m
  Rendered products/index.html.erb within layouts/application (6.0ms)
  Rendered layouts/_header.html.erb (0.9ms)
  Rendered layouts/_alert.html.erb (0.2ms)
Completed 200 OK in 45ms (Views: 39.5ms | ActiveRecord: 3.0ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSm5kbUZ5YVdGdWRITXZPRGRwWmpWdGNIZGFiM0V5WTNoaWNEVjNVRGMwY3pWVkwyUTFNMkZrWldSak9UY3lNVFJoT0RabU56TXpZems1WTJObU9HVmxZVEkzTm1WaVpEYzVNekV3WVRKa016a3laR1ZqWWpsbFpHVmtaR1kxWWpjMVpXTUdPZ1pGVkRvUVpHbHpjRzl6YVhScGIyNUpJZ0YrYVc1c2FXNWxPeUJtYVd4bGJtRnRaVDBpVTJOeVpXVnVjMmh2ZENBeU1ESXpMVEEwTFRFNElHRjBJREV4TGpFNExqSXpJRUZOTG5CdVp5STdJR1pwYkdWdVlXMWxLajFWVkVZdE9DY25VMk55WldWdWMyaHZkQ1V5TURJd01qTXRNRFF0TVRnbE1qQmhkQ1V5TURFeExqRTRMakl6SlRJd1FVMHVjRzVuQmpzR1ZEb1JZMjl1ZEdWdWRGOTBlWEJsU1NJT2FXMWhaMlV2Y0c1bkJqc0dWQT09IiwiZXhwIjoiMjAyMy0wNC0yMFQxNzo1MTo1OS44NTZaIiwicHVyIjoiYmxvYl9rZXkifX0=--e5157e10c574ad89bbd09d0e516a5b72e065e22e/Screenshot%202023-04-18%20at%2011.18.23%20AM.png?content_type=image%2Fpng&disposition=inline%3B+filename%3D%22Screenshot+2023-04-18+at+11.18.23+AM.png%22%3B+filename%2A%3DUTF-8%27%27Screenshot%25202023-04-18%2520at%252011.18.23%2520AM.png" for ::1 at 2023-04-20 10:48:01 -0700
Processing by ActiveStorage::DiskController#show as PNG
  Parameters: {"content_type"=>"image/png", "disposition"=>"inline; filename=\"Screenshot 2023-04-18 at 11.18.23 AM.png\"; filename*=UTF-8''Screenshot%202023-04-18%20at%2011.18.23%20AM.png", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSm5kbUZ5YVdGdWRITXZPRGRwWmpWdGNIZGFiM0V5WTNoaWNEVjNVRGMwY3pWVkwyUTFNMkZrWldSak9UY3lNVFJoT0RabU56TXpZems1WTJObU9HVmxZVEkzTm1WaVpEYzVNekV3WVRKa016a3laR1ZqWWpsbFpHVmtaR1kxWWpjMVpXTUdPZ1pGVkRvUVpHbHpjRzl6YVhScGIyNUpJZ0YrYVc1c2FXNWxPeUJtYVd4bGJtRnRaVDBpVTJOeVpXVnVjMmh2ZENBeU1ESXpMVEEwTFRFNElHRjBJREV4TGpFNExqSXpJRUZOTG5CdVp5STdJR1pwYkdWdVlXMWxLajFWVkVZdE9DY25VMk55WldWdWMyaHZkQ1V5TURJd01qTXRNRFF0TVRnbE1qQmhkQ1V5TURFeExqRTRMakl6SlRJd1FVMHVjRzVuQmpzR1ZEb1JZMjl1ZEdWdWRGOTBlWEJsU1NJT2FXMWhaMlV2Y0c1bkJqc0dWQT09IiwiZXhwIjoiMjAyMy0wNC0yMFQxNzo1MTo1OS44NTZaIiwicHVyIjoiYmxvYl9rZXkifX0=--e5157e10c574ad89bbd09d0e516a5b72e065e22e", "filename"=>"Screenshot 2023-04-18 at 11.18.23 AM"}
Completed 304 Not Modified in 1ms (ActiveRecord: 0.0ms)


Started GET "/products/1" for ::1 at 2023-04-20 10:48:04 -0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:68
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:69
  [1m[36mUser Load (14.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/policies/product_policy.rb:23
  Rendering products/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Exists (8.7ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:5
  [1m[35m (3.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"]]
  â†³ app/views/products/show.html.erb:8
  [1m[36mCACHE ActiveStorage::Attachment Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/models/product.rb:18
  [1m[36mActiveStorage::Attachment Load (7.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"]]
  â†³ app/models/product.rb:18
  [1m[36mActiveStorage::Blob Load (0.7ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/product.rb:18
[36m  Disk Storage (0.0ms) [0m[34mChecked if file exists at key: variants/87if5mpwZoq2cxbp5wP74s5U/70525d7663667f5b7a11b7db09f44d2bb45b01693e8a7b758fa6b76a42d8ef29 (no)[0m
[36m  Disk Storage (0.7ms) [0m[34mDownloaded file from key: 87if5mpwZoq2cxbp5wP74s5U[0m
[36m  Disk Storage (0.7ms) [0m[32mUploaded file to key: variants/87if5mpwZoq2cxbp5wP74s5U/70525d7663667f5b7a11b7db09f44d2bb45b01693e8a7b758fa6b76a42d8ef29[0m
  Rendered cart_items/_form.html.erb (8.6ms)
  [1m[35m (8.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."product_id" = $1[0m  [["product_id", 1]]
  â†³ app/views/products/show.html.erb:47
  Rendered comments/_form.html.erb (16.1ms)
  Rendered products/show.html.erb within layouts/application (297.7ms)
  Rendered layouts/_header.html.erb (0.9ms)
  Rendered layouts/_alert.html.erb (0.2ms)
Completed 200 OK in 400ms (Views: 290.9ms | ActiveRecord: 85.6ms)


Started GET "/rails/active_storage/representations/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--f57375bb7c294a0651708b1198785d173bb2a503/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdCam9MY21WemFYcGxTU0lJTmpVd0Jqb0dSVlE9IiwiZXhwIjpudWxsLCJwdXIiOiJ2YXJpYXRpb24ifX0=--ac7e18ce420aeb925ab1ba96076ffb0c2fbf389e/Screenshot%202023-04-18%20at%2011.18.23%20AM.png" for ::1 at 2023-04-20 10:48:04 -0700
Processing by ActiveStorage::RepresentationsController#show as PNG
  Parameters: {"signed_blob_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--f57375bb7c294a0651708b1198785d173bb2a503", "variation_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdCam9MY21WemFYcGxTU0lJTmpVd0Jqb0dSVlE9IiwiZXhwIjpudWxsLCJwdXIiOiJ2YXJpYXRpb24ifX0=--ac7e18ce420aeb925ab1ba96076ffb0c2fbf389e", "filename"=>"Screenshot 2023-04-18 at 11.18.23 AM"}
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ /Users/dev/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.6/lib/active_record/log_subscriber.rb:98
[36m  Disk Storage (0.0ms) [0m[34mChecked if file exists at key: variants/87if5mpwZoq2cxbp5wP74s5U/70525d7663667f5b7a11b7db09f44d2bb45b01693e8a7b758fa6b76a42d8ef29 (yes)[0m
[36m  Disk Storage (0.4ms) [0m[34mGenerated URL for file at key: variants/87if5mpwZoq2cxbp5wP74s5U/70525d7663667f5b7a11b7db09f44d2bb45b01693e8a7b758fa6b76a42d8ef29 (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSm5kbUZ5YVdGdWRITXZPRGRwWmpWdGNIZGFiM0V5WTNoaWNEVjNVRGMwY3pWVkx6Y3dOVEkxWkRjMk5qTTJOamRtTldJM1lURXhZamRrWWpBNVpqUTBaREppWWpRMVlqQXhOamt6WlRoaE4ySTNOVGhtWVRaaU56WmhOREprT0dWbU1qa0dPZ1pGVkRvUVpHbHpjRzl6YVhScGIyNUpJZ0YrYVc1c2FXNWxPeUJtYVd4bGJtRnRaVDBpVTJOeVpXVnVjMmh2ZENBeU1ESXpMVEEwTFRFNElHRjBJREV4TGpFNExqSXpJRUZOTG5CdVp5STdJR1pwYkdWdVlXMWxLajFWVkVZdE9DY25VMk55WldWdWMyaHZkQ1V5TURJd01qTXRNRFF0TVRnbE1qQmhkQ1V5TURFeExqRTRMakl6SlRJd1FVMHVjRzVuQmpzR1ZEb1JZMjl1ZEdWdWRGOTBlWEJsU1NJT2FXMWhaMlV2Y0c1bkJqc0dWQT09IiwiZXhwIjoiMjAyMy0wNC0yMFQxNzo1MzowNC42NjdaIiwicHVyIjoiYmxvYl9rZXkifX0=--8245c392283e6ea630a6416ad355f68c1252ba65/Screenshot%202023-04-18%20at%2011.18.23%20AM.png?content_type=image%2Fpng&disposition=inline%3B+filename%3D%22Screenshot+2023-04-18+at+11.18.23+AM.png%22%3B+filename%2A%3DUTF-8%27%27Screenshot%25202023-04-18%2520at%252011.18.23%2520AM.png)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSm5kbUZ5YVdGdWRITXZPRGRwWmpWdGNIZGFiM0V5WTNoaWNEVjNVRGMwY3pWVkx6Y3dOVEkxWkRjMk5qTTJOamRtTldJM1lURXhZamRrWWpBNVpqUTBaREppWWpRMVlqQXhOamt6WlRoaE4ySTNOVGhtWVRaaU56WmhOREprT0dWbU1qa0dPZ1pGVkRvUVpHbHpjRzl6YVhScGIyNUpJZ0YrYVc1c2FXNWxPeUJtYVd4bGJtRnRaVDBpVTJOeVpXVnVjMmh2ZENBeU1ESXpMVEEwTFRFNElHRjBJREV4TGpFNExqSXpJRUZOTG5CdVp5STdJR1pwYkdWdVlXMWxLajFWVkVZdE9DY25VMk55WldWdWMyaHZkQ1V5TURJd01qTXRNRFF0TVRnbE1qQmhkQ1V5TURFeExqRTRMakl6SlRJd1FVMHVjRzVuQmpzR1ZEb1JZMjl1ZEdWdWRGOTBlWEJsU1NJT2FXMWhaMlV2Y0c1bkJqc0dWQT09IiwiZXhwIjoiMjAyMy0wNC0yMFQxNzo1MzowNC42NjdaIiwicHVyIjoiYmxvYl9rZXkifX0=--8245c392283e6ea630a6416ad355f68c1252ba65/Screenshot%202023-04-18%20at%2011.18.23%20AM.png?content_type=image%2Fpng&disposition=inline%3B+filename%3D%22Screenshot+2023-04-18+at+11.18.23+AM.png%22%3B+filename%2A%3DUTF-8%27%27Screenshot%25202023-04-18%2520at%252011.18.23%2520AM.png
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSm5kbUZ5YVdGdWRITXZPRGRwWmpWdGNIZGFiM0V5WTNoaWNEVjNVRGMwY3pWVkx6Y3dOVEkxWkRjMk5qTTJOamRtTldJM1lURXhZamRrWWpBNVpqUTBaREppWWpRMVlqQXhOamt6WlRoaE4ySTNOVGhtWVRaaU56WmhOREprT0dWbU1qa0dPZ1pGVkRvUVpHbHpjRzl6YVhScGIyNUpJZ0YrYVc1c2FXNWxPeUJtYVd4bGJtRnRaVDBpVTJOeVpXVnVjMmh2ZENBeU1ESXpMVEEwTFRFNElHRjBJREV4TGpFNExqSXpJRUZOTG5CdVp5STdJR1pwYkdWdVlXMWxLajFWVkVZdE9DY25VMk55WldWdWMyaHZkQ1V5TURJd01qTXRNRFF0TVRnbE1qQmhkQ1V5TURFeExqRTRMakl6SlRJd1FVMHVjRzVuQmpzR1ZEb1JZMjl1ZEdWdWRGOTBlWEJsU1NJT2FXMWhaMlV2Y0c1bkJqc0dWQT09IiwiZXhwIjoiMjAyMy0wNC0yMFQxNzo1MzowNC42NjdaIiwicHVyIjoiYmxvYl9rZXkifX0=--8245c392283e6ea630a6416ad355f68c1252ba65/Screenshot%202023-04-18%20at%2011.18.23%20AM.png?content_type=image%2Fpng&disposition=inline%3B+filename%3D%22Screenshot+2023-04-18+at+11.18.23+AM.png%22%3B+filename%2A%3DUTF-8%27%27Screenshot%25202023-04-18%2520at%252011.18.23%2520AM.png" for ::1 at 2023-04-20 10:48:04 -0700
Processing by ActiveStorage::DiskController#show as PNG
  Parameters: {"content_type"=>"image/png", "disposition"=>"inline; filename=\"Screenshot 2023-04-18 at 11.18.23 AM.png\"; filename*=UTF-8''Screenshot%202023-04-18%20at%2011.18.23%20AM.png", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSm5kbUZ5YVdGdWRITXZPRGRwWmpWdGNIZGFiM0V5WTNoaWNEVjNVRGMwY3pWVkx6Y3dOVEkxWkRjMk5qTTJOamRtTldJM1lURXhZamRrWWpBNVpqUTBaREppWWpRMVlqQXhOamt6WlRoaE4ySTNOVGhtWVRaaU56WmhOREprT0dWbU1qa0dPZ1pGVkRvUVpHbHpjRzl6YVhScGIyNUpJZ0YrYVc1c2FXNWxPeUJtYVd4bGJtRnRaVDBpVTJOeVpXVnVjMmh2ZENBeU1ESXpMVEEwTFRFNElHRjBJREV4TGpFNExqSXpJRUZOTG5CdVp5STdJR1pwYkdWdVlXMWxLajFWVkVZdE9DY25VMk55WldWdWMyaHZkQ1V5TURJd01qTXRNRFF0TVRnbE1qQmhkQ1V5TURFeExqRTRMakl6SlRJd1FVMHVjRzVuQmpzR1ZEb1JZMjl1ZEdWdWRGOTBlWEJsU1NJT2FXMWhaMlV2Y0c1bkJqc0dWQT09IiwiZXhwIjoiMjAyMy0wNC0yMFQxNzo1MzowNC42NjdaIiwicHVyIjoiYmxvYl9rZXkifX0=--8245c392283e6ea630a6416ad355f68c1252ba65", "filename"=>"Screenshot 2023-04-18 at 11.18.23 AM"}
Completed 200 OK in 1ms (ActiveRecord: 0.0ms)


Started POST "/cart_items" for ::1 at 2023-04-20 10:48:16 -0700
Processing by CartItemsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"yKW8SjEqCB3+XMaSy3ru/eo7dEzg39Llh4Kl5Sc8V8OI+Oo+6saN9rCZzxSapIxhF955dQmerPCXpEGvRtu3+A==", "cart_item"=>{"product_id"=>"1", "quantity"=>"5"}, "commit"=>"Add to cart"}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cart_items_controller.rb:21
  [1m[36mCartItem Load (0.5ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."product_id" = $1 AND "cart_items"."user_id" = $2 LIMIT $3[0m  [["product_id", 1], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/helpers/cart_item_helper.rb:5
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/helpers/cart_item_helper.rb:5
  [1m[36mUser Load (2.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/helpers/cart_item_helper.rb:5
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/helpers/cart_item_helper.rb:5
  [1m[36mCartItem Create (2.9ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 2], ["product_id", 1], ["created_at", "2023-04-20 17:48:16.045024"], ["updated_at", "2023-04-20 17:48:16.045024"]]
  â†³ app/helpers/cart_item_helper.rb:5
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/helpers/cart_item_helper.rb:5
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/helpers/cart_item_helper.rb:11
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/helpers/cart_item_helper.rb:13
  [1m[36mCartItem Update (0.5ms)[0m  [1m[33mUPDATE "cart_items" SET "quantity" = $1, "updated_at" = $2 WHERE "cart_items"."id" = $3[0m  [["quantity", 5], ["updated_at", "2023-04-20 17:48:16.050838"], ["id", 1]]
  â†³ app/helpers/cart_item_helper.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/helpers/cart_item_helper.rb:13
Redirected to http://localhost:3000/cart_items
Completed 302 Found in 32ms (ActiveRecord: 9.6ms)


Started GET "/cart_items" for ::1 at 2023-04-20 10:48:16 -0700
Processing by CartItemsController#index as HTML
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cart_items_controller.rb:7
  Rendering cart_items/index.html.erb within layouts/application
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:6
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:20
  [1m[36mCartItem Load (1.2ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:23
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:23
  [1m[36mActiveStorage::Attachment Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:25
  [1m[36mCACHE ActiveStorage::Attachment Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/models/product.rb:18
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"]]
  â†³ app/models/product.rb:18
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/product.rb:18
[36m  Disk Storage (0.2ms) [0m[34mChecked if file exists at key: variants/87if5mpwZoq2cxbp5wP74s5U/d5e0661f964c96f1a753d1d56ba158fb5d7ca340169576e789eae5f4d9fc7031 (yes)[0m
  Rendered cart_items/_quantity.html.erb (1.4ms)
  Rendered cart_items/index.html.erb within layouts/application (21.8ms)
  Rendered layouts/_header.html.erb (1.1ms)
  Rendered layouts/_alert.html.erb (0.3ms)
Completed 200 OK in 67ms (Views: 58.7ms | ActiveRecord: 5.8ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSm5kbUZ5YVdGdWRITXZPRGRwWmpWdGNIZGFiM0V5WTNoaWNEVjNVRGMwY3pWVkwyUTFaVEEyTmpGbU9UWTBZemsyWmpGaE56VXpaREZrTlRaaVlURTFPR1ppTldRM1kyRXpOREF4TmprMU56WmxOemc1WldGbE5XWTBaRGxtWXpjd016RUdPZ1pGVkRvUVpHbHpjRzl6YVhScGIyNUpJZ0YrYVc1c2FXNWxPeUJtYVd4bGJtRnRaVDBpVTJOeVpXVnVjMmh2ZENBeU1ESXpMVEEwTFRFNElHRjBJREV4TGpFNExqSXpJRUZOTG5CdVp5STdJR1pwYkdWdVlXMWxLajFWVkVZdE9DY25VMk55WldWdWMyaHZkQ1V5TURJd01qTXRNRFF0TVRnbE1qQmhkQ1V5TURFeExqRTRMakl6SlRJd1FVMHVjRzVuQmpzR1ZEb1JZMjl1ZEdWdWRGOTBlWEJsU1NJT2FXMWhaMlV2Y0c1bkJqc0dWQT09IiwiZXhwIjoiMjAyMy0wNC0yMFQxNzo1MjowNi41NTZaIiwicHVyIjoiYmxvYl9rZXkifX0=--404dbc444660a39f4b7d9eb2ec436b2a12735365/Screenshot%202023-04-18%20at%2011.18.23%20AM.png?content_type=image%2Fpng&disposition=inline%3B+filename%3D%22Screenshot+2023-04-18+at+11.18.23+AM.png%22%3B+filename%2A%3DUTF-8%27%27Screenshot%25202023-04-18%2520at%252011.18.23%2520AM.png" for ::1 at 2023-04-20 10:48:16 -0700
Processing by ActiveStorage::DiskController#show as PNG
  Parameters: {"content_type"=>"image/png", "disposition"=>"inline; filename=\"Screenshot 2023-04-18 at 11.18.23 AM.png\"; filename*=UTF-8''Screenshot%202023-04-18%20at%2011.18.23%20AM.png", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSm5kbUZ5YVdGdWRITXZPRGRwWmpWdGNIZGFiM0V5WTNoaWNEVjNVRGMwY3pWVkwyUTFaVEEyTmpGbU9UWTBZemsyWmpGaE56VXpaREZrTlRaaVlURTFPR1ppTldRM1kyRXpOREF4TmprMU56WmxOemc1WldGbE5XWTBaRGxtWXpjd016RUdPZ1pGVkRvUVpHbHpjRzl6YVhScGIyNUpJZ0YrYVc1c2FXNWxPeUJtYVd4bGJtRnRaVDBpVTJOeVpXVnVjMmh2ZENBeU1ESXpMVEEwTFRFNElHRjBJREV4TGpFNExqSXpJRUZOTG5CdVp5STdJR1pwYkdWdVlXMWxLajFWVkVZdE9DY25VMk55WldWdWMyaHZkQ1V5TURJd01qTXRNRFF0TVRnbE1qQmhkQ1V5TURFeExqRTRMakl6SlRJd1FVMHVjRzVuQmpzR1ZEb1JZMjl1ZEdWdWRGOTBlWEJsU1NJT2FXMWhaMlV2Y0c1bkJqc0dWQT09IiwiZXhwIjoiMjAyMy0wNC0yMFQxNzo1MjowNi41NTZaIiwicHVyIjoiYmxvYl9rZXkifX0=--404dbc444660a39f4b7d9eb2ec436b2a12735365", "filename"=>"Screenshot 2023-04-18 at 11.18.23 AM"}
Completed 304 Not Modified in 1ms (ActiveRecord: 0.0ms)


Started POST "/checkouts" for ::1 at 2023-04-20 10:48:18 -0700
Processing by CheckoutsController#create as JS
  Parameters: {"authenticity_token"=>"dKcfg6vwyo1f9I0bvFLhJ8f/sbD1SVRE5Vq6CkReImsmxAxbx9VDTB+U3cDFSj98l+b9v2rpI3J7lVXw1b715Q=="}
  [1m[36mUser Load (4.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/checkouts_controller.rb:7
  [1m[36mCartItem Load (9.6ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/helpers/cart_item_helper.rb:34
  [1m[36mProduct Load (1.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/helpers/cart_item_helper.rb:37
  [1m[36mCACHE CartItem Load (0.0ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/helpers/cart_item_helper.rb:34
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/helpers/cart_item_helper.rb:37
Completed 500 Internal Server Error in 73ms (ActiveRecord: 14.7ms)


  
Stripe::AuthenticationError (No API key provided. Set your API key using "Stripe.api_key = <API-KEY>". You can generate API keys from the Stripe web interface. See https://stripe.com/api for details, or email support@stripe.com if you have any questions.):
  
app/controllers/checkouts_controller.rb:19:in `create'
Started POST "/checkouts" for ::1 at 2023-04-20 10:48:20 -0700
Processing by CheckoutsController#create as JS
  Parameters: {"authenticity_token"=>"dKcfg6vwyo1f9I0bvFLhJ8f/sbD1SVRE5Vq6CkReImsmxAxbx9VDTB+U3cDFSj98l+b9v2rpI3J7lVXw1b715Q=="}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/checkouts_controller.rb:7
  [1m[36mCartItem Load (8.0ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/helpers/cart_item_helper.rb:34
  [1m[36mProduct Load (2.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/helpers/cart_item_helper.rb:37
  [1m[36mCACHE CartItem Load (0.0ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/helpers/cart_item_helper.rb:34
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/helpers/cart_item_helper.rb:37
Completed 500 Internal Server Error in 73ms (ActiveRecord: 11.6ms)


  
Stripe::AuthenticationError (No API key provided. Set your API key using "Stripe.api_key = <API-KEY>". You can generate API keys from the Stripe web interface. See https://stripe.com/api for details, or email support@stripe.com if you have any questions.):
  
app/controllers/checkouts_controller.rb:19:in `create'
Started POST "/checkouts" for ::1 at 2023-04-20 10:48:21 -0700
Processing by CheckoutsController#create as JS
  Parameters: {"authenticity_token"=>"dKcfg6vwyo1f9I0bvFLhJ8f/sbD1SVRE5Vq6CkReImsmxAxbx9VDTB+U3cDFSj98l+b9v2rpI3J7lVXw1b715Q=="}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/checkouts_controller.rb:7
  [1m[36mCartItem Load (1.6ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/helpers/cart_item_helper.rb:34
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/helpers/cart_item_helper.rb:37
  [1m[36mCACHE CartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/helpers/cart_item_helper.rb:34
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/helpers/cart_item_helper.rb:37
Completed 500 Internal Server Error in 58ms (ActiveRecord: 3.0ms)


  
Stripe::AuthenticationError (No API key provided. Set your API key using "Stripe.api_key = <API-KEY>". You can generate API keys from the Stripe web interface. See https://stripe.com/api for details, or email support@stripe.com if you have any questions.):
  
app/controllers/checkouts_controller.rb:19:in `create'
Started POST "/checkouts" for ::1 at 2023-04-20 10:48:21 -0700
Processing by CheckoutsController#create as JS
  Parameters: {"authenticity_token"=>"dKcfg6vwyo1f9I0bvFLhJ8f/sbD1SVRE5Vq6CkReImsmxAxbx9VDTB+U3cDFSj98l+b9v2rpI3J7lVXw1b715Q=="}
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/checkouts_controller.rb:7
  [1m[36mCartItem Load (1.0ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/helpers/cart_item_helper.rb:34
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/helpers/cart_item_helper.rb:37
  [1m[36mCACHE CartItem Load (0.0ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/helpers/cart_item_helper.rb:34
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/helpers/cart_item_helper.rb:37
Completed 500 Internal Server Error in 17ms (ActiveRecord: 3.0ms)


  
Stripe::AuthenticationError (No API key provided. Set your API key using "Stripe.api_key = <API-KEY>". You can generate API keys from the Stripe web interface. See https://stripe.com/api for details, or email support@stripe.com if you have any questions.):
  
app/controllers/checkouts_controller.rb:19:in `create'
Started POST "/checkouts" for ::1 at 2023-04-20 10:48:21 -0700
Processing by CheckoutsController#create as JS
  Parameters: {"authenticity_token"=>"dKcfg6vwyo1f9I0bvFLhJ8f/sbD1SVRE5Vq6CkReImsmxAxbx9VDTB+U3cDFSj98l+b9v2rpI3J7lVXw1b715Q=="}
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/checkouts_controller.rb:7
  [1m[36mCartItem Load (1.7ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/helpers/cart_item_helper.rb:34
  [1m[36mProduct Load (1.6ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/helpers/cart_item_helper.rb:37
  [1m[36mCACHE CartItem Load (0.0ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/helpers/cart_item_helper.rb:34
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/helpers/cart_item_helper.rb:37
Completed 500 Internal Server Error in 9ms (ActiveRecord: 5.2ms)


  
Stripe::AuthenticationError (No API key provided. Set your API key using "Stripe.api_key = <API-KEY>". You can generate API keys from the Stripe web interface. See https://stripe.com/api for details, or email support@stripe.com if you have any questions.):
  
app/controllers/checkouts_controller.rb:19:in `create'
  [1m[35m (2.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
  [1m[35m (13.0ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  â†³ bin/rails:9
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  â†³ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  â†³ bin/rails:9
  [1m[35m (8711.9ms)[0m  [1m[35mDROP DATABASE IF EXISTS "dev"[0m
  â†³ bin/rails:9
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  â†³ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  â†³ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  â†³ bin/rails:9
  [1m[35m (246.3ms)[0m  [1m[35mDROP DATABASE IF EXISTS "dev"[0m
  â†³ bin/rails:9
  [1m[35m (0.4ms)[0m  [1m[35mDROP DATABASE IF EXISTS "dev"[0m
  â†³ bin/rails:9
  [1m[35m (148.3ms)[0m  [1m[35mCREATE DATABASE "dev" ENCODING = 'unicode'[0m
  â†³ bin/rails:9
  [1m[35m (1.5ms)[0m  [1m[35mCREATE DATABASE "dev" ENCODING = 'unicode'[0m
  â†³ bin/rails:9
  [1m[35m (8.3ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  â†³ bin/rails:9
  [1m[35m (2.5ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  â†³ bin/rails:9
  [1m[35m (1.5ms)[0m  [1m[34mSELECT pg_try_advisory_lock(601276535802311985)[0m
  â†³ bin/rails:9
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
Migrating to DeviseCreateUsers (20230131165958)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:9
  [1m[35m (8.7ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "full_name" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "confirmation_token" character varying, "confirmed_at" timestamp, "confirmation_sent_at" timestamp, "unconfirmed_email" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  â†³ db/migrate/20230131165958_devise_create_users.rb:5
  [1m[35m (0.8ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_email" ON "users"  ("email")[0m
  â†³ db/migrate/20230131165958_devise_create_users.rb:39
  [1m[35m (0.6ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users"  ("reset_password_token")[0m
  â†³ db/migrate/20230131165958_devise_create_users.rb:40
  [1m[35m (0.9ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_confirmation_token" ON "users"  ("confirmation_token")[0m
  â†³ db/migrate/20230131165958_devise_create_users.rb:41
  [1m[36mActiveRecord::SchemaMigration Create (1.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230131165958"]]
  â†³ bin/rails:9
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:9
Migrating to CreateProducts (20230131175123)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:9
  [1m[35m (7.5ms)[0m  [1m[35mCREATE TABLE "products" ("id" bigserial primary key, "name" character varying DEFAULT '' NOT NULL, "description" text DEFAULT '' NOT NULL, "price" decimal DEFAULT 1 NOT NULL, "quantity" integer DEFAULT 5 NOT NULL, "user_id" bigint NOT NULL, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_dee2631783"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  â†³ db/migrate/20230131175123_create_products.rb:5
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_products_on_user_id" ON "products"  ("user_id")[0m
  â†³ db/migrate/20230131175123_create_products.rb:5
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230131175123"]]
  â†³ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:9
Migrating to CreateComments (20230201035221)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:9
  [1m[35m (9.9ms)[0m  [1m[35mCREATE TABLE "comments" ("id" bigserial primary key, "body" text DEFAULT '' NOT NULL, "user_id" bigint NOT NULL, "product_id" bigint NOT NULL, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_03de2dc08c"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_a0d280f6e4"
FOREIGN KEY ("product_id")
  REFERENCES "products" ("id")
)[0m
  â†³ db/migrate/20230201035221_create_comments.rb:5
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_comments_on_user_id" ON "comments"  ("user_id")[0m
  â†³ db/migrate/20230201035221_create_comments.rb:5
  [1m[35m (1.0ms)[0m  [1m[35mCREATE  INDEX  "index_comments_on_product_id" ON "comments"  ("product_id")[0m
  â†³ db/migrate/20230201035221_create_comments.rb:5
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230201035221"]]
  â†³ bin/rails:9
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:9
Migrating to CreateCartItems (20230201035448)
  [1m[35m (5.1ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:9
  [1m[35m (5.6ms)[0m  [1m[35mCREATE TABLE "cart_items" ("id" bigserial primary key, "quantity" integer DEFAULT 0 NOT NULL, "user_id" bigint NOT NULL, "product_id" bigint NOT NULL, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_fcb2cbf0bc"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_681a180e84"
FOREIGN KEY ("product_id")
  REFERENCES "products" ("id")
)[0m
  â†³ db/migrate/20230201035448_create_cart_items.rb:5
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_cart_items_on_user_id" ON "cart_items"  ("user_id")[0m
  â†³ db/migrate/20230201035448_create_cart_items.rb:5
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_cart_items_on_product_id" ON "cart_items"  ("product_id")[0m
  â†³ db/migrate/20230201035448_create_cart_items.rb:5
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230201035448"]]
  â†³ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:9
Migrating to CreateOrders (20230201035610)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:9
  [1m[35m (2.7ms)[0m  [1m[35mCREATE TABLE "orders" ("id" bigserial primary key, "status" integer DEFAULT 0 NOT NULL, "amount_paid" decimal DEFAULT 0 NOT NULL, "user_id" bigint NOT NULL, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_f868b47f6a"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  â†³ db/migrate/20230201035610_create_orders.rb:5
  [1m[35m (0.5ms)[0m  [1m[35mCREATE  INDEX  "index_orders_on_user_id" ON "orders"  ("user_id")[0m
  â†³ db/migrate/20230201035610_create_orders.rb:5
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230201035610"]]
  â†³ bin/rails:9
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:9
Migrating to CreateOrderItems (20230201035703)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:9
  [1m[35m (6.1ms)[0m  [1m[35mCREATE TABLE "order_items" ("id" bigserial primary key, "product_name" character varying DEFAULT '' NOT NULL, "price" decimal DEFAULT 1 NOT NULL, "quantity" integer DEFAULT 1 NOT NULL, "order_id" bigint NOT NULL, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_e3cb28f071"
FOREIGN KEY ("order_id")
  REFERENCES "orders" ("id")
)[0m
  â†³ db/migrate/20230201035703_create_order_items.rb:5
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_order_items_on_order_id" ON "order_items"  ("order_id")[0m
  â†³ db/migrate/20230201035703_create_order_items.rb:5
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230201035703"]]
  â†³ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:9
Migrating to CreateActiveStorageTables (20230201074401)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:9
  [1m[35m (2.2ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" bigserial primary key, "key" character varying NOT NULL, "filename" character varying NOT NULL, "content_type" character varying, "metadata" text, "byte_size" bigint NOT NULL, "checksum" character varying NOT NULL, "created_at" timestamp NOT NULL)[0m
  â†³ db/migrate/20230201074401_create_active_storage_tables.active_storage.rb:6
  [1m[35m (0.5ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_active_storage_blobs_on_key" ON "active_storage_blobs"  ("key")[0m
  â†³ db/migrate/20230201074401_create_active_storage_tables.active_storage.rb:6
  [1m[35m (3.3ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" bigserial primary key, "name" character varying NOT NULL, "record_type" character varying NOT NULL, "record_id" bigint NOT NULL, "blob_id" bigint NOT NULL, "created_at" timestamp NOT NULL, CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  â†³ db/migrate/20230201074401_create_active_storage_tables.active_storage.rb:18
  [1m[35m (0.5ms)[0m  [1m[35mCREATE  INDEX  "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments"  ("blob_id")[0m
  â†³ db/migrate/20230201074401_create_active_storage_tables.active_storage.rb:18
  [1m[35m (0.9ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_active_storage_attachments_uniqueness" ON "active_storage_attachments"  ("record_type", "record_id", "name", "blob_id")[0m
  â†³ db/migrate/20230201074401_create_active_storage_tables.active_storage.rb:18
  [1m[36mActiveRecord::SchemaMigration Create (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230201074401"]]
  â†³ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:9
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  â†³ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:9
  [1m[36mActiveRecord::InternalMetadata Create (7.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-04-20 18:05:37.479131"], ["updated_at", "2023-04-20 18:05:37.479131"]]
  â†³ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(601276535802311985)[0m
  â†³ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
  [1m[35m (2.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  â†³ bin/rails:9
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  â†³ bin/rails:9
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  â†³ bin/rails:9
  [1m[35m (62.8ms)[0m  [1m[35mDROP DATABASE IF EXISTS "dev"[0m
  â†³ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[35mDROP DATABASE IF EXISTS "dev"[0m
  â†³ bin/rails:9
  [1m[35m (134.2ms)[0m  [1m[35mCREATE DATABASE "dev" ENCODING = 'unicode'[0m
  â†³ bin/rails:9
  [1m[35m (1.2ms)[0m  [1m[35mCREATE DATABASE "dev" ENCODING = 'unicode'[0m
  â†³ bin/rails:9
  [1m[35m (4.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  â†³ bin/rails:9
  [1m[35m (2.4ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  â†³ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(601276535802311985)[0m
  â†³ bin/rails:9
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
Migrating to DeviseCreateUsers (20230131165958)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:9
  [1m[35m (3.1ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "full_name" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "confirmation_token" character varying, "confirmed_at" timestamp, "confirmation_sent_at" timestamp, "unconfirmed_email" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  â†³ db/migrate/20230131165958_devise_create_users.rb:5
  [1m[35m (1.0ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_email" ON "users"  ("email")[0m
  â†³ db/migrate/20230131165958_devise_create_users.rb:39
  [1m[35m (0.6ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users"  ("reset_password_token")[0m
  â†³ db/migrate/20230131165958_devise_create_users.rb:40
  [1m[35m (0.6ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_confirmation_token" ON "users"  ("confirmation_token")[0m
  â†³ db/migrate/20230131165958_devise_create_users.rb:41
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230131165958"]]
  â†³ bin/rails:9
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:9
Migrating to CreateProducts (20230131175123)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:9
  [1m[35m (3.4ms)[0m  [1m[35mCREATE TABLE "products" ("id" bigserial primary key, "name" character varying DEFAULT '' NOT NULL, "description" text DEFAULT '' NOT NULL, "price" decimal DEFAULT 1 NOT NULL, "quantity" integer DEFAULT 5 NOT NULL, "user_id" bigint NOT NULL, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_dee2631783"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  â†³ db/migrate/20230131175123_create_products.rb:5
  [1m[35m (0.4ms)[0m  [1m[35mCREATE  INDEX  "index_products_on_user_id" ON "products"  ("user_id")[0m
  â†³ db/migrate/20230131175123_create_products.rb:5
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230131175123"]]
  â†³ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:9
Migrating to CreateCartItems (20230201035448)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:9
  [1m[35m (2.6ms)[0m  [1m[35mCREATE TABLE "cart_items" ("id" bigserial primary key, "quantity" integer DEFAULT 0 NOT NULL, "user_id" bigint NOT NULL, "product_id" bigint NOT NULL, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_fcb2cbf0bc"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_681a180e84"
FOREIGN KEY ("product_id")
  REFERENCES "products" ("id")
)[0m
  â†³ db/migrate/20230201035448_create_cart_items.rb:5
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_cart_items_on_user_id" ON "cart_items"  ("user_id")[0m
  â†³ db/migrate/20230201035448_create_cart_items.rb:5
  [1m[35m (0.5ms)[0m  [1m[35mCREATE  INDEX  "index_cart_items_on_product_id" ON "cart_items"  ("product_id")[0m
  â†³ db/migrate/20230201035448_create_cart_items.rb:5
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230201035448"]]
  â†³ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:9
Migrating to CreateOrders (20230201035610)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:9
  [1m[35m (3.1ms)[0m  [1m[35mCREATE TABLE "orders" ("id" bigserial primary key, "status" integer DEFAULT 0 NOT NULL, "amount_paid" decimal DEFAULT 0 NOT NULL, "user_id" bigint NOT NULL, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_f868b47f6a"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  â†³ db/migrate/20230201035610_create_orders.rb:5
  [1m[35m (0.4ms)[0m  [1m[35mCREATE  INDEX  "index_orders_on_user_id" ON "orders"  ("user_id")[0m
  â†³ db/migrate/20230201035610_create_orders.rb:5
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230201035610"]]
  â†³ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:9
Migrating to CreateOrderItems (20230201035703)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:9
  [1m[35m (2.9ms)[0m  [1m[35mCREATE TABLE "order_items" ("id" bigserial primary key, "product_name" character varying DEFAULT '' NOT NULL, "price" decimal DEFAULT 1 NOT NULL, "quantity" integer DEFAULT 1 NOT NULL, "order_id" bigint NOT NULL, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_e3cb28f071"
FOREIGN KEY ("order_id")
  REFERENCES "orders" ("id")
)[0m
  â†³ db/migrate/20230201035703_create_order_items.rb:5
  [1m[35m (0.4ms)[0m  [1m[35mCREATE  INDEX  "index_order_items_on_order_id" ON "order_items"  ("order_id")[0m
  â†³ db/migrate/20230201035703_create_order_items.rb:5
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230201035703"]]
  â†³ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:9
Migrating to CreateActiveStorageTables (20230201074401)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:9
  [1m[35m (3.0ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" bigserial primary key, "key" character varying NOT NULL, "filename" character varying NOT NULL, "content_type" character varying, "metadata" text, "byte_size" bigint NOT NULL, "checksum" character varying NOT NULL, "created_at" timestamp NOT NULL)[0m
  â†³ db/migrate/20230201074401_create_active_storage_tables.active_storage.rb:6
  [1m[35m (0.5ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_active_storage_blobs_on_key" ON "active_storage_blobs"  ("key")[0m
  â†³ db/migrate/20230201074401_create_active_storage_tables.active_storage.rb:6
  [1m[35m (4.0ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" bigserial primary key, "name" character varying NOT NULL, "record_type" character varying NOT NULL, "record_id" bigint NOT NULL, "blob_id" bigint NOT NULL, "created_at" timestamp NOT NULL, CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  â†³ db/migrate/20230201074401_create_active_storage_tables.active_storage.rb:18
  [1m[35m (0.5ms)[0m  [1m[35mCREATE  INDEX  "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments"  ("blob_id")[0m
  â†³ db/migrate/20230201074401_create_active_storage_tables.active_storage.rb:18
  [1m[35m (1.3ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_active_storage_attachments_uniqueness" ON "active_storage_attachments"  ("record_type", "record_id", "name", "blob_id")[0m
  â†³ db/migrate/20230201074401_create_active_storage_tables.active_storage.rb:18
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230201074401"]]
  â†³ bin/rails:9
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:9
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  â†³ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:9
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-04-20 18:07:55.648670"], ["updated_at", "2023-04-20 18:07:55.648670"]]
  â†³ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(601276535802311985)[0m
  â†³ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(601276535802311985)[0m
  â†³ bin/rails:9
  [1m[35m (2.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  â†³ bin/rails:9
  [1m[35m (3.0ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:9
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(601276535802311985)[0m
  â†³ bin/rails:9
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
Started GET "/cart_items" for ::1 at 2023-04-20 11:18:53 -0700
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ /Users/dev/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.6/lib/active_record/log_subscriber.rb:98
DEPRECATION WARNING: 'include Pundit' is deprecated. Please use 'include Pundit::Authorization' instead.
 (called from include at /Users/dev/Documents/repos/ecommerceApp-main/app/controllers/concerns/authorizable.rb:7)
Processing by CartItemsController#index as HTML
  [1m[36mUser Load (2.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cart_items_controller.rb:6
  Rendering cart_items/index.html.erb within layouts/application
  Rendered cart_items/index.html.erb within layouts/application (1.5ms)
  Rendered layouts/_header.html.erb (3.6ms)
  Rendered layouts/_alert.html.erb (0.2ms)
Completed 200 OK in 288ms (Views: 237.7ms | ActiveRecord: 25.9ms)


Started GET "/users/sign_up" for ::1 at 2023-04-20 11:18:56 -0700
Processing by Devise::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_error_messages.html.erb (0.3ms)
  Rendered devise/shared/_links.html.erb (0.7ms)
  Rendered devise/registrations/new.html.erb within layouts/application (141.0ms)
  Rendered layouts/_header.html.erb (0.9ms)
  Rendered layouts/_alert.html.erb (0.2ms)
Completed 200 OK in 192ms (Views: 180.0ms | ActiveRecord: 0.0ms)


Started POST "/users" for ::1 at 2023-04-20 11:19:13 -0700
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"vs7xlsA/qckufyoLyUs7pdR3SZE2krGhSqU3xFjkOyxWIJZ+t9Z+fqARE4pu0vGAt/UzJYu4ZiEbGBCJfpoaMA==", "user"=>{"full_name"=>"salmanali", "email"=>"salman@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "role"=>"0", "commit"=>"Sign up"}
Unpermitted parameter: :password_confirmation
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/dev/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.6/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Exists (6.9ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "salman@gmail.com"], ["LIMIT", 1]]
  â†³ /Users/dev/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.6/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Create (2.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "full_name", "confirmation_token", "confirmation_sent_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "salman@gmail.com"], ["encrypted_password", "$2a$12$viEtu34M81E6BKJMcqzraegdjK3emSbhH5EXXzYB/VXiACGQBWIR2"], ["full_name", "salmanali"], ["confirmation_token", "h3r9zfdrRaYxHtT4fn2W"], ["confirmation_sent_at", "2023-04-20 18:19:13.321869"], ["created_at", "2023-04-20 18:19:13.321752"], ["updated_at", "2023-04-20 18:19:13.321752"]]
  â†³ /Users/dev/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.6/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/dev/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.6/lib/active_record/log_subscriber.rb:98
  Rendering devise/mailer/confirmation_instructions.html.erb
  Rendered devise/mailer/confirmation_instructions.html.erb (0.5ms)
Devise::Mailer#confirmation_instructions: processed outbound mail in 140.6ms
Sent mail to salman@gmail.com (84.5ms)
Date: Thu, 20 Apr 2023 11:19:13 -0700
From: please-change-me-at-config-initializers-devise@example.com
Reply-To: please-change-me-at-config-initializers-devise@example.com
To: salman@gmail.com
Message-ID: <6441822183b88_51153fe1af24d7ec32637@the-showdown.mail>
Subject: Confirmation instructions
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Welcome salman@gmail.com!</p>

<p>You can confirm your account email through the link below:</p>

<p><a href="http://localhost:3000/users/confirmation?confirmation_token=h3r9zfdrRaYxHtT4fn2W">Confirm my account</a></p>

Redirected to http://localhost:3000/
Completed 302 Found in 583ms (ActiveRecord: 10.5ms)


Started GET "/" for ::1 at 2023-04-20 11:19:13 -0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[35m (2.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  â†³ app/views/products/index.html.erb:6
  Rendered products/index.html.erb within layouts/application (16.8ms)
  Rendered layouts/_header.html.erb (1.3ms)
  Rendered layouts/_alert.html.erb (0.3ms)
Completed 200 OK in 82ms (Views: 60.1ms | ActiveRecord: 15.2ms)


  [1m[36mUser Load (4.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (1.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Update (7.3ms)[0m  [1m[33mUPDATE "users" SET "confirmed_at" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["confirmed_at", "2023-04-20 18:18:24.412952"], ["updated_at", "2023-04-20 18:19:24.422598"], ["id", 1]]
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
Started GET "/users/sign_in" for ::1 at 2023-04-20 11:19:28 -0700
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (1.0ms)
  Rendered devise/sessions/new.html.erb within layouts/application (5.4ms)
  Rendered layouts/_header.html.erb (1.1ms)
  Rendered layouts/_alert.html.erb (0.2ms)
Completed 200 OK in 83ms (Views: 82.3ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for ::1 at 2023-04-20 11:19:33 -0700
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"oAU4LkWCQ136uffPdXL5zYK+LKxDC+IKp4JTKUgC7nrjufiRaa3XW3+rnNCkOUJxK7hi6kIUbs06PjiA1GZ7yQ==", "user"=>{"email"=>"salman@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "salman@gmail.com"], ["LIMIT", 1]]
  â†³ /Users/dev/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.6/lib/active_record/log_subscriber.rb:98
  [1m[35m (1.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/concerns/load_cart.rb:37
Redirected to http://localhost:3000/
Completed 302 Found in 309ms (ActiveRecord: 12.4ms)


Started GET "/" for ::1 at 2023-04-20 11:19:33 -0700
Processing by ProductsController#index as HTML
  [1m[36mUser Load (12.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:7
  Rendering products/index.html.erb within layouts/application
  [1m[35m (1.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" WHERE (user_id != 1)[0m
  â†³ app/views/products/index.html.erb:6
  Rendered products/index.html.erb within layouts/application (2.4ms)
  Rendered layouts/_header.html.erb (0.9ms)
  Rendered layouts/_alert.html.erb (0.3ms)
Completed 200 OK in 51ms (Views: 34.7ms | ActiveRecord: 14.1ms)


Started GET "/products/mine" for ::1 at 2023-04-20 11:19:37 -0700
Processing by ProductsController#mine as HTML
  [1m[36mUser Load (20.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:16
  Rendering products/mine.html.erb within layouts/application
  [1m[36mProduct Load (1.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (user_id = 1)[0m
  â†³ app/views/products/mine.html.erb:9
  Rendered products/mine.html.erb within layouts/application (4.7ms)
  Rendered layouts/_header.html.erb (0.9ms)
  Rendered layouts/_alert.html.erb (0.2ms)
Completed 200 OK in 83ms (Views: 54.1ms | ActiveRecord: 21.2ms)


Started GET "/products/new" for ::1 at 2023-04-20 11:19:38 -0700
Processing by ProductsController#new as HTML
  [1m[36mUser Load (2.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:12
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (88.4ms)
  Rendered products/new.html.erb within layouts/application (89.9ms)
  Rendered layouts/_header.html.erb (0.9ms)
  Rendered layouts/_alert.html.erb (0.2ms)
Completed 200 OK in 160ms (Views: 69.6ms | ActiveRecord: 69.3ms)


Started POST "/products" for ::1 at 2023-04-20 11:19:47 -0700
Processing by ProductsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"DICKoQYhma3n/mahj9U/EryM8ctrHJ44dsXWdY/Er8OM+k/eembLmzHOoz6OVey3CMsjXaP4sbmV8tkET69R3g==", "product"=>{"name"=>"hello product", "description"=>"123123123", "price"=>"1.0", "quantity"=>"5"}, "commit"=>"Create"}
  [1m[36mUser Load (9.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:22
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/products_controller.rb:24
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/controllers/products_controller.rb:24
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (2.4ms)
  Rendered products/new.html.erb within layouts/application (3.8ms)
  Rendered layouts/_header.html.erb (1.2ms)
  Rendered layouts/_alert.html.erb (0.3ms)
Completed 200 OK in 68ms (Views: 44.8ms | ActiveRecord: 9.7ms)


Started POST "/products" for ::1 at 2023-04-20 11:19:54 -0700
Processing by ProductsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"/1LYkN6PgIcJPWiApEScfLfwuZO5EFtN9tCeDah0d591Wdo2CUHUKWnC/GhOrEQoaHLQLWuR1WfI4uX+igdRmQ==", "product"=>{"name"=>"hello product", "description"=>"123123123123123", "price"=>"1.0", "quantity"=>"5"}, "commit"=>"Create"}
  [1m[36mUser Load (5.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:22
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/products_controller.rb:24
  [1m[36mProduct Create (27.2ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "hello product"], ["description", "123123123123123"], ["user_id", 1], ["created_at", "2023-04-20 18:19:54.096699"], ["updated_at", "2023-04-20 18:19:54.096699"]]
  â†³ app/controllers/products_controller.rb:24
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/products_controller.rb:24
Redirected to http://localhost:3000/products/mine
Completed 302 Found in 45ms (ActiveRecord: 33.1ms)


Started GET "/products/mine" for ::1 at 2023-04-20 11:19:54 -0700
Processing by ProductsController#mine as HTML
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:16
  Rendering products/mine.html.erb within layouts/application
  [1m[36mProduct Load (1.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (user_id = 1)[0m
  â†³ app/views/products/mine.html.erb:9
  [1m[36mActiveStorage::Attachment Exists (2.3ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/mine.html.erb:13
  Rendered products/mine.html.erb within layouts/application (19.6ms)
  Rendered layouts/_header.html.erb (0.9ms)
  Rendered layouts/_alert.html.erb (0.3ms)
Completed 200 OK in 77ms (Views: 64.2ms | ActiveRecord: 4.2ms)


Started DELETE "/users/sign_out" for ::1 at 2023-04-20 11:19:56 -0700
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"SkwexuxiMs3UWuW8HwqUgloIYkGQO/rrQc7kVWK9sxDARxxgO6xmY7SlcVT14kzWhYoL/0K6dMF//J+mQM6VFg=="}
  [1m[36mUser Load (16.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ /Users/dev/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.6/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/dev/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.6/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/dev/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.6/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/
Completed 302 Found in 29ms (ActiveRecord: 17.4ms)


Started GET "/" for ::1 at 2023-04-20 11:19:56 -0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[35m (5.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  â†³ app/views/products/index.html.erb:6
  [1m[36mProduct Load (1.8ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/views/products/index.html.erb:7
  [1m[36mActiveStorage::Attachment Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/index.html.erb:11
  Rendered products/index.html.erb within layouts/application (10.4ms)
  Rendered layouts/_header.html.erb (0.9ms)
  Rendered layouts/_alert.html.erb (0.2ms)
Completed 200 OK in 46ms (Views: 36.9ms | ActiveRecord: 8.0ms)


Started GET "/products/1" for ::1 at 2023-04-20 11:20:00 -0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:68
  Rendering products/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:5
  Rendered cart_items/_form.html.erb (7.0ms)
  Rendered products/show.html.erb within layouts/application (15.8ms)
  Rendered layouts/_header.html.erb (0.9ms)
  Rendered layouts/_alert.html.erb (0.2ms)
Completed 200 OK in 122ms (Views: 61.5ms | ActiveRecord: 37.6ms)


Started POST "/cart_items" for ::1 at 2023-04-20 11:20:04 -0700
Processing by CartItemsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"/T+I2+69yAglpQLGZxPbsmJbc7GWq/HWYHufFZqiNpGvStZLJz0xXU/1OQSVuBFRUMOOHMfSL9+lEOwMpU3iSA==", "cart_item"=>{"product_id"=>"1", "quantity"=>"4"}, "commit"=>"Add to cart"}
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 0], ["LIMIT", 1]]
  â†³ app/helpers/cart_item_helper.rb:21
Completed 404 Not Found in 4ms (ActiveRecord: 0.6ms)


  
ActiveRecord::RecordNotFound (Couldn't find Product with 'id'=0):
  
app/helpers/cart_item_helper.rb:21:in `add_to_session'
app/controllers/cart_items_controller.rb:20:in `create'
Started POST "/cart_items" for ::1 at 2023-04-20 11:20:10 -0700
Processing by CartItemsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"/T+I2+69yAglpQLGZxPbsmJbc7GWq/HWYHufFZqiNpGvStZLJz0xXU/1OQSVuBFRUMOOHMfSL9+lEOwMpU3iSA==", "cart_item"=>{"product_id"=>"1", "quantity"=>"4"}, "commit"=>"Add to cart"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 0], ["LIMIT", 1]]
  â†³ app/helpers/cart_item_helper.rb:21
Completed 404 Not Found in 2ms (ActiveRecord: 0.5ms)


  
ActiveRecord::RecordNotFound (Couldn't find Product with 'id'=0):
  
app/helpers/cart_item_helper.rb:21:in `add_to_session'
app/controllers/cart_items_controller.rb:20:in `create'
Started POST "/cart_items" for ::1 at 2023-04-20 11:24:00 -0700
Processing by CartItemsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"/T+I2+69yAglpQLGZxPbsmJbc7GWq/HWYHufFZqiNpGvStZLJz0xXU/1OQSVuBFRUMOOHMfSL9+lEOwMpU3iSA==", "cart_item"=>{"product_id"=>"1", "quantity"=>"4"}, "commit"=>"Add to cart"}
  [1m[36mProduct Load (1.7ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 0], ["LIMIT", 1]]
  â†³ app/helpers/cart_item_helper.rb:21
Completed 404 Not Found in 11ms (ActiveRecord: 1.7ms)


  
ActiveRecord::RecordNotFound (Couldn't find Product with 'id'=0):
  
app/helpers/cart_item_helper.rb:21:in `add_to_session'
app/controllers/cart_items_controller.rb:20:in `create'
Started POST "/cart_items" for ::1 at 2023-04-20 11:24:52 -0700
  [1m[35m (16.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ /Users/dev/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.6/lib/active_record/log_subscriber.rb:98
DEPRECATION WARNING: 'include Pundit' is deprecated. Please use 'include Pundit::Authorization' instead.
 (called from include at /Users/dev/Documents/repos/ecommerceApp-main/app/controllers/concerns/authorizable.rb:7)
Processing by CartItemsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"/T+I2+69yAglpQLGZxPbsmJbc7GWq/HWYHufFZqiNpGvStZLJz0xXU/1OQSVuBFRUMOOHMfSL9+lEOwMpU3iSA==", "cart_item"=>{"product_id"=>"1", "quantity"=>"4"}, "commit"=>"Add to cart"}
  [1m[36mProduct Load (2.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 0], ["LIMIT", 1]]
  â†³ app/helpers/cart_item_helper.rb:21
Completed 404 Not Found in 103ms (ActiveRecord: 76.8ms)


  
ActiveRecord::RecordNotFound (Couldn't find Product with 'id'=0):
  
app/helpers/cart_item_helper.rb:21:in `add_to_session'
app/controllers/cart_items_controller.rb:20:in `create'
Started GET "/" for ::1 at 2023-04-20 11:25:01 -0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[35m (8.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  â†³ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/views/products/index.html.erb:7
  [1m[36mActiveStorage::Attachment Exists (5.9ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/index.html.erb:11
  Rendered products/index.html.erb within layouts/application (212.8ms)
  Rendered layouts/_header.html.erb (3.8ms)
  Rendered layouts/_alert.html.erb (0.3ms)
Completed 200 OK in 423ms (Views: 372.9ms | ActiveRecord: 45.8ms)


Started GET "/products/1" for ::1 at 2023-04-20 11:25:04 -0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (7.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:68
  Rendering products/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Exists (1.9ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:5
  Rendered cart_items/_form.html.erb (2.8ms)
  Rendered products/show.html.erb within layouts/application (7.8ms)
  Rendered layouts/_header.html.erb (0.9ms)
  Rendered layouts/_alert.html.erb (0.2ms)
Completed 200 OK in 68ms (Views: 42.1ms | ActiveRecord: 8.8ms)


Started POST "/cart_items" for ::1 at 2023-04-20 11:25:05 -0700
Processing by CartItemsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"eZl9rk3XyTSr/qV04y6uh7u8+jesaQuEdW67+k1qo44r7CM+hFcwYcGunrYRhWRkiSQHmv0Q1Y2wBcjjcoV3Vw==", "cart_item"=>{"product_id"=>"1", "quantity"=>"1"}, "commit"=>"Add to cart"}
  [1m[36mProduct Load (5.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 0], ["LIMIT", 1]]
  â†³ app/helpers/cart_item_helper.rb:21
Completed 404 Not Found in 11ms (ActiveRecord: 5.4ms)


  
ActiveRecord::RecordNotFound (Couldn't find Product with 'id'=0):
  
app/helpers/cart_item_helper.rb:21:in `add_to_session'
app/controllers/cart_items_controller.rb:20:in `create'
Started POST "/cart_items" for ::1 at 2023-04-20 11:25:24 -0700
DEPRECATION WARNING: 'include Pundit' is deprecated. Please use 'include Pundit::Authorization' instead.
 (called from include at /Users/dev/Documents/repos/ecommerceApp-main/app/controllers/concerns/authorizable.rb:7)
Processing by CartItemsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"os3vh8fZXtXsywr6L6pRoB22QiVRUeg9FG91GpxYQ7goxu0hEBcKe4w0nhLFQon0wjQrm4PQZhcqXQ7pvitlvg==", "cart_item"=>{"product_id"=>"1", "quantity"=>"1"}, "commit"=>"Add to cart"}
Completed 500 Internal Server Error in 36ms (ActiveRecord: 28.7ms)


  
NoMethodError (undefined method `pry' for #<Binding:0x00007fac706c5948>
Did you mean?  try):
  
app/helpers/cart_item_helper.rb:21:in `add_to_session'
app/controllers/cart_items_controller.rb:20:in `create'
Started POST "/cart_items" for ::1 at 2023-04-20 11:25:36 -0700
DEPRECATION WARNING: 'include Pundit' is deprecated. Please use 'include Pundit::Authorization' instead.
 (called from include at /Users/dev/Documents/repos/ecommerceApp-main/app/controllers/concerns/authorizable.rb:7)
Processing by CartItemsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"os3vh8fZXtXsywr6L6pRoB22QiVRUeg9FG91GpxYQ7goxu0hEBcKe4w0nhLFQon0wjQrm4PQZhcqXQ7pvitlvg==", "cart_item"=>{"product_id"=>"1", "quantity"=>"1"}, "commit"=>"Add to cart"}
Completed 500 Internal Server Error in 200110ms (ActiveRecord: 46.2ms)


  
SystemExit (exit):
  
(byebug):1:in `exit'
(byebug):1:in `add_to_session'
app/helpers/cart_item_helper.rb:22:in `add_to_session'
app/controllers/cart_items_controller.rb:20:in `create'
Started POST "/cart_items" for ::1 at 2023-04-20 11:28:59 -0700
DEPRECATION WARNING: 'include Pundit' is deprecated. Please use 'include Pundit::Authorization' instead.
 (called from include at /Users/dev/Documents/repos/ecommerceApp-main/app/controllers/concerns/authorizable.rb:7)
Processing by CartItemsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"os3vh8fZXtXsywr6L6pRoB22QiVRUeg9FG91GpxYQ7goxu0hEBcKe4w0nhLFQon0wjQrm4PQZhcqXQ7pvitlvg==", "cart_item"=>{"product_id"=>"1", "quantity"=>"1"}, "commit"=>"Add to cart"}
  [1m[36mProduct Load (8.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/helpers/cart_item_helper.rb:22
Redirected to http://localhost:3000/cart_items
Completed 302 Found in 356ms (ActiveRecord: 124.3ms)


Started GET "/cart_items" for ::1 at 2023-04-20 11:29:01 -0700
Processing by CartItemsController#index as HTML
  [1m[36mProduct Load (1.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/cart_items_controller.rb:12
  [1m[36mCACHE Product Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/cart_items_controller.rb:13
  Rendering cart_items/index.html.erb within layouts/application
  [1m[36mCACHE Product Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:23
  [1m[36mActiveStorage::Attachment Exists (11.7ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:25
  Rendered cart_items/_quantity.html.erb (25.0ms)
  Rendered cart_items/index.html.erb within layouts/application (175.4ms)
  Rendered layouts/_header.html.erb (12.9ms)
  Rendered layouts/_alert.html.erb (6.8ms)
Completed 200 OK in 1346ms (Views: 1277.4ms | ActiveRecord: 35.2ms)


Started POST "/checkouts" for ::1 at 2023-04-20 11:29:23 -0700
Processing by CheckoutsController#create as JS
  Parameters: {"authenticity_token"=>"I1DFPxoQDqEsy3Y10Xj/R8vr5ZNSCi8Yrtyx1I66/PipW8eZzd5aD0w04t07kCcTFGmMLYCLoTKQ7sonrMna/g=="}
Redirected to http://localhost:3000/users/sign_in
Completed 200 OK in 18ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for ::1 at 2023-04-20 11:29:23 -0700
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (10.3ms)
  Rendered devise/sessions/new.html.erb within layouts/application (58.7ms)
  Rendered layouts/_header.html.erb (18.5ms)
  Rendered layouts/_alert.html.erb (3.2ms)
Completed 200 OK in 1471ms (Views: 1286.8ms | ActiveRecord: 54.4ms)


Started POST "/users/sign_in" for ::1 at 2023-04-20 11:29:32 -0700
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"wmurAsZdJYyirwujhDD5BrGavzLznd+Gc4EII91d5NmJ0OA1RUUSdd+xB9emC1UVuxjbWWqT2m/+COmqyOo1Bw==", "user"=>{"email"=>"salman@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (2.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "salman@gmail.com"], ["LIMIT", 1]]
  â†³ /Users/dev/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.6/lib/active_record/log_subscriber.rb:98
  [1m[36mProduct Load (10.9ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/concerns/load_cart.rb:19
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/concerns/load_cart.rb:22
  [1m[35m (12.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/concerns/load_cart.rb:37
Redirected to http://localhost:3000/
Completed 302 Found in 558ms (ActiveRecord: 27.8ms)


Started GET "/" for ::1 at 2023-04-20 11:29:32 -0700
Processing by ProductsController#index as HTML
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:7
  Rendering products/index.html.erb within layouts/application
  [1m[35m (13.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" WHERE (user_id != 1)[0m
  â†³ app/views/products/index.html.erb:6
  Rendered products/index.html.erb within layouts/application (29.3ms)
  Rendered layouts/_header.html.erb (18.5ms)
  Rendered layouts/_alert.html.erb (2.9ms)
Completed 200 OK in 1262ms (Views: 1206.7ms | ActiveRecord: 14.9ms)


Started DELETE "/users/sign_out" for ::1 at 2023-04-20 11:30:24 -0700
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ /Users/dev/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.6/lib/active_record/log_subscriber.rb:98
DEPRECATION WARNING: 'include Pundit' is deprecated. Please use 'include Pundit::Authorization' instead.
 (called from include at /Users/dev/Documents/repos/ecommerceApp-main/app/controllers/concerns/authorizable.rb:7)
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"k5G3OI1e9O0nmIkyh6wKuhz3kDh9kDGJtsCDtqsburgXQkFmp5Wty7EYXWrHAHkquS+Bcv7LdV/LDqBXFMaDhQ=="}
  [1m[36mUser Load (2.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ /Users/dev/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.6/lib/active_record/log_subscriber.rb:98
  [1m[35m (10.9ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/dev/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.6/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/dev/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.6/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/
Completed 302 Found in 257ms (ActiveRecord: 60.2ms)


Started GET "/" for ::1 at 2023-04-20 11:30:25 -0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[35m (3.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  â†³ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/views/products/index.html.erb:7
  [1m[36mActiveStorage::Attachment Exists (2.5ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/index.html.erb:11
  Rendered products/index.html.erb within layouts/application (81.3ms)
  Rendered layouts/_header.html.erb (4.3ms)
  Rendered layouts/_alert.html.erb (0.6ms)
Completed 200 OK in 266ms (Views: 192.3ms | ActiveRecord: 65.6ms)


Started GET "/users/sign_up" for ::1 at 2023-04-20 11:31:16 -0700
Processing by Devise::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_error_messages.html.erb (0.4ms)
  Rendered devise/shared/_links.html.erb (3.6ms)
  Rendered devise/registrations/new.html.erb within layouts/application (16.7ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_alert.html.erb (0.2ms)
Completed 200 OK in 66ms (Views: 65.1ms | ActiveRecord: 0.0ms)


Started POST "/users" for ::1 at 2023-04-20 11:31:29 -0700
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"E/DmZn2X6w4JKfYgU65kULP5VlK7sqk978Bq6hHOEfQxObTKMKUWBHqGjDhv+DBnkBz3HxvecBexvv7JzLAVYQ==", "user"=>{"full_name"=>"1hello12", "email"=>"hello@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "role"=>"0", "commit"=>"Sign up"}
Unpermitted parameter: :password_confirmation
  [1m[35m (1.6ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/dev/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.6/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "hello@gmail.com"], ["LIMIT", 1]]
  â†³ /Users/dev/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.6/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Create (2.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "full_name", "confirmation_token", "confirmation_sent_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "hello@gmail.com"], ["encrypted_password", "$2a$12$A6FUE4n0mlbcPySkqmRZp.xnpRtZuF0gdVMWY28P0icccyykzqNK6"], ["full_name", "1hello12"], ["confirmation_token", "rLqHDsxsTv7vS6vuZNB2"], ["confirmation_sent_at", "2023-04-20 18:31:29.641907"], ["created_at", "2023-04-20 18:31:29.641804"], ["updated_at", "2023-04-20 18:31:29.641804"]]
  â†³ /Users/dev/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.6/lib/active_record/log_subscriber.rb:98
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/dev/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.6/lib/active_record/log_subscriber.rb:98
  Rendering devise/mailer/confirmation_instructions.html.erb
  Rendered devise/mailer/confirmation_instructions.html.erb (0.6ms)
Devise::Mailer#confirmation_instructions: processed outbound mail in 150.4ms
Sent mail to hello@gmail.com (107.8ms)
Date: Thu, 20 Apr 2023 11:31:29 -0700
From: please-change-me-at-config-initializers-devise@example.com
Reply-To: please-change-me-at-config-initializers-devise@example.com
To: hello@gmail.com
Message-ID: <64418501d09e8_12af03fdc65f976f4566c6@the-showdown.mail>
Subject: Confirmation instructions
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Welcome hello@gmail.com!</p>

<p>You can confirm your account email through the link below:</p>

<p><a href="http://localhost:3000/users/confirmation?confirmation_token=rLqHDsxsTv7vS6vuZNB2">Confirm my account</a></p>

Redirected to http://localhost:3000/
Completed 302 Found in 601ms (ActiveRecord: 5.7ms)


Started GET "/" for ::1 at 2023-04-20 11:31:29 -0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[35m (5.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  â†³ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/views/products/index.html.erb:7
  [1m[36mActiveStorage::Attachment Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/index.html.erb:11
  Rendered products/index.html.erb within layouts/application (9.1ms)
  Rendered layouts/_header.html.erb (0.9ms)
  Rendered layouts/_alert.html.erb (0.2ms)
Completed 200 OK in 57ms (Views: 49.1ms | ActiveRecord: 6.5ms)


Started GET "/users/sign_in" for ::1 at 2023-04-20 11:33:44 -0700
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ /Users/dev/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.6/lib/active_record/log_subscriber.rb:98
DEPRECATION WARNING: 'include Pundit' is deprecated. Please use 'include Pundit::Authorization' instead.
 (called from include at /Users/dev/Documents/repos/ecommerceApp-main/app/controllers/concerns/authorizable.rb:7)
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (0.7ms)
  Rendered devise/sessions/new.html.erb within layouts/application (180.6ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_alert.html.erb (1.2ms)
Completed 200 OK in 412ms (Views: 359.9ms | ActiveRecord: 35.0ms)


Started POST "/users/sign_in" for ::1 at 2023-04-20 11:33:49 -0700
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"QaCf9KD6ROdji8F9qny/ISmO+lexZpQ3abRRftwrcJ6q3/V8qLcqpOaz1msprk/YSO24nWfu/J2KukquABMGsw==", "user"=>{"email"=>"hello@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (2.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "hello@gmail.com"], ["LIMIT", 1]]
  â†³ /Users/dev/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.6/lib/active_record/log_subscriber.rb:98
  [1m[35m (2.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/controllers/concerns/load_cart.rb:37
Redirected to http://localhost:3000/
Completed 302 Found in 309ms (ActiveRecord: 8.7ms)


Started GET "/" for ::1 at 2023-04-20 11:33:49 -0700
Processing by ProductsController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:7
  Rendering products/index.html.erb within layouts/application
  [1m[35m (2.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" WHERE (user_id != 2)[0m
  â†³ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (user_id != 2)[0m
  â†³ app/views/products/index.html.erb:7
  [1m[36mActiveStorage::Attachment Exists (1.6ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/index.html.erb:11
  Rendered products/index.html.erb within layouts/application (115.9ms)
  Rendered layouts/_header.html.erb (0.9ms)
  Rendered layouts/_alert.html.erb (0.2ms)
Completed 200 OK in 168ms (Views: 50.9ms | ActiveRecord: 101.0ms)


Started GET "/products/1" for ::1 at 2023-04-20 11:35:05 -0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:68
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:69
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/policies/product_policy.rb:23
  Rendering products/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Exists (4.7ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:5
  Rendered cart_items/_form.html.erb (2.3ms)
  Rendered products/show.html.erb within layouts/application (10.1ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_alert.html.erb (0.3ms)
Completed 200 OK in 105ms (Views: 51.8ms | ActiveRecord: 24.5ms)


Started POST "/cart_items" for ::1 at 2023-04-20 11:35:06 -0700
Processing by CartItemsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"0iW1owXklcSI7MECsvLZD7kflnESTawi14FprzQAPKRZ86Q3nMLrcEF8nuApr2czg50sMGuPMIyF1x1aQBnS0A==", "cart_item"=>{"product_id"=>"1", "quantity"=>"1"}, "commit"=>"Add to cart"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cart_items_controller.rb:20
  [1m[36mCartItem Load (0.5ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."product_id" = $1 AND "cart_items"."user_id" = $2 LIMIT $3[0m  [["product_id", 1], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/helpers/cart_item_helper.rb:5
  [1m[35m (5.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/helpers/cart_item_helper.rb:5
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/helpers/cart_item_helper.rb:5
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/helpers/cart_item_helper.rb:5
  [1m[36mCartItem Create (4.8ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 2], ["product_id", 1], ["created_at", "2023-04-20 18:35:06.408776"], ["updated_at", "2023-04-20 18:35:06.408776"]]
  â†³ app/helpers/cart_item_helper.rb:5
  [1m[35m (12.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/helpers/cart_item_helper.rb:5
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/helpers/cart_item_helper.rb:11
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/helpers/cart_item_helper.rb:13
  [1m[36mCartItem Update (4.8ms)[0m  [1m[33mUPDATE "cart_items" SET "quantity" = $1, "updated_at" = $2 WHERE "cart_items"."id" = $3[0m  [["quantity", 1], ["updated_at", "2023-04-20 18:35:06.429288"], ["id", 1]]
  â†³ app/helpers/cart_item_helper.rb:13
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/helpers/cart_item_helper.rb:13
Redirected to http://localhost:3000/cart_items
Completed 302 Found in 40ms (ActiveRecord: 31.0ms)


Started GET "/cart_items" for ::1 at 2023-04-20 11:35:06 -0700
Processing by CartItemsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cart_items_controller.rb:6
  Rendering cart_items/index.html.erb within layouts/application
  [1m[35m (2.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:6
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:20
  [1m[36mCartItem Load (0.3ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:23
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:23
  [1m[36mActiveStorage::Attachment Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:25
  Rendered cart_items/_quantity.html.erb (1.4ms)
  Rendered cart_items/index.html.erb within layouts/application (9.8ms)
  Rendered layouts/_header.html.erb (0.9ms)
  Rendered layouts/_alert.html.erb (0.3ms)
Completed 200 OK in 49ms (Views: 43.2ms | ActiveRecord: 3.8ms)


Started POST "/checkouts" for ::1 at 2023-04-20 11:37:05 -0700
Processing by CheckoutsController#create as JS
  Parameters: {"authenticity_token"=>"Z6+MhPl3SR87UQyU4trbQYM1VX9E5/sCmBiajJmF/rbOroujz+uJA+xhJ0ECAAoPlzH45fqcrjd4X36gd11Iaw=="}
  [1m[36mUser Load (4.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/checkouts_controller.rb:7
  [1m[36mCartItem Load (1.4ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/helpers/cart_item_helper.rb:35
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/helpers/cart_item_helper.rb:38
Completed 500 Internal Server Error in 15ms (ActiveRecord: 6.7ms)


  
NoMethodError (undefined method `pry' for #<Binding:0x00007fbf920d55d0>
Did you mean?  try):
  
app/controllers/checkouts_controller.rb:9:in `create'
Started GET "/cart_items" for ::1 at 2023-04-20 11:37:22 -0700
DEPRECATION WARNING: 'include Pundit' is deprecated. Please use 'include Pundit::Authorization' instead.
 (called from include at /Users/dev/Documents/repos/ecommerceApp-main/app/controllers/concerns/authorizable.rb:7)
Processing by CartItemsController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cart_items_controller.rb:6
  Rendering cart_items/index.html.erb within layouts/application
  [1m[35m (4.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:6
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:20
  [1m[36mCartItem Load (0.6ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:23
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:23
  [1m[36mActiveStorage::Attachment Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:25
  Rendered cart_items/_quantity.html.erb (2.0ms)
  Rendered cart_items/index.html.erb within layouts/application (102.2ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_alert.html.erb (0.3ms)
Completed 200 OK in 251ms (Views: 116.3ms | ActiveRecord: 120.7ms)


Started POST "/checkouts" for ::1 at 2023-04-20 11:37:25 -0700
Processing by CheckoutsController#create as JS
  Parameters: {"authenticity_token"=>"EnLbVySBOoYC2kL/xsQrZSDJOyc/myGU73iqttxUa5q7c9xwEh36mtXqaSomHvorNM2WvYHgdKEPP06aMozdRw=="}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/checkouts_controller.rb:7
  [1m[36mCartItem Load (0.5ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/helpers/cart_item_helper.rb:35
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/helpers/cart_item_helper.rb:38
  [1m[36mCACHE CartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/helpers/cart_item_helper.rb:35
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/helpers/cart_item_helper.rb:38
  [1m[36mCACHE CartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/helpers/cart_item_helper.rb:35
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/helpers/cart_item_helper.rb:38
  [1m[36mCACHE CartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/helpers/cart_item_helper.rb:35
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/helpers/cart_item_helper.rb:38
  [1m[36mCACHE CartItem Load (0.0ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/helpers/cart_item_helper.rb:35
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/helpers/cart_item_helper.rb:38
  [1m[36mCACHE CartItem Load (0.0ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/helpers/cart_item_helper.rb:35
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/helpers/cart_item_helper.rb:38
  [1m[36mCACHE CartItem Load (0.0ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/helpers/cart_item_helper.rb:35
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/helpers/cart_item_helper.rb:38
Completed 500 Internal Server Error in 1234334ms (ActiveRecord: 1.8ms)


  
SystemExit (exit):
  
(byebug):1:in `exit'
(byebug):1:in `create'
app/controllers/checkouts_controller.rb:17:in `create'
DEPRECATION WARNING: 'include Pundit' is deprecated. Please use 'include Pundit::Authorization' instead.
 (called from include at /Users/dev/Documents/repos/ecommerceApp-main/app/controllers/concerns/authorizable.rb:7)
Started POST "/checkouts" for ::1 at 2023-04-20 12:05:06 -0700
  [1m[35m (3.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ /Users/dev/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.6/lib/active_record/log_subscriber.rb:98
DEPRECATION WARNING: 'include Pundit' is deprecated. Please use 'include Pundit::Authorization' instead.
 (called from include at /Users/dev/Documents/repos/ecommerceApp-main/app/controllers/concerns/authorizable.rb:7)
Processing by CheckoutsController#create as JS
  Parameters: {"authenticity_token"=>"EnLbVySBOoYC2kL/xsQrZSDJOyc/myGU73iqttxUa5q7c9xwEh36mtXqaSomHvorNM2WvYHgdKEPP06aMozdRw=="}
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/checkouts_controller.rb:7
  [1m[36mCartItem Load (1.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/helpers/cart_item_helper.rb:35
  [1m[36mProduct Load (1.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/helpers/cart_item_helper.rb:38
  [1m[35m (1.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/checkouts_controller.rb:9
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/controllers/checkouts_controller.rb:9
Completed 500 Internal Server Error in 350ms (ActiveRecord: 127.5ms)


  
NoMethodError (undefined method `payment_id' for #<Order:0x00007f964db5a078>):
  
app/controllers/checkouts_controller.rb:10:in `block in create'
app/controllers/checkouts_controller.rb:9:in `create'
Started GET "/cart_items" for ::1 at 2023-04-20 12:05:23 -0700
DEPRECATION WARNING: 'include Pundit' is deprecated. Please use 'include Pundit::Authorization' instead.
 (called from include at /Users/dev/Documents/repos/ecommerceApp-main/app/controllers/concerns/authorizable.rb:7)
Processing by CartItemsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cart_items_controller.rb:6
  Rendering cart_items/index.html.erb within layouts/application
  [1m[35m (44.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:6
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:20
  [1m[36mCartItem Load (0.7ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:23
  [1m[36mProduct Load (15.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:23
  [1m[36mActiveStorage::Attachment Exists (2.9ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:25
  Rendered cart_items/_quantity.html.erb (4.2ms)
  Rendered cart_items/index.html.erb within layouts/application (131.7ms)
  Rendered layouts/_header.html.erb (1.2ms)
  Rendered layouts/_alert.html.erb (0.3ms)
Completed 200 OK in 399ms (Views: 244.6ms | ActiveRecord: 142.5ms)


Started POST "/checkouts" for ::1 at 2023-04-20 12:05:26 -0700
  
SyntaxError (/Users/dev/Documents/repos/ecommerceApp-main/app/controllers/checkouts_controller.rb:11: syntax error, unexpected ')'
...r: current_user, amount_paid: )
...                              ^
/Users/dev/Documents/repos/ecommerceApp-main/app/controllers/checkouts_controller.rb:24: syntax error, unexpected end-of-input, expecting keyword_end):
  
app/controllers/checkouts_controller.rb:11: syntax error, unexpected ')'
app/controllers/checkouts_controller.rb:24: syntax error, unexpected end-of-input, expecting keyword_end
Started GET "/cart_items" for ::1 at 2023-04-20 12:05:32 -0700
DEPRECATION WARNING: 'include Pundit' is deprecated. Please use 'include Pundit::Authorization' instead.
 (called from include at /Users/dev/Documents/repos/ecommerceApp-main/app/controllers/concerns/authorizable.rb:7)
Processing by CartItemsController#index as HTML
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cart_items_controller.rb:6
  Rendering cart_items/index.html.erb within layouts/application
  [1m[35m (7.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:6
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:20
  [1m[36mCartItem Load (3.2ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:23
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:23
  [1m[36mActiveStorage::Attachment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:25
  Rendered cart_items/_quantity.html.erb (1.2ms)
  Rendered cart_items/index.html.erb within layouts/application (70.2ms)
  Rendered layouts/_header.html.erb (0.9ms)
  Rendered layouts/_alert.html.erb (0.2ms)
Completed 200 OK in 164ms (Views: 67.5ms | ActiveRecord: 82.7ms)


Started POST "/checkouts" for ::1 at 2023-04-20 12:05:34 -0700
Processing by CheckoutsController#create as JS
  Parameters: {"authenticity_token"=>"FkpBB28Jum4PuR3dP3wJfZMj1HOR1zMSGD0eTjNSM8O/S0YgWZV6ctiJNgjfptgzhyd56S+sZif4evpi3YqFHg=="}
  [1m[36mUser Load (4.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/checkouts_controller.rb:7
  [1m[36mCartItem Load (1.4ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/helpers/cart_item_helper.rb:35
  [1m[36mProduct Load (2.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/helpers/cart_item_helper.rb:38
  [1m[36mCACHE CartItem Load (0.0ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/helpers/cart_item_helper.rb:35
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/helpers/cart_item_helper.rb:38
  [1m[36mCACHE CartItem Load (0.0ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/helpers/cart_item_helper.rb:35
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/helpers/cart_item_helper.rb:38
  [1m[36mCACHE CartItem Load (0.0ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/helpers/cart_item_helper.rb:35
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/helpers/cart_item_helper.rb:38
  [1m[36mCACHE CartItem Load (0.0ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/helpers/cart_item_helper.rb:35
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/helpers/cart_item_helper.rb:38
  [1m[36mCACHE CartItem Load (0.0ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/helpers/cart_item_helper.rb:35
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/helpers/cart_item_helper.rb:38
  [1m[36mCACHE CartItem Load (0.0ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/helpers/cart_item_helper.rb:35
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/helpers/cart_item_helper.rb:38
  [1m[36mCACHE CartItem Load (0.0ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/helpers/cart_item_helper.rb:35
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/helpers/cart_item_helper.rb:38
  [1m[36mCACHE CartItem Load (0.0ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/helpers/cart_item_helper.rb:35
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/helpers/cart_item_helper.rb:38
  [1m[36mCACHE CartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/helpers/cart_item_helper.rb:35
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/helpers/cart_item_helper.rb:38
Completed 500 Internal Server Error in 1453497ms (ActiveRecord: 8.1ms)


  
SystemExit (exit):
  
(byebug):1:in `exit'
(byebug):1:in `create'
app/controllers/checkouts_controller.rb:10:in `create'
Started POST "/checkouts" for ::1 at 2023-04-20 14:11:23 -0700
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ /Users/dev/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.6/lib/active_record/log_subscriber.rb:98
  
SyntaxError (/Users/dev/Documents/repos/ecommerceApp-main/app/controllers/checkouts_controller.rb:24: syntax error, unexpected end-of-input, expecting keyword_end):
  
app/controllers/checkouts_controller.rb:24: syntax error, unexpected end-of-input, expecting keyword_end
Started GET "/cart_items" for ::1 at 2023-04-20 14:11:27 -0700
DEPRECATION WARNING: 'include Pundit' is deprecated. Please use 'include Pundit::Authorization' instead.
 (called from include at /Users/dev/Documents/repos/ecommerceApp-main/app/controllers/concerns/authorizable.rb:7)
Processing by CartItemsController#index as HTML
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cart_items_controller.rb:6
  Rendering cart_items/index.html.erb within layouts/application
  [1m[35m (6.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:6
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:20
  [1m[36mCartItem Load (0.3ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:23
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:23
  [1m[36mActiveStorage::Attachment Exists (7.6ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:25
  Rendered cart_items/_quantity.html.erb (5.6ms)
  Rendered cart_items/index.html.erb within layouts/application (251.8ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_alert.html.erb (0.2ms)
Completed 200 OK in 500ms (Views: 358.1ms | ActiveRecord: 115.9ms)


Started POST "/checkouts" for ::1 at 2023-04-20 14:11:31 -0700
  
SyntaxError (/Users/dev/Documents/repos/ecommerceApp-main/app/controllers/checkouts_controller.rb:24: syntax error, unexpected end-of-input, expecting keyword_end):
  
app/controllers/checkouts_controller.rb:24: syntax error, unexpected end-of-input, expecting keyword_end
Started GET "/cart_items" for ::1 at 2023-04-20 14:12:20 -0700
DEPRECATION WARNING: 'include Pundit' is deprecated. Please use 'include Pundit::Authorization' instead.
 (called from include at /Users/dev/Documents/repos/ecommerceApp-main/app/controllers/concerns/authorizable.rb:7)
Processing by CartItemsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cart_items_controller.rb:6
  Rendering cart_items/index.html.erb within layouts/application
  [1m[35m (8.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:6
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:20
  [1m[36mCartItem Load (0.4ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:23
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:23
  [1m[36mActiveStorage::Attachment Exists (7.2ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:25
  Rendered cart_items/_quantity.html.erb (10.7ms)
  Rendered cart_items/index.html.erb within layouts/application (96.2ms)
  Rendered layouts/_header.html.erb (0.9ms)
  Rendered layouts/_alert.html.erb (0.4ms)
Completed 200 OK in 214ms (Views: 85.9ms | ActiveRecord: 115.7ms)


Started POST "/checkouts" for ::1 at 2023-04-20 14:12:21 -0700
Processing by CheckoutsController#create as JS
  Parameters: {"authenticity_token"=>"xFYX3YWOceYoctVLAZ8mycISBZuHlbT/RXPUZ5dZO1ttVxD6sxKx+v9C/p7hRfeH1haoATnu4cqlNDBLeYGNhg=="}
  [1m[36mUser Load (12.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/checkouts_controller.rb:7
  [1m[36mCartItem Load (0.4ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/helpers/cart_item_helper.rb:35
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/helpers/cart_item_helper.rb:38
  [1m[36mCACHE CartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/helpers/cart_item_helper.rb:35
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/helpers/cart_item_helper.rb:38
Completed 500 Internal Server Error in 208749ms (ActiveRecord: 13.5ms)


  
SystemExit (exit):
  
(byebug):1:in `exit'
(byebug):1:in `create'
app/controllers/checkouts_controller.rb:10:in `create'
Started POST "/checkouts" for ::1 at 2023-04-20 14:20:53 -0700
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ /Users/dev/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.6/lib/active_record/log_subscriber.rb:98
DEPRECATION WARNING: 'include Pundit' is deprecated. Please use 'include Pundit::Authorization' instead.
 (called from include at /Users/dev/Documents/repos/ecommerceApp-main/app/controllers/concerns/authorizable.rb:7)
Processing by CheckoutsController#create as JS
  Parameters: {"authenticity_token"=>"xFYX3YWOceYoctVLAZ8mycISBZuHlbT/RXPUZ5dZO1ttVxD6sxKx+v9C/p7hRfeH1haoATnu4cqlNDBLeYGNhg=="}
  [1m[36mUser Load (2.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/checkouts_controller.rb:7
  [1m[36mCartItem Load (3.2ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/helpers/cart_item_helper.rb:35
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/helpers/cart_item_helper.rb:38
  Rendering checkouts/create.js.erb
  Rendered checkouts/create.js.erb (0.9ms)
Completed 200 OK in 177ms (Views: 17.2ms | ActiveRecord: 90.6ms)


Started GET "/cart_items" for ::1 at 2023-04-20 14:21:02 -0700
DEPRECATION WARNING: 'include Pundit' is deprecated. Please use 'include Pundit::Authorization' instead.
 (called from include at /Users/dev/Documents/repos/ecommerceApp-main/app/controllers/concerns/authorizable.rb:7)
Processing by CartItemsController#index as HTML
  [1m[36mUser Load (4.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cart_items_controller.rb:6
  Rendering cart_items/index.html.erb within layouts/application
  [1m[35m (9.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:6
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:20
  [1m[36mCartItem Load (1.7ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:23
  [1m[36mProduct Load (5.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:23
  [1m[36mActiveStorage::Attachment Exists (10.9ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:25
  Rendered cart_items/_quantity.html.erb (4.5ms)
  Rendered cart_items/index.html.erb within layouts/application (270.5ms)
  Rendered layouts/_header.html.erb (1.1ms)
  Rendered layouts/_alert.html.erb (0.3ms)
Completed 200 OK in 529ms (Views: 395.2ms | ActiveRecord: 115.6ms)


Started POST "/checkouts" for ::1 at 2023-04-20 14:21:04 -0700
Processing by CheckoutsController#create as JS
  Parameters: {"authenticity_token"=>"X7pfbyEekqcycI+hYFdouyxFuc5I418H30/5p0zDU1z2u1hIF4JSu+VApHSAjbn1OEEUVPaYCjI/CB2LohvlgQ=="}
  [1m[36mUser Load (12.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/checkouts_controller.rb:7
  [1m[36mCartItem Load (1.4ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/helpers/cart_item_helper.rb:35
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/helpers/cart_item_helper.rb:38
  [1m[36mCACHE CartItem Load (0.0ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/helpers/cart_item_helper.rb:35
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/helpers/cart_item_helper.rb:38
Completed 500 Internal Server Error in 681505ms (ActiveRecord: 14.6ms)


Started GET "/cart_items" for ::1 at 2023-04-20 14:32:26 -0700
  
SystemExit (exit):
  
(byebug):1:in `exit'
(byebug):1:in `create'
app/controllers/checkouts_controller.rb:9:in `create'
DEPRECATION WARNING: 'include Pundit' is deprecated. Please use 'include Pundit::Authorization' instead.
 (called from include at /Users/dev/Documents/repos/ecommerceApp-main/app/controllers/concerns/authorizable.rb:7)
Processing by CartItemsController#index as HTML
  [1m[36mUser Load (6.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cart_items_controller.rb:6
  Rendering cart_items/index.html.erb within layouts/application
  [1m[35m (8.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:6
  [1m[35mCACHE  (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:20
  [1m[36mCartItem Load (1.4ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:23
  [1m[36mProduct Load (4.8ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:23
  [1m[36mActiveStorage::Attachment Exists (3.0ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:25
  Rendered cart_items/_quantity.html.erb (26.0ms)
  Rendered cart_items/index.html.erb within layouts/application (407.1ms)
  Rendered layouts/_header.html.erb (12.6ms)
  Rendered layouts/_alert.html.erb (2.5ms)
Completed 200 OK in 1701ms (Views: 1372.5ms | ActiveRecord: 151.5ms)


Started POST "/checkouts" for ::1 at 2023-04-20 14:40:51 -0700
DEPRECATION WARNING: 'include Pundit' is deprecated. Please use 'include Pundit::Authorization' instead.
 (called from include at /Users/dev/Documents/repos/ecommerceApp-main/app/controllers/concerns/authorizable.rb:7)
Processing by CheckoutsController#create as JS
  Parameters: {"authenticity_token"=>"y8AlKBnZXXVXczKJMi1/Pc73tbAhNDrGMlVDrYIlyHxiwSIPL0WdaYBDGVzS965z2vMYKp9Pb/PSEqeBbP1+oQ=="}
  [1m[36mUser Load (3.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/checkouts_controller.rb:7
Completed 500 Internal Server Error in 1756ms (ActiveRecord: 63.2ms)


  
NameError (undefined local variable or method `line_items' for #<CheckoutsController:0x00007fc474cc5778>):
  
app/controllers/checkouts_controller.rb:9:in `create'
Started GET "/cart_items" for ::1 at 2023-04-20 14:41:28 -0700
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ /Users/dev/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.6/lib/active_record/log_subscriber.rb:98
DEPRECATION WARNING: 'include Pundit' is deprecated. Please use 'include Pundit::Authorization' instead.
 (called from include at /Users/dev/Documents/repos/ecommerceApp-main/app/controllers/concerns/authorizable.rb:7)
Processing by CartItemsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cart_items_controller.rb:6
  Rendering cart_items/index.html.erb within layouts/application
  [1m[35m (2.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:6
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:20
  [1m[36mCartItem Load (0.5ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:23
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:23
  [1m[36mActiveStorage::Attachment Exists (1.9ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:25
  Rendered cart_items/_quantity.html.erb (3.9ms)
  Rendered cart_items/index.html.erb within layouts/application (257.7ms)
  Rendered layouts/_header.html.erb (0.9ms)
  Rendered layouts/_alert.html.erb (0.2ms)
Completed 200 OK in 517ms (Views: 372.3ms | ActiveRecord: 117.0ms)


Started POST "/checkouts" for ::1 at 2023-04-20 14:41:30 -0700
Processing by CheckoutsController#create as JS
  Parameters: {"authenticity_token"=>"jiKAxSeQ0M+tMPZDeEoFL2fvT77u0wl8VGQUV9ZpT+InI4fiEQwQ03oA3ZaYkNRhc+viJFCoXEm0I/B7OLH5Pw=="}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/checkouts_controller.rb:7
Completed 500 Internal Server Error in 136ms (ActiveRecord: 0.9ms)


  
NameError (undefined local variable or method `line_items' for #<CheckoutsController:0x00007f8f1ffca638>):
  
app/controllers/checkouts_controller.rb:9:in `create'
Started POST "/checkouts" for ::1 at 2023-04-20 14:49:03 -0700
DEPRECATION WARNING: 'include Pundit' is deprecated. Please use 'include Pundit::Authorization' instead.
 (called from include at /Users/dev/Documents/repos/ecommerceApp-main/app/controllers/concerns/authorizable.rb:7)
Processing by CheckoutsController#create as JS
  Parameters: {"authenticity_token"=>"jiKAxSeQ0M+tMPZDeEoFL2fvT77u0wl8VGQUV9ZpT+InI4fiEQwQ03oA3ZaYkNRhc+viJFCoXEm0I/B7OLH5Pw=="}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/checkouts_controller.rb:7
Completed 500 Internal Server Error in 235ms (ActiveRecord: 39.6ms)


  
NameError (undefined local variable or method `line_items' for #<CheckoutsController:0x00007f8f29824e10>):
  
app/controllers/checkouts_controller.rb:9:in `create'
Started GET "/cart_items" for ::1 at 2023-04-20 14:49:10 -0700
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ /Users/dev/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.6/lib/active_record/log_subscriber.rb:98
DEPRECATION WARNING: 'include Pundit' is deprecated. Please use 'include Pundit::Authorization' instead.
 (called from include at /Users/dev/Documents/repos/ecommerceApp-main/app/controllers/concerns/authorizable.rb:7)
Processing by CartItemsController#index as HTML
Started GET "/cart_items" for ::1 at 2023-04-20 14:49:10 -0700
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cart_items_controller.rb:6
Processing by CartItemsController#index as HTML
  Rendering cart_items/index.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:6
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/controllers/cart_items_controller.rb:6
  â†³ app/views/cart_items/index.html.erb:20
  [1m[36mCartItem Load (1.8ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  Rendering cart_items/index.html.erb within layouts/application
  â†³ app/views/cart_items/index.html.erb:23
  [1m[35m (12.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:6
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:20
  [1m[36mCartItem Load (0.2ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:23
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:23
  [1m[36mProduct Load (4.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:23
  [1m[36mActiveStorage::Attachment Exists (2.5ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:25
  [1m[36mActiveStorage::Attachment Exists (2.4ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:25
  Rendered cart_items/_quantity.html.erb (5.2ms)
  Rendered cart_items/_quantity.html.erb (3.6ms)
  Rendered cart_items/index.html.erb within layouts/application (395.2ms)
  Rendered cart_items/index.html.erb within layouts/application (387.7ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_alert.html.erb (0.3ms)
Completed 200 OK in 631ms (Views: 533.3ms | ActiveRecord: 93.0ms)


  Rendered layouts/_alert.html.erb (0.0ms)
Completed 200 OK in 734ms (Views: 562.9ms | ActiveRecord: 143.7ms)


Started POST "/checkouts" for ::1 at 2023-04-20 14:49:12 -0700
Processing by CheckoutsController#create as JS
  Parameters: {"authenticity_token"=>"PvL+/SKoeNAgJkB3bt92C+YTuNotIEdwahxkvzylcuyX8/naFDS4zPcWa6KOBadF8hcVQJNbEkWKW4CT0n3EMQ=="}
  [1m[36mUser Load (12.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/checkouts_controller.rb:7
Completed 500 Internal Server Error in 203ms (ActiveRecord: 12.5ms)


  
NameError (undefined local variable or method `line_items' for #<CheckoutsController:0x00007fdbb7bdd310>):
  
app/controllers/checkouts_controller.rb:9:in `create'
Started GET "/cart_items" for ::1 at 2023-04-20 14:49:30 -0700
DEPRECATION WARNING: 'include Pundit' is deprecated. Please use 'include Pundit::Authorization' instead.
 (called from include at /Users/dev/Documents/repos/ecommerceApp-main/app/controllers/concerns/authorizable.rb:7)
Processing by CartItemsController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cart_items_controller.rb:6
  Rendering cart_items/index.html.erb within layouts/application
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:6
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:20
  [1m[36mCartItem Load (3.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:23
  [1m[36mProduct Load (4.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:23
  [1m[36mActiveStorage::Attachment Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:25
  Rendered cart_items/_quantity.html.erb (1.3ms)
  Rendered cart_items/index.html.erb within layouts/application (29.3ms)
  Rendered layouts/_header.html.erb (0.9ms)
  Rendered layouts/_alert.html.erb (0.2ms)
Completed 200 OK in 158ms (Views: 60.4ms | ActiveRecord: 77.5ms)


Started POST "/checkouts" for ::1 at 2023-04-20 14:49:32 -0700
Processing by CheckoutsController#create as JS
  Parameters: {"authenticity_token"=>"QGxzBouOjuclP+dDL1voXGwALoeGdAtDcER7Tx5EWQjpbXQhvRJO+/IPzJbPgTkSeASDHTgPXnaQA59j8Jzv1Q=="}
  [1m[36mUser Load (2.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/checkouts_controller.rb:7
Completed 500 Internal Server Error in 6ms (ActiveRecord: 2.4ms)


  
SyntaxError (/Users/dev/Documents/repos/ecommerceApp-main/app/services/order_service.rb:26: syntax error, unexpected '}'
      }
      ^
/Users/dev/Documents/repos/ecommerceApp-main/app/services/order_service.rb:45: syntax error, unexpected end-of-input, expecting keyword_end):
  
app/services/order_service.rb:26: syntax error, unexpected '}'
app/services/order_service.rb:45: syntax error, unexpected end-of-input, expecting keyword_end
app/controllers/checkouts_controller.rb:9:in `create'
Started GET "/cart_items" for ::1 at 2023-04-20 14:50:27 -0700
  [1m[35m (2.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ /Users/dev/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.6/lib/active_record/log_subscriber.rb:98
DEPRECATION WARNING: 'include Pundit' is deprecated. Please use 'include Pundit::Authorization' instead.
 (called from include at /Users/dev/Documents/repos/ecommerceApp-main/app/controllers/concerns/authorizable.rb:7)
Processing by CartItemsController#index as HTML
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cart_items_controller.rb:6
  Rendering cart_items/index.html.erb within layouts/application
  [1m[35m (26.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:6
  [1m[35mCACHE  (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:20
  [1m[36mCartItem Load (1.9ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:23
  [1m[36mProduct Load (1.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:23
  [1m[36mActiveStorage::Attachment Exists (8.7ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:25
  Rendered cart_items/_quantity.html.erb (4.6ms)
  Rendered cart_items/index.html.erb within layouts/application (329.8ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_alert.html.erb (0.3ms)
Completed 200 OK in 586ms (Views: 389.5ms | ActiveRecord: 166.6ms)


Started POST "/checkouts" for ::1 at 2023-04-20 14:50:29 -0700
Processing by CheckoutsController#create as JS
  Parameters: {"authenticity_token"=>"p+BszsBMpznJlI0rdIMBObun/qbS1btYbKqk+7UUD4oO4Wvp9tBnJR6kpv6UWdB3r6NTPGyu7m2M7UDXW8y5Vw=="}
  [1m[36mUser Load (15.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/checkouts_controller.rb:7
Completed 500 Internal Server Error in 20ms (ActiveRecord: 15.4ms)


  
SyntaxError (/Users/dev/Documents/repos/ecommerceApp-main/app/services/order_service.rb:26: syntax error, unexpected '}'
      }
      ^
/Users/dev/Documents/repos/ecommerceApp-main/app/services/order_service.rb:45: syntax error, unexpected end-of-input, expecting keyword_end):
  
app/services/order_service.rb:26: syntax error, unexpected '}'
app/services/order_service.rb:45: syntax error, unexpected end-of-input, expecting keyword_end
app/controllers/checkouts_controller.rb:9:in `create'
Started GET "/cart_items" for ::1 at 2023-04-20 14:50:45 -0700
DEPRECATION WARNING: 'include Pundit' is deprecated. Please use 'include Pundit::Authorization' instead.
 (called from include at /Users/dev/Documents/repos/ecommerceApp-main/app/controllers/concerns/authorizable.rb:7)
Processing by CartItemsController#index as HTML
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cart_items_controller.rb:6
  Rendering cart_items/index.html.erb within layouts/application
  [1m[35m (5.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:6
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:20
  [1m[36mCartItem Load (0.5ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:23
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:23
  [1m[36mActiveStorage::Attachment Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:25
  Rendered cart_items/_quantity.html.erb (1.3ms)
  Rendered cart_items/index.html.erb within layouts/application (91.3ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_alert.html.erb (0.3ms)
Completed 200 OK in 213ms (Views: 77.3ms | ActiveRecord: 117.7ms)


Started POST "/checkouts" for ::1 at 2023-04-20 14:50:48 -0700
Processing by CheckoutsController#create as JS
  Parameters: {"authenticity_token"=>"QeJpKrrsVouQpFIDFwf1G1nNBBWKPY+TReZCCohk9zro424NjHCWl0eUedb33SRVTcmpjzRG2qaloaYmZrxB5w=="}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/checkouts_controller.rb:7
Completed 500 Internal Server Error in 32086ms (ActiveRecord: 0.8ms)


  
SystemExit (exit):
  
(byebug):1:in `exit'
(byebug):1:in `create!'
app/services/order_service.rb:8:in `create!'
app/controllers/checkouts_controller.rb:9:in `create'
Started GET "/cart_items" for ::1 at 2023-04-20 14:51:21 -0700
DEPRECATION WARNING: 'include Pundit' is deprecated. Please use 'include Pundit::Authorization' instead.
 (called from include at /Users/dev/Documents/repos/ecommerceApp-main/app/controllers/concerns/authorizable.rb:7)
Processing by CartItemsController#index as HTML
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cart_items_controller.rb:6
  Rendering cart_items/index.html.erb within layouts/application
  [1m[35m (1.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:6
  [1m[35mCACHE  (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:20
  [1m[36mCartItem Load (7.0ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:23
  [1m[36mProduct Load (3.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:23
  [1m[36mActiveStorage::Attachment Exists (1.6ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:25
  Rendered cart_items/_quantity.html.erb (21.7ms)
  Rendered cart_items/index.html.erb within layouts/application (315.6ms)
  Rendered layouts/_header.html.erb (10.4ms)
  Rendered layouts/_alert.html.erb (2.0ms)
Completed 200 OK in 1361ms (Views: 1102.4ms | ActiveRecord: 123.0ms)


Started POST "/checkouts" for ::1 at 2023-04-20 14:51:29 -0700
Processing by CheckoutsController#create as JS
  Parameters: {"authenticity_token"=>"y2s/iqttTW3hvfeFaj5H7XEVmCWayTcWDpD5Wr3FeoFiajitnfGNcTaN3FCK5JajZRE1vySyYiPu1x12Ux3MXA=="}
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/checkouts_controller.rb:7
  [1m[36mCartItem Load (0.8ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/services/order_service.rb:32
  [1m[36mProduct Load (13.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/services/order_service.rb:34
Completed 500 Internal Server Error in 112124ms (ActiveRecord: 15.7ms)


Started GET "/cart_items" for ::1 at 2023-04-20 14:53:21 -0700
  
SystemExit (exit):
  
(byebug):1:in `exit'
(byebug):1:in `create!'
app/services/order_service.rb:8:in `create!'
app/controllers/checkouts_controller.rb:9:in `create'
Processing by CartItemsController#index as HTML
  [1m[36mUser Load (6.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cart_items_controller.rb:6
  Rendering cart_items/index.html.erb within layouts/application
  [1m[35m (34.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:6
  [1m[35mCACHE  (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:20
  [1m[36mCartItem Load (1.7ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:23
  [1m[36mProduct Load (2.9ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:23
  [1m[36mActiveStorage::Attachment Exists (3.6ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:25
  Rendered cart_items/_quantity.html.erb (25.6ms)
  Rendered cart_items/index.html.erb within layouts/application (173.4ms)
  Rendered layouts/_header.html.erb (13.7ms)
  Rendered layouts/_alert.html.erb (3.4ms)
Completed 200 OK in 1495ms (Views: 1403.9ms | ActiveRecord: 50.6ms)


Started POST "/checkouts" for ::1 at 2023-04-20 14:53:26 -0700
DEPRECATION WARNING: 'include Pundit' is deprecated. Please use 'include Pundit::Authorization' instead.
 (called from include at /Users/dev/Documents/repos/ecommerceApp-main/app/controllers/concerns/authorizable.rb:7)
Processing by CheckoutsController#create as JS
  Parameters: {"authenticity_token"=>"77QvJ99hHsE6XzFMoaLjIOfOyM349NEWCkkBwAQoM/pGtSgA6f3e3e1vGplBeDJu88plV0aPhCPqDuXs6vCFJw=="}
  [1m[36mUser Load (7.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/checkouts_controller.rb:7
  [1m[35m (10.5ms)[0m  [1m[35mBEGIN[0m
  â†³ app/services/order_service.rb:7
  [1m[36mCartItem Load (11.2ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/services/order_service.rb:34
  [1m[36mProduct Load (1.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/services/order_service.rb:36
  [1m[35m (3.8ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/services/order_service.rb:7
Completed 500 Internal Server Error in 1812ms (ActiveRecord: 182.0ms)


  
NoMethodError (undefined method `payment_id' for #<Order:0x00007fb5f4946900>):
  
app/services/order_service.rb:8:in `block in create!'
app/services/order_service.rb:7:in `create!'
app/controllers/checkouts_controller.rb:9:in `create'
Started GET "/cart_items" for ::1 at 2023-04-20 14:54:05 -0700
DEPRECATION WARNING: 'include Pundit' is deprecated. Please use 'include Pundit::Authorization' instead.
 (called from include at /Users/dev/Documents/repos/ecommerceApp-main/app/controllers/concerns/authorizable.rb:7)
Processing by CartItemsController#index as HTML
  [1m[36mUser Load (2.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cart_items_controller.rb:6
  Rendering cart_items/index.html.erb within layouts/application
  [1m[35m (1.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:6
  [1m[35mCACHE  (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:20
  [1m[36mCartItem Load (2.0ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:23
  [1m[36mProduct Load (2.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:23
  [1m[36mActiveStorage::Attachment Exists (16.7ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:25
  Rendered cart_items/_quantity.html.erb (31.5ms)
  Rendered cart_items/index.html.erb within layouts/application (458.1ms)
  Rendered layouts/_header.html.erb (20.2ms)
  Rendered layouts/_alert.html.erb (3.3ms)
Completed 200 OK in 2066ms (Views: 1751.0ms | ActiveRecord: 106.5ms)


Started POST "/checkouts" for ::1 at 2023-04-20 14:54:10 -0700
Processing by CheckoutsController#create as JS
  Parameters: {"authenticity_token"=>"KyzonoQHsc4ijIsj6hTjEiUakyLQKI+ZVUyqexSJFuWCLe+5sptx0vW8oPYKzjJcMR4+uG5T2qy1C05X+lGgOA=="}
  [1m[36mUser Load (7.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/checkouts_controller.rb:7
  [1m[35m (10.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/services/order_service.rb:7
  [1m[36mCartItem Load (1.5ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/services/order_service.rb:34
  [1m[36mProduct Load (1.9ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/services/order_service.rb:36
  [1m[36mOrder Create (19.2ms)[0m  [1m[32mINSERT INTO "orders" ("status", "amount_paid", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["status", 1], ["amount_paid", "100.0"], ["user_id", 2], ["created_at", "2023-04-20 21:54:10.967126"], ["updated_at", "2023-04-20 21:54:10.967126"]]
  â†³ app/services/order_service.rb:8
  [1m[36mCartItem Load (5.3ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/services/order_service.rb:34
  [1m[36mProduct Load (5.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/services/order_service.rb:36
  [1m[35m (1.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/services/order_service.rb:7
Completed 500 Internal Server Error in 486ms (ActiveRecord: 83.9ms)


  
NoMethodError (undefined method `name' for #<Hash:0x00007fb5f49c5980>):
  
app/services/order_service.rb:24:in `block in build_order_items'
app/services/order_service.rb:22:in `map'
app/services/order_service.rb:22:in `build_order_items'
app/services/order_service.rb:9:in `block in create!'
app/services/order_service.rb:7:in `create!'
app/controllers/checkouts_controller.rb:9:in `create'
Started GET "/cart_items" for ::1 at 2023-04-20 14:54:31 -0700
DEPRECATION WARNING: 'include Pundit' is deprecated. Please use 'include Pundit::Authorization' instead.
 (called from include at /Users/dev/Documents/repos/ecommerceApp-main/app/controllers/concerns/authorizable.rb:7)
Processing by CartItemsController#index as HTML
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cart_items_controller.rb:6
  Rendering cart_items/index.html.erb within layouts/application
  [1m[35m (6.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:6
  [1m[35mCACHE  (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:20
  [1m[36mCartItem Load (1.4ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:23
  [1m[36mProduct Load (1.7ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:23
  [1m[36mActiveStorage::Attachment Exists (3.8ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:25
  Rendered cart_items/_quantity.html.erb (37.6ms)
  Rendered cart_items/index.html.erb within layouts/application (484.9ms)
  Rendered layouts/_header.html.erb (15.8ms)
  Rendered layouts/_alert.html.erb (3.0ms)
Completed 200 OK in 2182ms (Views: 1793.8ms | ActiveRecord: 168.7ms)


Started POST "/checkouts" for ::1 at 2023-04-20 14:54:36 -0700
Processing by CheckoutsController#create as JS
  Parameters: {"authenticity_token"=>"GLJPx041RfNa+OGFY+6uVHyGHHrb/9rvrUST8Xaq7U2xs0jgeKmF743IylCDNH8aaIKx4GWEj9pNA3fdmHJbkA=="}
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/checkouts_controller.rb:7
  [1m[35m (10.5ms)[0m  [1m[35mBEGIN[0m
  â†³ app/services/order_service.rb:7
  [1m[36mCartItem Load (11.7ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/services/order_service.rb:35
  [1m[36mProduct Load (1.7ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/services/order_service.rb:37
  [1m[36mOrder Create (18.2ms)[0m  [1m[32mINSERT INTO "orders" ("status", "amount_paid", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["status", 1], ["amount_paid", "100.0"], ["user_id", 2], ["created_at", "2023-04-20 21:54:37.274139"], ["updated_at", "2023-04-20 21:54:37.274139"]]
  â†³ app/services/order_service.rb:8
  [1m[36mCartItem Load (1.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/services/order_service.rb:35
  [1m[36mProduct Load (1.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/services/order_service.rb:37
  [1m[35m (17.5ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/services/order_service.rb:7
Completed 500 Internal Server Error in 499ms (ActiveRecord: 88.6ms)


  
NoMethodError (undefined method `name' for #<Hash:0x00007fb62375ede8>):
  
app/services/order_service.rb:24:in `block in build_order_items'
app/services/order_service.rb:22:in `map'
app/services/order_service.rb:22:in `build_order_items'
app/services/order_service.rb:9:in `block in create!'
app/services/order_service.rb:7:in `create!'
app/controllers/checkouts_controller.rb:9:in `create'
Started GET "/cart_items" for ::1 at 2023-04-20 14:55:03 -0700
DEPRECATION WARNING: 'include Pundit' is deprecated. Please use 'include Pundit::Authorization' instead.
 (called from include at /Users/dev/Documents/repos/ecommerceApp-main/app/controllers/concerns/authorizable.rb:7)
Processing by CartItemsController#index as HTML
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cart_items_controller.rb:6
  Rendering cart_items/index.html.erb within layouts/application
  [1m[35m (1.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:6
  [1m[35mCACHE  (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:20
  [1m[36mCartItem Load (4.3ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:23
  [1m[36mProduct Load (7.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:23
  [1m[36mActiveStorage::Attachment Exists (11.3ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:25
  Rendered cart_items/_quantity.html.erb (37.4ms)
  Rendered cart_items/index.html.erb within layouts/application (495.1ms)
  Rendered layouts/_header.html.erb (16.0ms)
  Rendered layouts/_alert.html.erb (3.1ms)
Completed 200 OK in 2227ms (Views: 1843.3ms | ActiveRecord: 161.8ms)


Started POST "/checkouts" for ::1 at 2023-04-20 14:55:10 -0700
Processing by CheckoutsController#create as JS
  Parameters: {"authenticity_token"=>"cw1Cz5BgPj4bSxz3/HmuFxpTR9Sl0WZC6VU0CfwDQiDaDEXopvz+Isx7NyIco39ZDlfqThuqM3cJEtAlEtv0/Q=="}
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/checkouts_controller.rb:7
  [1m[35m (1.0ms)[0m  [1m[35mBEGIN[0m
  â†³ app/services/order_service.rb:7
  [1m[36mCartItem Load (1.3ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/services/order_service.rb:34
  [1m[36mProduct Load (3.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/services/order_service.rb:36
  [1m[36mOrder Create (2.0ms)[0m  [1m[32mINSERT INTO "orders" ("status", "amount_paid", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["status", 1], ["amount_paid", "100.0"], ["user_id", 2], ["created_at", "2023-04-20 21:55:10.776141"], ["updated_at", "2023-04-20 21:55:10.776141"]]
  â†³ app/services/order_service.rb:8
  [1m[36mCartItem Load (3.0ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/services/order_service.rb:34
  [1m[36mProduct Load (2.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/services/order_service.rb:36
  [1m[36mOrderItem Create Many (4.6ms)[0m  [1m[32mINSERT INTO "order_items" ("product_name","price","quantity","order_id","created_at","updated_at") VALUES ('hello product',100,1,3,'2023-04-20 21:55:10.891007','2023-04-20 21:55:10.891007') RETURNING "id"[0m
  â†³ app/services/order_service.rb:10
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/services/order_service.rb:7
Redirected to http://localhost:3000/products
Completed 200 OK in 504ms (ActiveRecord: 112.3ms)


Started GET "/products" for ::1 at 2023-04-20 14:55:11 -0700
Processing by ProductsController#index as HTML
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:7
  Rendering products/index.html.erb within layouts/application
  [1m[35m (2.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" WHERE (user_id != 2)[0m
  â†³ app/views/products/index.html.erb:6
  [1m[36mProduct Load (1.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (user_id != 2)[0m
  â†³ app/views/products/index.html.erb:7
  [1m[36mActiveStorage::Attachment Exists (6.2ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/index.html.erb:11
  Rendered products/index.html.erb within layouts/application (72.4ms)
  Rendered layouts/_header.html.erb (21.0ms)
  Rendered layouts/_alert.html.erb (3.8ms)
Completed 200 OK in 1559ms (Views: 1495.3ms | ActiveRecord: 10.9ms)


Started GET "/" for ::1 at 2023-04-20 14:55:18 -0700
Processing by ProductsController#index as HTML
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:7
  Rendering products/index.html.erb within layouts/application
  [1m[35m (3.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" WHERE (user_id != 2)[0m
  â†³ app/views/products/index.html.erb:6
  [1m[36mProduct Load (1.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (user_id != 2)[0m
  â†³ app/views/products/index.html.erb:7
  [1m[36mActiveStorage::Attachment Exists (1.9ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/index.html.erb:11
  Rendered products/index.html.erb within layouts/application (75.5ms)
  Rendered layouts/_header.html.erb (16.5ms)
  Rendered layouts/_alert.html.erb (8.0ms)
Completed 200 OK in 1549ms (Views: 1500.2ms | ActiveRecord: 8.2ms)


  [1m[36mOrder Load (1.6ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" ORDER BY "orders"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mOrder Load (2.5ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" ORDER BY "orders"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mOrderItem Load (3.8ms)[0m  [1m[34mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 LIMIT $2[0m  [["order_id", 3], ["LIMIT", 11]]
Started GET "/" for ::1 at 2023-04-20 14:56:07 -0700
DEPRECATION WARNING: 'include Pundit' is deprecated. Please use 'include Pundit::Authorization' instead.
 (called from include at /Users/dev/Documents/repos/ecommerceApp-main/app/controllers/concerns/authorizable.rb:7)
Processing by ProductsController#index as HTML
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:7
  Rendering products/index.html.erb within layouts/application
  [1m[35m (1.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" WHERE (user_id != 2)[0m
  â†³ app/views/products/index.html.erb:6
  [1m[36mProduct Load (4.7ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (user_id != 2)[0m
  â†³ app/views/products/index.html.erb:7
  [1m[36mActiveStorage::Attachment Exists (1.9ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/index.html.erb:11
  Rendered products/index.html.erb within layouts/application (257.2ms)
  Rendered layouts/_header.html.erb (21.0ms)
  Rendered layouts/_alert.html.erb (3.5ms)
Completed 200 OK in 2054ms (Views: 1660.2ms | ActiveRecord: 122.0ms)


  [1m[36mCartItem Load (2.5ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" LIMIT $1[0m  [["LIMIT", 11]]
Started GET "/" for ::1 at 2023-04-20 14:58:03 -0700
DEPRECATION WARNING: 'include Pundit' is deprecated. Please use 'include Pundit::Authorization' instead.
 (called from include at /Users/dev/Documents/repos/ecommerceApp-main/app/controllers/concerns/authorizable.rb:7)
Processing by ProductsController#index as HTML
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:7
  Rendering products/index.html.erb within layouts/application
  [1m[35m (1.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" WHERE (user_id != 2)[0m
  â†³ app/views/products/index.html.erb:6
  [1m[36mProduct Load (3.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (user_id != 2)[0m
  â†³ app/views/products/index.html.erb:7
  [1m[36mActiveStorage::Attachment Exists (2.0ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/index.html.erb:11
  Rendered products/index.html.erb within layouts/application (266.1ms)
  Rendered layouts/_header.html.erb (21.6ms)
  Rendered layouts/_alert.html.erb (3.4ms)
Completed 200 OK in 2117ms (Views: 1695.1ms | ActiveRecord: 127.5ms)


Started GET "/products/1" for ::1 at 2023-04-20 15:02:11 -0700
DEPRECATION WARNING: 'include Pundit' is deprecated. Please use 'include Pundit::Authorization' instead.
 (called from include at /Users/dev/Documents/repos/ecommerceApp-main/app/controllers/concerns/authorizable.rb:7)
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (1.7ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:68
  [1m[36mUser Load (2.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:69
  [1m[36mUser Load (12.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/policies/product_policy.rb:23
  Rendering products/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Exists (11.3ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:5
  Rendered cart_items/_form.html.erb (35.6ms)
  Rendered products/show.html.erb within layouts/application (170.9ms)
  Rendered layouts/_header.html.erb (22.2ms)
  Rendered layouts/_alert.html.erb (3.2ms)
Completed 200 OK in 2421ms (Views: 1697.8ms | ActiveRecord: 191.4ms)


Started POST "/cart_items" for ::1 at 2023-04-20 15:02:18 -0700
Processing by CartItemsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"6ywuftPZN+GmwjNUC4esymunvQvOl52i2w8GgMtGn51g+j/qSv9JVW9SbLaQ2hL2USUHSrdVAQyJWXJ1v19x6Q==", "cart_item"=>{"product_id"=>"1", "quantity"=>"2"}, "commit"=>"Add to cart"}
  [1m[36mUser Load (4.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cart_items_controller.rb:21
  [1m[36mCartItem Load (1.7ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."product_id" = $1 AND "cart_items"."user_id" = $2 LIMIT $3[0m  [["product_id", 1], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/helpers/cart_item_helper.rb:5
  [1m[36mProduct Load (1.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/helpers/cart_item_helper.rb:7
  [1m[36mCACHE Product Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/helpers/cart_item_helper.rb:11
  [1m[35m (4.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/helpers/cart_item_helper.rb:13
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/helpers/cart_item_helper.rb:13
  [1m[36mCartItem Update (2.5ms)[0m  [1m[33mUPDATE "cart_items" SET "quantity" = $1, "updated_at" = $2 WHERE "cart_items"."id" = $3[0m  [["quantity", 3], ["updated_at", "2023-04-20 22:02:18.808088"], ["id", 1]]
  â†³ app/helpers/cart_item_helper.rb:13
  [1m[35m (4.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/helpers/cart_item_helper.rb:13
Redirected to http://localhost:3000/cart_items
Completed 302 Found in 235ms (ActiveRecord: 21.2ms)


Started GET "/cart_items" for ::1 at 2023-04-20 15:02:18 -0700
Processing by CartItemsController#index as HTML
  [1m[36mUser Load (7.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cart_items_controller.rb:7
  Rendering cart_items/index.html.erb within layouts/application
  [1m[35m (8.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:6
  [1m[35mCACHE  (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:20
  [1m[36mCartItem Load (1.8ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:23
  [1m[36mProduct Load (1.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:23
  [1m[36mActiveStorage::Attachment Exists (2.2ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:25
  Rendered cart_items/_quantity.html.erb (30.6ms)
  Rendered cart_items/index.html.erb within layouts/application (174.0ms)
  Rendered layouts/_header.html.erb (21.9ms)
  Rendered layouts/_alert.html.erb (3.6ms)
Completed 200 OK in 1754ms (Views: 1689.1ms | ActiveRecord: 21.6ms)


Started POST "/checkouts" for ::1 at 2023-04-20 15:02:22 -0700
Processing by CheckoutsController#create as JS
  Parameters: {"authenticity_token"=>"I44tOlgpjhM9BpgiGhaxv73SKalMyxgDi3gaFJLbmzGKjyodbrVOD+o2s/f6zGDxqdaEM/KwTTZrP/44fAMt7A=="}
  [1m[36mUser Load (6.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/checkouts_controller.rb:7
  [1m[35m (1.8ms)[0m  [1m[35mBEGIN[0m
  â†³ app/services/order_service.rb:7
  [1m[35m (1.0ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/services/order_service.rb:7
  [1m[36mCartItem Load (1.3ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 11]]
  â†³ /Users/dev/.rvm/rubies/ruby-2.5.1/lib/ruby/gems/2.5.0/gems/did_you_mean-1.2.0/lib/did_you_mean/core_ext/name_error.rb:8
  [1m[36mCACHE CartItem Load (0.3ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 11]]
  â†³ /Users/dev/.rvm/rubies/ruby-2.5.1/lib/ruby/gems/2.5.0/gems/did_you_mean-1.2.0/lib/did_you_mean/core_ext/name_error.rb:4
Completed 500 Internal Server Error in 472ms (ActiveRecord: 9.1ms)


  
  [1m[36mCACHE CartItem Load (0.3ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 11]]
  â†³ /Users/dev/.rvm/rubies/ruby-2.5.1/lib/ruby/gems/2.5.0/gems/did_you_mean-1.2.0/lib/did_you_mean/core_ext/name_error.rb:8
NameError (undefined local variable or method `cart_items' for #<OrderService:0x00007fb5f3b45950>
Did you mean?  @cart_items):
  
app/services/order_service.rb:35:in `line_items'
app/services/order_service.rb:46:in `amount_paid'
app/services/order_service.rb:8:in `block in create!'
app/services/order_service.rb:7:in `create!'
app/controllers/checkouts_controller.rb:9:in `create'
Started GET "/cart_items" for ::1 at 2023-04-20 15:02:53 -0700
DEPRECATION WARNING: 'include Pundit' is deprecated. Please use 'include Pundit::Authorization' instead.
 (called from include at /Users/dev/Documents/repos/ecommerceApp-main/app/controllers/concerns/authorizable.rb:7)
Processing by CartItemsController#index as HTML
  [1m[36mUser Load (5.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cart_items_controller.rb:7
  Rendering cart_items/index.html.erb within layouts/application
  [1m[35m (1.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:6
  [1m[35mCACHE  (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:20
  [1m[36mCartItem Load (1.2ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:23
  [1m[36mProduct Load (1.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:23
  [1m[36mActiveStorage::Attachment Exists (6.8ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:25
  Rendered cart_items/_quantity.html.erb (35.5ms)
  Rendered cart_items/index.html.erb within layouts/application (539.6ms)
  Rendered layouts/_header.html.erb (20.0ms)
  Rendered layouts/_alert.html.erb (3.1ms)
Completed 200 OK in 2408ms (Views: 2016.5ms | ActiveRecord: 143.8ms)


Started POST "/checkouts" for ::1 at 2023-04-20 15:03:02 -0700
Processing by CheckoutsController#create as JS
  Parameters: {"authenticity_token"=>"xDvrOpxou8kevltM28DBTLFSv8FE/HuesIBw6TRYq/RtOuwdqvR71cmOcJk7GhACpVYSW/qHLqtQx5TF2oAdKQ=="}
  [1m[36mUser Load (11.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/checkouts_controller.rb:7
  [1m[35m (1.9ms)[0m  [1m[35mBEGIN[0m
  â†³ app/services/order_service.rb:7
  [1m[36mCartItem Load (9.9ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/services/order_service.rb:35
  [1m[36mProduct Load (4.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/services/order_service.rb:37
  [1m[36mOrder Create (26.3ms)[0m  [1m[32mINSERT INTO "orders" ("status", "amount_paid", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["status", 1], ["amount_paid", "100.0"], ["user_id", 2], ["created_at", "2023-04-20 22:03:02.806480"], ["updated_at", "2023-04-20 22:03:02.806480"]]
  â†³ app/services/order_service.rb:8
  [1m[36mCartItem Load (1.2ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/services/order_service.rb:35
  [1m[36mProduct Load (6.7ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/services/order_service.rb:37
  [1m[36mOrderItem Create Many (15.1ms)[0m  [1m[32mINSERT INTO "order_items" ("product_name","price","quantity","order_id","created_at","updated_at") VALUES ('hello product',100,3,4,'2023-04-20 22:03:02.969014','2023-04-20 22:03:02.969014') RETURNING "id"[0m
  â†³ app/services/order_service.rb:10
  [1m[36mCartItem Destroy (2.3ms)[0m  [1m[31mDELETE FROM "cart_items" WHERE "cart_items"."id" = $1[0m  [["id", 1]]
  â†³ app/services/order_service.rb:11
  [1m[35m (2.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/services/order_service.rb:7
Redirected to http://localhost:3000/products
Completed 200 OK in 539ms (ActiveRecord: 143.6ms)


Started GET "/products" for ::1 at 2023-04-20 15:03:03 -0700
Processing by ProductsController#index as HTML
  [1m[36mUser Load (3.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:7
  Rendering products/index.html.erb within layouts/application
  [1m[35m (7.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" WHERE (user_id != 2)[0m
  â†³ app/views/products/index.html.erb:6
  [1m[36mProduct Load (1.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (user_id != 2)[0m
  â†³ app/views/products/index.html.erb:7
  [1m[36mActiveStorage::Attachment Exists (5.4ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/index.html.erb:11
  Rendered products/index.html.erb within layouts/application (72.2ms)
  Rendered layouts/_header.html.erb (15.6ms)
  Rendered layouts/_alert.html.erb (3.2ms)
Completed 200 OK in 1482ms (Views: 1419.2ms | ActiveRecord: 18.5ms)


Started GET "/products/1" for ::1 at 2023-04-20 15:03:07 -0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (2.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:68
  [1m[36mUser Load (11.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:69
  [1m[36mUser Load (11.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/policies/product_policy.rb:23
  Rendering products/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Exists (6.9ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:5
  Rendered cart_items/_form.html.erb (23.8ms)
  Rendered products/show.html.erb within layouts/application (69.3ms)
  Rendered layouts/_header.html.erb (21.3ms)
  Rendered layouts/_alert.html.erb (3.2ms)
Completed 200 OK in 1558ms (Views: 1437.0ms | ActiveRecord: 32.3ms)


Started POST "/cart_items" for ::1 at 2023-04-20 15:03:10 -0700
Processing by CartItemsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"0QaVGKjiYOjyc0+c5mYTjuKNB+2Zlr5eJYR6TEWOmYFa0ISMMcQeXDvjEH59O62y2A+9rOBUIvB30g65MZd39Q==", "cart_item"=>{"product_id"=>"1", "quantity"=>"1"}, "commit"=>"Add to cart"}
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cart_items_controller.rb:21
  [1m[36mCartItem Load (14.0ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."product_id" = $1 AND "cart_items"."user_id" = $2 LIMIT $3[0m  [["product_id", 1], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/helpers/cart_item_helper.rb:5
  [1m[35m (3.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/helpers/cart_item_helper.rb:5
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/helpers/cart_item_helper.rb:5
  [1m[36mProduct Load (5.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/helpers/cart_item_helper.rb:5
  [1m[36mCartItem Create (14.6ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 2], ["product_id", 1], ["created_at", "2023-04-20 22:03:10.832134"], ["updated_at", "2023-04-20 22:03:10.832134"]]
  â†³ app/helpers/cart_item_helper.rb:5
  [1m[35m (2.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/helpers/cart_item_helper.rb:5
  [1m[36mProduct Load (1.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/helpers/cart_item_helper.rb:11
  [1m[35m (1.0ms)[0m  [1m[35mBEGIN[0m
  â†³ app/helpers/cart_item_helper.rb:13
  [1m[36mCartItem Update (2.3ms)[0m  [1m[33mUPDATE "cart_items" SET "quantity" = $1, "updated_at" = $2 WHERE "cart_items"."id" = $3[0m  [["quantity", 1], ["updated_at", "2023-04-20 22:03:10.946288"], ["id", 2]]
  â†³ app/helpers/cart_item_helper.rb:13
  [1m[35m (4.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/helpers/cart_item_helper.rb:13
Redirected to http://localhost:3000/cart_items
Completed 302 Found in 339ms (ActiveRecord: 52.0ms)


Started GET "/cart_items" for ::1 at 2023-04-20 15:03:11 -0700
Processing by CartItemsController#index as HTML
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cart_items_controller.rb:7
  Rendering cart_items/index.html.erb within layouts/application
  [1m[35m (4.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:6
  [1m[35mCACHE  (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:20
  [1m[36mCartItem Load (10.9ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:23
  [1m[36mProduct Load (11.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:23
  [1m[36mActiveStorage::Attachment Exists (2.1ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:25
  Rendered cart_items/_quantity.html.erb (27.8ms)
  Rendered cart_items/index.html.erb within layouts/application (166.3ms)
  Rendered layouts/_header.html.erb (20.1ms)
  Rendered layouts/_alert.html.erb (3.2ms)
Completed 200 OK in 1563ms (Views: 1498.1ms | ActiveRecord: 30.5ms)


Started GET "/cart_items/" for ::1 at 2023-04-20 15:03:17 -0700
Started PUT "/cart_items/1" for ::1 at 2023-04-20 15:03:17 -0700
Processing by CartItemsController#index as TEXT
Processing by CartItemsController#update as JS
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"3zhyjkJaP94xJ2CwVRdw91U9J6EJTYhbJNQar3xKxSZ2OXWpdMb/wuYXS2W1zaG5QTmKO7c23W7Ek/6DkpJz+w==", "cart_item"=>{"product_id"=>"1", "quantity"=>"2"}, "commit"=>"+", "id"=>"1"}
  [1m[36mUser Load (27.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cart_items_controller.rb:7
  [1m[36mUser Load (22.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cart_items_controller.rb:26
  Rendering cart_items/index.html.erb within layouts/application
  [1m[35m (7.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:6
  [1m[35mCACHE  (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:20
  [1m[36mCartItem Load (7.4ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."product_id" = $1 LIMIT $2[0m  [["product_id", 0], ["LIMIT", 1]]
  â†³ app/models/cart_item.rb:11
  [1m[36mCartItem Load (3.3ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:23
  [1m[36mProduct Load (13.7ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:23
  [1m[36mActiveStorage::Attachment Exists (6.9ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:25
  Rendered cart_items/_quantity.html.erb (28.1ms)
  Rendered cart_items/index.html.erb within layouts/application (234.3ms)
No template found for CartItemsController#update, rendering head :no_content
Completed 204 No Content in 1294ms (ActiveRecord: 29.4ms)


  Rendered layouts/_header.html.erb (23.6ms)
  Rendered layouts/_alert.html.erb (3.2ms)
Completed 200 OK in 1828ms (Views: 1710.1ms | ActiveRecord: 58.9ms)


Started GET "/cart_items/" for ::1 at 2023-04-20 15:03:20 -0700
Started PUT "/cart_items/1" for ::1 at 2023-04-20 15:03:20 -0700
Processing by CartItemsController#index as TEXT
Processing by CartItemsController#update as JS
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"3zhyjkJaP94xJ2CwVRdw91U9J6EJTYhbJNQar3xKxSZ2OXWpdMb/wuYXS2W1zaG5QTmKO7c23W7Ek/6DkpJz+w==", "cart_item"=>{"product_id"=>"1", "quantity"=>"3"}, "commit"=>"+", "id"=>"1"}
  [1m[36mUser Load (38.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cart_items_controller.rb:7
  [1m[36mUser Load (31.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cart_items_controller.rb:26
  [1m[36mCartItem Load (26.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."product_id" = $1 LIMIT $2[0m  [["product_id", 0], ["LIMIT", 1]]
  â†³ app/models/cart_item.rb:11
  Rendering cart_items/index.html.erb within layouts/application
  [1m[35m (35.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:6
  [1m[35mCACHE  (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:20
  [1m[36mCartItem Load (1.5ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:23
  [1m[36mProduct Load (14.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:23
  [1m[36mActiveStorage::Attachment Exists (1.8ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:25
  Rendered cart_items/_quantity.html.erb (27.9ms)
  Rendered cart_items/index.html.erb within layouts/application (202.6ms)
No template found for CartItemsController#update, rendering head :no_content
Completed 204 No Content in 1568ms (ActiveRecord: 57.8ms)


  Rendered layouts/_header.html.erb (20.3ms)
  Rendered layouts/_alert.html.erb (3.1ms)
Completed 200 OK in 1798ms (Views: 1638.0ms | ActiveRecord: 91.4ms)


Started PUT "/cart_items/1" for ::1 at 2023-04-20 15:03:22 -0700
Started GET "/cart_items/" for ::1 at 2023-04-20 15:03:22 -0700
Processing by CartItemsController#update as JS
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"3zhyjkJaP94xJ2CwVRdw91U9J6EJTYhbJNQar3xKxSZ2OXWpdMb/wuYXS2W1zaG5QTmKO7c23W7Ek/6DkpJz+w==", "cart_item"=>{"product_id"=>"1", "quantity"=>"4"}, "commit"=>"+", "id"=>"1"}
  [1m[36mUser Load (13.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cart_items_controller.rb:26
Processing by CartItemsController#index as TEXT
  [1m[36mUser Load (4.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cart_items_controller.rb:7
  [1m[36mCartItem Load (29.3ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."product_id" = $1 LIMIT $2[0m  [["product_id", 0], ["LIMIT", 1]]
  â†³ app/models/cart_item.rb:11
  Rendering cart_items/index.html.erb within layouts/application
  [1m[35m (2.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:6
  [1m[35mCACHE  (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:20
  [1m[36mCartItem Load (2.6ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:23
  [1m[36mProduct Load (7.8ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:23
  [1m[36mActiveStorage::Attachment Exists (15.8ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:25
  Rendered cart_items/_quantity.html.erb (28.0ms)
  Rendered cart_items/index.html.erb within layouts/application (177.7ms)
No template found for CartItemsController#update, rendering head :no_content
Completed 204 No Content in 691ms (ActiveRecord: 43.3ms)


  Rendered layouts/_header.html.erb (15.8ms)
  Rendered layouts/_alert.html.erb (3.5ms)
Completed 200 OK in 1747ms (Views: 1624.9ms | ActiveRecord: 32.8ms)


Started POST "/checkouts" for ::1 at 2023-04-20 15:03:25 -0700
Processing by CheckoutsController#create as JS
  Parameters: {"authenticity_token"=>"3zhyjkJaP94xJ2CwVRdw91U9J6EJTYhbJNQar3xKxSZ2OXWpdMb/wuYXS2W1zaG5QTmKO7c23W7Ek/6DkpJz+w=="}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/checkouts_controller.rb:7
  [1m[35m (1.5ms)[0m  [1m[35mBEGIN[0m
  â†³ app/services/order_service.rb:7
  [1m[36mCartItem Load (7.0ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/services/order_service.rb:35
  [1m[36mProduct Load (1.9ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/services/order_service.rb:37
  [1m[36mOrder Create (16.9ms)[0m  [1m[32mINSERT INTO "orders" ("status", "amount_paid", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["status", 1], ["amount_paid", "100.0"], ["user_id", 2], ["created_at", "2023-04-20 22:03:25.335101"], ["updated_at", "2023-04-20 22:03:25.335101"]]
  â†³ app/services/order_service.rb:8
  [1m[36mCartItem Load (1.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/services/order_service.rb:35
  [1m[36mProduct Load (8.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/services/order_service.rb:37
  [1m[36mOrderItem Create Many (12.2ms)[0m  [1m[32mINSERT INTO "order_items" ("product_name","price","quantity","order_id","created_at","updated_at") VALUES ('hello product',100,1,5,'2023-04-20 22:03:25.414204','2023-04-20 22:03:25.414204') RETURNING "id"[0m
  â†³ app/services/order_service.rb:10
  [1m[36mCartItem Destroy (5.5ms)[0m  [1m[31mDELETE FROM "cart_items" WHERE "cart_items"."id" = $1[0m  [["id", 2]]
  â†³ app/services/order_service.rb:11
  [1m[35m (8.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/services/order_service.rb:7
Redirected to http://localhost:3000/products
Completed 200 OK in 274ms (ActiveRecord: 64.3ms)


Started GET "/products" for ::1 at 2023-04-20 15:03:25 -0700
Processing by ProductsController#index as HTML
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:7
  Rendering products/index.html.erb within layouts/application
  [1m[35m (1.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" WHERE (user_id != 2)[0m
  â†³ app/views/products/index.html.erb:6
  [1m[36mProduct Load (1.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (user_id != 2)[0m
  â†³ app/views/products/index.html.erb:7
  [1m[36mActiveStorage::Attachment Exists (7.3ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/index.html.erb:11
  Rendered products/index.html.erb within layouts/application (73.0ms)
  Rendered layouts/_header.html.erb (15.4ms)
  Rendered layouts/_alert.html.erb (3.8ms)
Completed 200 OK in 1494ms (Views: 1447.0ms | ActiveRecord: 12.2ms)


Started GET "/products/1" for ::1 at 2023-04-20 15:03:30 -0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (6.7ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:68
  [1m[36mUser Load (3.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:69
  [1m[36mUser Load (16.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/policies/product_policy.rb:23
  Rendering products/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Exists (4.1ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:5
  Rendered cart_items/_form.html.erb (20.6ms)
  Rendered products/show.html.erb within layouts/application (86.6ms)
  Rendered layouts/_header.html.erb (20.3ms)
  Rendered layouts/_alert.html.erb (3.5ms)
Completed 200 OK in 1623ms (Views: 1520.0ms | ActiveRecord: 30.4ms)


  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
  [1m[35m (5.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  â†³ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  â†³ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  â†³ bin/rails:9
  [1m[35m (8694.4ms)[0m  [1m[35mDROP DATABASE IF EXISTS "dev"[0m
  â†³ bin/rails:9
  [1m[35m (2.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  â†³ bin/rails:9
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  â†³ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  â†³ bin/rails:9
  [1m[35m (344.1ms)[0m  [1m[35mDROP DATABASE IF EXISTS "dev"[0m
  â†³ bin/rails:9
  [1m[35m (0.5ms)[0m  [1m[35mDROP DATABASE IF EXISTS "dev"[0m
  â†³ bin/rails:9
  [1m[35m (237.6ms)[0m  [1m[35mCREATE DATABASE "dev" ENCODING = 'unicode'[0m
  â†³ bin/rails:9
  [1m[35m (1.4ms)[0m  [1m[35mCREATE DATABASE "dev" ENCODING = 'unicode'[0m
  â†³ bin/rails:9
  [1m[35m (5.5ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  â†³ bin/rails:9
  [1m[35m (2.5ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  â†³ bin/rails:9
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_try_advisory_lock(601276535802311985)[0m
  â†³ bin/rails:9
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
Migrating to DeviseCreateUsers (20230131165958)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:9
  [1m[35m (3.5ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "full_name" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "confirmation_token" character varying, "confirmed_at" timestamp, "confirmation_sent_at" timestamp, "unconfirmed_email" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  â†³ db/migrate/20230131165958_devise_create_users.rb:5
  [1m[35m (0.6ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_email" ON "users"  ("email")[0m
  â†³ db/migrate/20230131165958_devise_create_users.rb:39
  [1m[35m (0.5ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users"  ("reset_password_token")[0m
  â†³ db/migrate/20230131165958_devise_create_users.rb:40
  [1m[35m (0.7ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_confirmation_token" ON "users"  ("confirmation_token")[0m
  â†³ db/migrate/20230131165958_devise_create_users.rb:41
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230131165958"]]
  â†³ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:9
Migrating to CreateProducts (20230131175123)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:9
  [1m[35m (3.8ms)[0m  [1m[35mCREATE TABLE "products" ("id" bigserial primary key, "name" character varying DEFAULT '' NOT NULL, "description" text DEFAULT '' NOT NULL, "price" decimal DEFAULT 1 NOT NULL, "quantity" integer DEFAULT 5 NOT NULL, "user_id" bigint NOT NULL, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_dee2631783"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  â†³ db/migrate/20230131175123_create_products.rb:5
  [1m[35m (0.5ms)[0m  [1m[35mCREATE  INDEX  "index_products_on_user_id" ON "products"  ("user_id")[0m
  â†³ db/migrate/20230131175123_create_products.rb:5
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230131175123"]]
  â†³ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:9
Migrating to CreateCartItems (20230201035448)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:9
  [1m[35m (2.3ms)[0m  [1m[35mCREATE TABLE "cart_items" ("id" bigserial primary key, "quantity" integer DEFAULT 0 NOT NULL, "user_id" bigint NOT NULL, "product_id" bigint NOT NULL, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_fcb2cbf0bc"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_681a180e84"
FOREIGN KEY ("product_id")
  REFERENCES "products" ("id")
)[0m
  â†³ db/migrate/20230201035448_create_cart_items.rb:5
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_cart_items_on_user_id" ON "cart_items"  ("user_id")[0m
  â†³ db/migrate/20230201035448_create_cart_items.rb:5
  [1m[35m (0.5ms)[0m  [1m[35mCREATE  INDEX  "index_cart_items_on_product_id" ON "cart_items"  ("product_id")[0m
  â†³ db/migrate/20230201035448_create_cart_items.rb:5
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230201035448"]]
  â†³ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:9
Migrating to CreateOrders (20230201035610)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:9
  [1m[35m (3.0ms)[0m  [1m[35mCREATE TABLE "orders" ("id" bigserial primary key, "status" integer DEFAULT 0 NOT NULL, "amount_paid" decimal DEFAULT 0 NOT NULL, "user_id" bigint NOT NULL, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_f868b47f6a"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  â†³ db/migrate/20230201035610_create_orders.rb:5
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_orders_on_user_id" ON "orders"  ("user_id")[0m
  â†³ db/migrate/20230201035610_create_orders.rb:5
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230201035610"]]
  â†³ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:9
Migrating to CreateOrderItems (20230201035703)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:9
  [1m[35m (3.1ms)[0m  [1m[35mCREATE TABLE "order_items" ("id" bigserial primary key, "price" decimal DEFAULT 1 NOT NULL, "quantity" integer DEFAULT 1 NOT NULL, "product_id" bigint NOT NULL, "order_id" bigint NOT NULL, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_f1a29ddd47"
FOREIGN KEY ("product_id")
  REFERENCES "products" ("id")
, CONSTRAINT "fk_rails_e3cb28f071"
FOREIGN KEY ("order_id")
  REFERENCES "orders" ("id")
)[0m
  â†³ db/migrate/20230201035703_create_order_items.rb:5
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_order_items_on_product_id" ON "order_items"  ("product_id")[0m
  â†³ db/migrate/20230201035703_create_order_items.rb:5
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_order_items_on_order_id" ON "order_items"  ("order_id")[0m
  â†³ db/migrate/20230201035703_create_order_items.rb:5
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230201035703"]]
  â†³ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:9
Migrating to CreateActiveStorageTables (20230201074401)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:9
  [1m[35m (13.2ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" bigserial primary key, "key" character varying NOT NULL, "filename" character varying NOT NULL, "content_type" character varying, "metadata" text, "byte_size" bigint NOT NULL, "checksum" character varying NOT NULL, "created_at" timestamp NOT NULL)[0m
  â†³ db/migrate/20230201074401_create_active_storage_tables.active_storage.rb:6
  [1m[35m (1.4ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_active_storage_blobs_on_key" ON "active_storage_blobs"  ("key")[0m
  â†³ db/migrate/20230201074401_create_active_storage_tables.active_storage.rb:6
  [1m[35m (2.7ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" bigserial primary key, "name" character varying NOT NULL, "record_type" character varying NOT NULL, "record_id" bigint NOT NULL, "blob_id" bigint NOT NULL, "created_at" timestamp NOT NULL, CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  â†³ db/migrate/20230201074401_create_active_storage_tables.active_storage.rb:18
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments"  ("blob_id")[0m
  â†³ db/migrate/20230201074401_create_active_storage_tables.active_storage.rb:18
  [1m[35m (0.8ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_active_storage_attachments_uniqueness" ON "active_storage_attachments"  ("record_type", "record_id", "name", "blob_id")[0m
  â†³ db/migrate/20230201074401_create_active_storage_tables.active_storage.rb:18
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230201074401"]]
  â†³ bin/rails:9
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:9
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  â†³ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:9
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-04-20 22:05:10.642071"], ["updated_at", "2023-04-20 22:05:10.642071"]]
  â†³ bin/rails:9
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(601276535802311985)[0m
  â†³ bin/rails:9
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
Started POST "/cart_items" for ::1 at 2023-04-20 15:07:14 -0700
  [1m[35m (2.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ /Users/dev/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.6/lib/active_record/log_subscriber.rb:98
DEPRECATION WARNING: 'include Pundit' is deprecated. Please use 'include Pundit::Authorization' instead.
 (called from include at /Users/dev/Documents/repos/ecommerceApp-main/app/controllers/concerns/authorizable.rb:7)
Processing by CartItemsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"1wLblbbPF5Ym4ClkdwZOHJ8BG8yM49LX0x8eFq8JiV9c1MoBL+lpIu9wdobsW/AgpYOhjfUhTnmBSWrj2xBnKw==", "cart_item"=>{"product_id"=>"1", "quantity"=>"1"}, "commit"=>"Add to cart"}
  [1m[36mUser Load (3.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cart_items_controller.rb:21
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/helpers/cart_item_helper.rb:22
Completed 404 Not Found in 124ms (ActiveRecord: 87.4ms)


  
ActiveRecord::RecordNotFound (Couldn't find Product with 'id'=1):
  
app/helpers/cart_item_helper.rb:22:in `add_to_session'
app/controllers/cart_items_controller.rb:21:in `create'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (5.4ms)[0m  [1m[31mROLLBACK[0m
Started GET "/" for ::1 at 2023-04-20 15:08:24 -0700
  [1m[35m (1.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ /Users/dev/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.6/lib/active_record/log_subscriber.rb:98
DEPRECATION WARNING: 'include Pundit' is deprecated. Please use 'include Pundit::Authorization' instead.
 (called from include at /Users/dev/Documents/repos/ecommerceApp-main/app/controllers/concerns/authorizable.rb:7)
Processing by ProductsController#index as HTML
  [1m[36mUser Load (3.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:7
  Rendering products/index.html.erb within layouts/application
  [1m[35m (2.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  â†³ app/views/products/index.html.erb:6
  Rendered products/index.html.erb within layouts/application (14.8ms)
  Rendered layouts/_header.html.erb (4.2ms)
  Rendered layouts/_alert.html.erb (0.3ms)
Completed 200 OK in 323ms (Views: 248.9ms | ActiveRecord: 51.6ms)


Started GET "/users/sign_up" for ::1 at 2023-04-20 15:08:26 -0700
Processing by Devise::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_error_messages.html.erb (0.3ms)
  Rendered devise/shared/_links.html.erb (0.6ms)
  Rendered devise/registrations/new.html.erb within layouts/application (134.8ms)
  Rendered layouts/_header.html.erb (0.9ms)
  Rendered layouts/_alert.html.erb (0.2ms)
Completed 200 OK in 178ms (Views: 171.6ms | ActiveRecord: 0.0ms)


Started POST "/users" for ::1 at 2023-04-20 15:08:35 -0700
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"GXXqwplAL4VGky20dr71xbvQRRKL6ui5pJKerHtZyd3JCbm/A0it8rnTTeAVlEtHknLeYKTgWE2pNvQk0aBcwQ==", "user"=>{"full_name"=>"hello123", "email"=>"hello@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "role"=>"0", "commit"=>"Sign up"}
Unpermitted parameter: :password_confirmation
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/dev/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.6/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Exists (12.7ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "hello@gmail.com"], ["LIMIT", 1]]
  â†³ /Users/dev/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.6/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Create (6.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "full_name", "confirmation_token", "confirmation_sent_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "hello@gmail.com"], ["encrypted_password", "$2a$12$POnSElOfym7Tv0fdm/JV6erAWtqhM.LjHHrt.5VomSCCVtPN0p3J6"], ["full_name", "hello123"], ["confirmation_token", "RXgg5utFH2Hs6MPDQGyW"], ["confirmation_sent_at", "2023-04-20 22:08:35.520098"], ["created_at", "2023-04-20 22:08:35.519997"], ["updated_at", "2023-04-20 22:08:35.519997"]]
  â†³ /Users/dev/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.6/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/dev/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.6/lib/active_record/log_subscriber.rb:98
  Rendering devise/mailer/confirmation_instructions.html.erb
  Rendered devise/mailer/confirmation_instructions.html.erb (0.5ms)
Devise::Mailer#confirmation_instructions: processed outbound mail in 132.1ms
Sent mail to hello@gmail.com (116.8ms)
Date: Thu, 20 Apr 2023 15:08:35 -0700
From: please-change-me-at-config-initializers-devise@example.com
Reply-To: please-change-me-at-config-initializers-devise@example.com
To: hello@gmail.com
Message-ID: <6441b7e3af7ca_72fc3fc3f15b1b1c4579d@the-showdown.mail>
Subject: Confirmation instructions
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Welcome hello@gmail.com!</p>

<p>You can confirm your account email through the link below:</p>

<p><a href="http://localhost:3000/users/confirmation?confirmation_token=RXgg5utFH2Hs6MPDQGyW">Confirm my account</a></p>

  [1m[35m (2.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/concerns/load_cart.rb:37
Redirected to http://localhost:3000/
Completed 302 Found in 633ms (ActiveRecord: 39.5ms)


Started GET "/" for ::1 at 2023-04-20 15:08:35 -0700
Processing by ProductsController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:7
  Rendering products/index.html.erb within layouts/application
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" WHERE (user_id != 1)[0m
  â†³ app/views/products/index.html.erb:6
  Rendered products/index.html.erb within layouts/application (2.0ms)
  Rendered layouts/_header.html.erb (1.4ms)
  Rendered layouts/_alert.html.erb (0.2ms)
Completed 200 OK in 60ms (Views: 55.4ms | ActiveRecord: 1.6ms)


Started GET "/products/mine" for ::1 at 2023-04-20 15:08:39 -0700
Processing by ProductsController#mine as HTML
  [1m[36mUser Load (2.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:16
  Rendering products/mine.html.erb within layouts/application
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (user_id = 1)[0m
  â†³ app/views/products/mine.html.erb:9
  Rendered products/mine.html.erb within layouts/application (2.7ms)
  Rendered layouts/_header.html.erb (1.7ms)
  Rendered layouts/_alert.html.erb (0.4ms)
Completed 200 OK in 101ms (Views: 76.3ms | ActiveRecord: 3.6ms)


Started GET "/products/new" for ::1 at 2023-04-20 15:08:39 -0700
Processing by ProductsController#new as HTML
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:12
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (44.2ms)
  Rendered products/new.html.erb within layouts/application (46.1ms)
  Rendered layouts/_header.html.erb (0.9ms)
  Rendered layouts/_alert.html.erb (0.2ms)
Completed 200 OK in 117ms (Views: 63.3ms | ActiveRecord: 35.9ms)


Started POST "/products" for ::1 at 2023-04-20 15:08:46 -0700
Processing by ProductsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"/37L/7SzAuU3JQmERKwzEQFPgJNpaF9fkluPTaeUMg4EgICScMM8xiu5AiRRoD5IAMFF0T2IQNRGQ1sD62SU4w==", "product"=>{"name"=>"123", "description"=>"123123123123", "price"=>"1.0", "quantity"=>"5"}, "commit"=>"Create"}
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:22
  [1m[35m (4.9ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/products_controller.rb:24
  [1m[36mProduct Create (9.0ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "123"], ["description", "123123123123"], ["user_id", 1], ["created_at", "2023-04-20 22:08:46.139965"], ["updated_at", "2023-04-20 22:08:46.139965"]]
  â†³ app/controllers/products_controller.rb:24
  [1m[35m (0.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/products_controller.rb:24
Redirected to http://localhost:3000/products/mine
Completed 302 Found in 35ms (ActiveRecord: 16.3ms)


Started GET "/products/mine" for ::1 at 2023-04-20 15:08:46 -0700
Processing by ProductsController#mine as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:16
  Rendering products/mine.html.erb within layouts/application
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (user_id = 1)[0m
  â†³ app/views/products/mine.html.erb:9
  [1m[36mActiveStorage::Attachment Exists (1.8ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/mine.html.erb:13
  Rendered products/mine.html.erb within layouts/application (8.1ms)
  Rendered layouts/_header.html.erb (1.1ms)
  Rendered layouts/_alert.html.erb (0.2ms)
Completed 200 OK in 52ms (Views: 43.9ms | ActiveRecord: 3.2ms)


Started DELETE "/users/sign_out" for ::1 at 2023-04-20 15:08:47 -0700
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"a7YnTdu3jyOq615jo2tZo6oeufYJxF6RGaZD5JbrPa3CtyBq7StPP33bdbZDsYjtvhoUbLe/C6T54afIeDOLcA=="}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ /Users/dev/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.6/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/dev/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.6/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/dev/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.6/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/
Completed 302 Found in 5ms (ActiveRecord: 0.9ms)


Started GET "/" for ::1 at 2023-04-20 15:08:48 -0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  â†³ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/views/products/index.html.erb:7
  [1m[36mActiveStorage::Attachment Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/index.html.erb:11
  Rendered products/index.html.erb within layouts/application (3.9ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_alert.html.erb (0.3ms)
Completed 200 OK in 50ms (Views: 46.4ms | ActiveRecord: 1.5ms)


Started GET "/users/sign_in" for ::1 at 2023-04-20 15:08:50 -0700
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (0.6ms)
  Rendered devise/sessions/new.html.erb within layouts/application (4.6ms)
  Rendered layouts/_header.html.erb (0.9ms)
  Rendered layouts/_alert.html.erb (0.3ms)
Completed 200 OK in 55ms (Views: 53.4ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for ::1 at 2023-04-20 15:08:52 -0700
Processing by Devise::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_error_messages.html.erb (0.3ms)
  Rendered devise/shared/_links.html.erb (0.7ms)
  Rendered devise/registrations/new.html.erb within layouts/application (4.9ms)
  Rendered layouts/_header.html.erb (0.9ms)
  Rendered layouts/_alert.html.erb (0.3ms)
Completed 200 OK in 59ms (Views: 56.4ms | ActiveRecord: 0.0ms)


Started POST "/users" for ::1 at 2023-04-20 15:09:04 -0700
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"dBabAGpZWh+RE8T13XOSCJoWHfx8GkiUUvZgCfIVE1Skash98FHYaG5TpKG+WSyKs7SGjlMQ+GBfUgqBWOyGSA==", "user"=>{"full_name"=>"hell", "email"=>"hell@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "role"=>"0", "commit"=>"Sign up"}
Unpermitted parameter: :password_confirmation
  [1m[35m (1.3ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/dev/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.6/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "hell@gmail.com"], ["LIMIT", 1]]
  â†³ /Users/dev/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.6/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/dev/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.6/lib/active_record/log_subscriber.rb:98
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_error_messages.html.erb (0.5ms)
  Rendered devise/shared/_links.html.erb (0.4ms)
  Rendered devise/registrations/new.html.erb within layouts/application (4.2ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_alert.html.erb (0.2ms)
Completed 200 OK in 319ms (Views: 42.0ms | ActiveRecord: 2.5ms)


Started POST "/users" for ::1 at 2023-04-20 15:09:12 -0700
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"C2DoR3DeHTgkMDrFREP1/c0bhM/c2IiCRqMKyqEd2tSiYe9gRkLdJPMAERCkmSSz2R8pVWKj3bem5O7mT8VsCQ==", "user"=>{"full_name"=>"hellasdasdsa", "email"=>"hell@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "role"=>"0", "commit"=>"Sign up"}
Unpermitted parameter: :password_confirmation
  [1m[35m (1.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/dev/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.6/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "hell@gmail.com"], ["LIMIT", 1]]
  â†³ /Users/dev/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.6/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Create (4.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "full_name", "confirmation_token", "confirmation_sent_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "hell@gmail.com"], ["encrypted_password", "$2a$12$vAGOvWAfV6CEXS3YKEh10OSMD2p2Vj7FgKzIOcmROfo5KESfLDS.2"], ["full_name", "hellasdasdsa"], ["confirmation_token", "B4XM1Sym3WVkfGZyeEdx"], ["confirmation_sent_at", "2023-04-20 22:09:13.151977"], ["created_at", "2023-04-20 22:09:13.151906"], ["updated_at", "2023-04-20 22:09:13.151906"]]
  â†³ /Users/dev/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.6/lib/active_record/log_subscriber.rb:98
  [1m[35m (2.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/dev/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.6/lib/active_record/log_subscriber.rb:98
  Rendering devise/mailer/confirmation_instructions.html.erb
  Rendered devise/mailer/confirmation_instructions.html.erb (0.4ms)
Devise::Mailer#confirmation_instructions: processed outbound mail in 33.1ms
Sent mail to hell@gmail.com (159.4ms)
Date: Thu, 20 Apr 2023 15:09:13 -0700
From: please-change-me-at-config-initializers-devise@example.com
Reply-To: please-change-me-at-config-initializers-devise@example.com
To: hell@gmail.com
Message-ID: <6441b8092f49e_72fc3fc3f15b1a7c458cc@the-showdown.mail>
Subject: Confirmation instructions
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Welcome hell@gmail.com!</p>

<p>You can confirm your account email through the link below:</p>

<p><a href="http://localhost:3000/users/confirmation?confirmation_token=B4XM1Sym3WVkfGZyeEdx">Confirm my account</a></p>

  [1m[35m (7.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/controllers/concerns/load_cart.rb:37
Redirected to http://localhost:3000/
Completed 302 Found in 495ms (ActiveRecord: 16.1ms)


Started GET "/" for ::1 at 2023-04-20 15:09:13 -0700
Processing by ProductsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:7
  Rendering products/index.html.erb within layouts/application
  [1m[35m (10.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" WHERE (user_id != 2)[0m
  â†³ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (user_id != 2)[0m
  â†³ app/views/products/index.html.erb:7
  [1m[36mActiveStorage::Attachment Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/index.html.erb:11
  Rendered products/index.html.erb within layouts/application (13.6ms)
  Rendered layouts/_header.html.erb (0.9ms)
  Rendered layouts/_alert.html.erb (0.4ms)
Completed 200 OK in 60ms (Views: 46.2ms | ActiveRecord: 11.5ms)


Started GET "/products/1" for ::1 at 2023-04-20 15:09:15 -0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:68
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:69
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/policies/product_policy.rb:23
  Rendering products/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:5
  Rendered cart_items/_form.html.erb (1.7ms)
  Rendered products/show.html.erb within layouts/application (5.6ms)
  Rendered layouts/_header.html.erb (0.9ms)
  Rendered layouts/_alert.html.erb (0.2ms)
Completed 200 OK in 83ms (Views: 40.9ms | ActiveRecord: 24.2ms)


Started POST "/cart_items" for ::1 at 2023-04-20 15:09:16 -0700
Processing by CartItemsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"MZPxtKkQyG/yc6X6B3nesWRA/eTKwZiSqLzUb9KU5w26ReAgMDa22zvj+hicJGCNXsJHpbMDBDz66qCapo0JeQ==", "cart_item"=>{"product_id"=>"1", "quantity"=>"1"}, "commit"=>"Add to cart"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cart_items_controller.rb:21
  [1m[36mCartItem Load (1.0ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."product_id" = $1 AND "cart_items"."user_id" = $2 LIMIT $3[0m  [["product_id", 1], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/helpers/cart_item_helper.rb:5
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/helpers/cart_item_helper.rb:5
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/helpers/cart_item_helper.rb:5
  [1m[36mProduct Load (1.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/helpers/cart_item_helper.rb:5
  [1m[36mCartItem Create (6.0ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 2], ["product_id", 1], ["created_at", "2023-04-20 22:09:16.609654"], ["updated_at", "2023-04-20 22:09:16.609654"]]
  â†³ app/helpers/cart_item_helper.rb:5
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/helpers/cart_item_helper.rb:5
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/helpers/cart_item_helper.rb:11
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/helpers/cart_item_helper.rb:13
  [1m[36mCartItem Update (0.7ms)[0m  [1m[33mUPDATE "cart_items" SET "quantity" = $1, "updated_at" = $2 WHERE "cart_items"."id" = $3[0m  [["quantity", 1], ["updated_at", "2023-04-20 22:09:16.618269"], ["id", 1]]
  â†³ app/helpers/cart_item_helper.rb:13
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/helpers/cart_item_helper.rb:13
Redirected to http://localhost:3000/cart_items
Completed 302 Found in 20ms (ActiveRecord: 12.2ms)


Started GET "/cart_items" for ::1 at 2023-04-20 15:09:16 -0700
Processing by CartItemsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cart_items_controller.rb:7
  Rendering cart_items/index.html.erb within layouts/application
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:6
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:20
  [1m[36mCartItem Load (0.5ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:23
  [1m[36mProduct Load (7.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:23
  [1m[36mActiveStorage::Attachment Exists (1.3ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:25
  Rendered cart_items/_quantity.html.erb (1.3ms)
  Rendered cart_items/index.html.erb within layouts/application (16.4ms)
  Rendered layouts/_header.html.erb (0.9ms)
  Rendered layouts/_alert.html.erb (0.2ms)
Completed 200 OK in 54ms (Views: 41.9ms | ActiveRecord: 9.9ms)


Started POST "/checkouts" for ::1 at 2023-04-20 15:09:31 -0700
DEPRECATION WARNING: 'include Pundit' is deprecated. Please use 'include Pundit::Authorization' instead.
 (called from include at /Users/dev/Documents/repos/ecommerceApp-main/app/controllers/concerns/authorizable.rb:7)
Processing by CheckoutsController#create as JS
  Parameters: {"authenticity_token"=>"Iace3x4ciUq98XR/gACN0IJk5kheaEICrpdDHHp5RoCIphn4KIBJVmrBX6pg2lyelmBL0uATFzdO0KcwlKHwXQ=="}
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/checkouts_controller.rb:7
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/services/order_service.rb:7
  [1m[36mCartItem Load (0.4ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/services/order_service.rb:36
  [1m[36mProduct Load (7.6ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/services/order_service.rb:38
  [1m[36mOrder Create (98.7ms)[0m  [1m[32mINSERT INTO "orders" ("status", "amount_paid", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["status", 1], ["amount_paid", "100.0"], ["user_id", 2], ["created_at", "2023-04-20 22:09:31.807267"], ["updated_at", "2023-04-20 22:09:31.807267"]]
  â†³ app/services/order_service.rb:8
  [1m[36mCartItem Load (0.5ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/services/order_service.rb:36
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/services/order_service.rb:38
  [1m[35m (9.9ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/services/order_service.rb:7
Completed 500 Internal Server Error in 3733361ms (ActiveRecord: 215.5ms)


  
SystemExit (exit):
  
(byebug):1:in `exit'
(byebug):1:in `block in build_order_items'
app/services/order_service.rb:26:in `block in build_order_items'
app/services/order_service.rb:23:in `map'
app/services/order_service.rb:23:in `build_order_items'
app/services/order_service.rb:9:in `block in create!'
app/services/order_service.rb:7:in `create!'
app/controllers/checkouts_controller.rb:9:in `create'
Started POST "/checkouts" for ::1 at 2023-04-20 16:11:48 -0700
DEPRECATION WARNING: 'include Pundit' is deprecated. Please use 'include Pundit::Authorization' instead.
 (called from include at /Users/dev/Documents/repos/ecommerceApp-main/app/controllers/concerns/authorizable.rb:7)
Processing by CheckoutsController#create as JS
  Parameters: {"authenticity_token"=>"Iace3x4ciUq98XR/gACN0IJk5kheaEICrpdDHHp5RoCIphn4KIBJVmrBX6pg2lyelmBL0uATFzdO0KcwlKHwXQ=="}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/checkouts_controller.rb:7
  [1m[35m (4.9ms)[0m  [1m[35mBEGIN[0m
  â†³ app/services/order_service.rb:7
  [1m[36mCartItem Load (1.2ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/services/order_service.rb:36
  [1m[36mProduct Load (1.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/services/order_service.rb:38
  [1m[36mOrder Create (9.8ms)[0m  [1m[32mINSERT INTO "orders" ("status", "amount_paid", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["status", 1], ["amount_paid", "100.0"], ["user_id", 2], ["created_at", "2023-04-20 23:11:50.515306"], ["updated_at", "2023-04-20 23:11:50.515306"]]
  â†³ app/services/order_service.rb:8
  [1m[36mCartItem Load (11.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/services/order_service.rb:36
  [1m[36mProduct Load (1.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/services/order_service.rb:38
  [1m[35m (5.9ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/services/order_service.rb:7
Completed 500 Internal Server Error in 3932ms (ActiveRecord: 177.6ms)


  
SystemExit (exit):
  
(byebug):1:in `exit'
(byebug):1:in `block in build_order_items'
app/services/order_service.rb:26:in `block in build_order_items'
app/services/order_service.rb:23:in `map'
app/services/order_service.rb:23:in `build_order_items'
app/services/order_service.rb:9:in `block in create!'
app/services/order_service.rb:7:in `create!'
app/controllers/checkouts_controller.rb:9:in `create'
Started GET "/cart_items" for ::1 at 2023-04-20 16:12:07 -0700
DEPRECATION WARNING: 'include Pundit' is deprecated. Please use 'include Pundit::Authorization' instead.
 (called from include at /Users/dev/Documents/repos/ecommerceApp-main/app/controllers/concerns/authorizable.rb:7)
Processing by CartItemsController#index as HTML
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cart_items_controller.rb:7
  Rendering cart_items/index.html.erb within layouts/application
  [1m[35m (11.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:6
  [1m[35mCACHE  (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:20
  [1m[36mCartItem Load (1.7ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:23
  [1m[36mProduct Load (1.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:23
  [1m[36mActiveStorage::Attachment Exists (3.3ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:25
  Rendered cart_items/_quantity.html.erb (32.3ms)
  Rendered cart_items/index.html.erb within layouts/application (456.8ms)
  Rendered layouts/_header.html.erb (17.9ms)
  Rendered layouts/_alert.html.erb (2.9ms)
Completed 200 OK in 1956ms (Views: 1599.8ms | ActiveRecord: 160.3ms)


Started POST "/checkouts" for ::1 at 2023-04-20 16:12:12 -0700
Processing by CheckoutsController#create as JS
  Parameters: {"authenticity_token"=>"8vquaNoDVSm2uNofmxxwEYwWveNdAaMjNzDWNnzZAV9b+6lP7J+VNWGI8cp7xqFfmBIQeeN69hbXdzIakgG3gg=="}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/checkouts_controller.rb:7
  [1m[35m (0.8ms)[0m  [1m[35mBEGIN[0m
  â†³ app/services/order_service.rb:7
  [1m[36mCartItem Load (1.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/services/order_service.rb:35
  [1m[36mProduct Load (4.7ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/services/order_service.rb:37
  [1m[36mOrder Create (1.7ms)[0m  [1m[32mINSERT INTO "orders" ("status", "amount_paid", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["status", 1], ["amount_paid", "100.0"], ["user_id", 2], ["created_at", "2023-04-20 23:12:12.609086"], ["updated_at", "2023-04-20 23:12:12.609086"]]
  â†³ app/services/order_service.rb:8
  [1m[36mCartItem Load (1.0ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/services/order_service.rb:35
  [1m[36mProduct Load (2.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/services/order_service.rb:37
  [1m[36mOrderItem Create Many (15.7ms)[0m  [1m[32mINSERT INTO "order_items" ("product_id","price","quantity","order_id","created_at","updated_at") VALUES (123,100,1,3,'2023-04-20 23:12:12.723441','2023-04-20 23:12:12.723441') RETURNING "id"[0m
  â†³ app/services/order_service.rb:10
  [1m[35m (0.9ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/services/order_service.rb:7
Completed 500 Internal Server Error in 440ms (ActiveRecord: 77.3ms)


  
ActiveRecord::InvalidForeignKey (PG::ForeignKeyViolation: ERROR:  insert or update on table "order_items" violates foreign key constraint "fk_rails_f1a29ddd47"
DETAIL:  Key (product_id)=(123) is not present in table "products".
: INSERT INTO "order_items" ("product_id","price","quantity","order_id","created_at","updated_at") VALUES (123,100,1,3,'2023-04-20 23:12:12.723441','2023-04-20 23:12:12.723441') RETURNING "id"):
  
app/services/order_service.rb:10:in `block in create!'
app/services/order_service.rb:7:in `create!'
app/controllers/checkouts_controller.rb:9:in `create'
Started GET "/cart_items" for ::1 at 2023-04-20 16:13:12 -0700
DEPRECATION WARNING: 'include Pundit' is deprecated. Please use 'include Pundit::Authorization' instead.
 (called from include at /Users/dev/Documents/repos/ecommerceApp-main/app/controllers/concerns/authorizable.rb:7)
Processing by CartItemsController#index as HTML
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cart_items_controller.rb:7
  Rendering cart_items/index.html.erb within layouts/application
  [1m[35m (8.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:6
  [1m[35mCACHE  (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:20
  [1m[36mCartItem Load (1.2ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:23
  [1m[36mProduct Load (6.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:23
  [1m[36mActiveStorage::Attachment Exists (2.2ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:25
  Rendered cart_items/_quantity.html.erb (29.5ms)
  Rendered cart_items/index.html.erb within layouts/application (557.7ms)
  Rendered layouts/_header.html.erb (18.9ms)
  Rendered layouts/_alert.html.erb (3.0ms)
Completed 200 OK in 2149ms (Views: 1786.0ms | ActiveRecord: 142.3ms)


Started POST "/checkouts" for ::1 at 2023-04-20 16:13:19 -0700
Processing by CheckoutsController#create as JS
  Parameters: {"authenticity_token"=>"vPHStMBFPFjJ4gCDrGA4Iwc6DHMAqX513C4hv6E3Ku0V8NWT9tn8RB7SK1ZMuultEz6h6b7SK0A8acWTT++cMA=="}
  [1m[36mUser Load (14.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/checkouts_controller.rb:7
  [1m[35m (1.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/services/order_service.rb:7
  [1m[36mCartItem Load (1.8ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/services/order_service.rb:35
  [1m[36mProduct Load (4.7ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/services/order_service.rb:37
  [1m[36mOrder Create (3.0ms)[0m  [1m[32mINSERT INTO "orders" ("status", "amount_paid", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["status", 1], ["amount_paid", "100.0"], ["user_id", 2], ["created_at", "2023-04-20 23:13:19.917078"], ["updated_at", "2023-04-20 23:13:19.917078"]]
  â†³ app/services/order_service.rb:8
  [1m[36mCartItem Load (1.2ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/services/order_service.rb:35
  [1m[36mProduct Load (4.6ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/services/order_service.rb:37
  [1m[36mOrderItem Create Many (10.7ms)[0m  [1m[32mINSERT INTO "order_items" ("product_id","price","quantity","order_id","created_at","updated_at") VALUES (NULL,100,1,4,'2023-04-20 23:13:20.037535','2023-04-20 23:13:20.037535') RETURNING "id"[0m
  â†³ app/services/order_service.rb:10
  [1m[35m (1.1ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/services/order_service.rb:7
Completed 500 Internal Server Error in 441ms (ActiveRecord: 87.2ms)


  
ActiveRecord::NotNullViolation (PG::NotNullViolation: ERROR:  null value in column "product_id" violates not-null constraint
DETAIL:  Failing row contains (2, 100, 1, null, 4, 2023-04-20 23:13:20.037535, 2023-04-20 23:13:20.037535).
: INSERT INTO "order_items" ("product_id","price","quantity","order_id","created_at","updated_at") VALUES (NULL,100,1,4,'2023-04-20 23:13:20.037535','2023-04-20 23:13:20.037535') RETURNING "id"):
  
app/services/order_service.rb:10:in `block in create!'
app/services/order_service.rb:7:in `create!'
app/controllers/checkouts_controller.rb:9:in `create'
Started GET "/cart_items" for ::1 at 2023-04-20 16:13:50 -0700
DEPRECATION WARNING: 'include Pundit' is deprecated. Please use 'include Pundit::Authorization' instead.
 (called from include at /Users/dev/Documents/repos/ecommerceApp-main/app/controllers/concerns/authorizable.rb:7)
Processing by CartItemsController#index as HTML
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cart_items_controller.rb:7
  Rendering cart_items/index.html.erb within layouts/application
  [1m[35m (1.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:6
  [1m[35mCACHE  (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:20
  [1m[36mCartItem Load (1.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:23
  [1m[36mProduct Load (1.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:23
  [1m[36mActiveStorage::Attachment Exists (2.7ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:25
  Rendered cart_items/_quantity.html.erb (29.4ms)
  Rendered cart_items/index.html.erb within layouts/application (464.3ms)
  Rendered layouts/_header.html.erb (14.8ms)
  Rendered layouts/_alert.html.erb (2.8ms)
Completed 200 OK in 2193ms (Views: 1811.6ms | ActiveRecord: 157.2ms)


Started POST "/checkouts" for ::1 at 2023-04-20 16:13:56 -0700
Processing by CheckoutsController#create as JS
  Parameters: {"authenticity_token"=>"vKLxaDorpkIP1oC1wOxWlxh6HM0nX8uZKJu35fO23FMVo/ZPDLdmXtjmq2AgNofZDH6xV5kknqzI3FPJHW5qjg=="}
  [1m[36mUser Load (6.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/checkouts_controller.rb:7
  [1m[35m (1.0ms)[0m  [1m[35mBEGIN[0m
  â†³ app/services/order_service.rb:7
  [1m[36mCartItem Load (1.2ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/services/order_service.rb:35
  [1m[36mProduct Load (2.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/services/order_service.rb:37
  [1m[36mOrder Create (8.1ms)[0m  [1m[32mINSERT INTO "orders" ("status", "amount_paid", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["status", 1], ["amount_paid", "100.0"], ["user_id", 2], ["created_at", "2023-04-20 23:13:57.090911"], ["updated_at", "2023-04-20 23:13:57.090911"]]
  â†³ app/services/order_service.rb:8
  [1m[36mCartItem Load (10.2ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/services/order_service.rb:35
  [1m[36mProduct Load (1.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/services/order_service.rb:37
  [1m[35m (1.6ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/services/order_service.rb:7
Completed 500 Internal Server Error in 428ms (ActiveRecord: 85.8ms)


  
ActiveModel::MissingAttributeError (can't write unknown attribute `product`):
  
app/services/order_service.rb:10:in `block in create!'
app/services/order_service.rb:7:in `create!'
app/controllers/checkouts_controller.rb:9:in `create'
Started GET "/cart_items" for ::1 at 2023-04-20 16:14:17 -0700
DEPRECATION WARNING: 'include Pundit' is deprecated. Please use 'include Pundit::Authorization' instead.
 (called from include at /Users/dev/Documents/repos/ecommerceApp-main/app/controllers/concerns/authorizable.rb:7)
Processing by CartItemsController#index as HTML
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cart_items_controller.rb:7
  Rendering cart_items/index.html.erb within layouts/application
  [1m[35m (3.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:6
  [1m[35mCACHE  (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:20
  [1m[36mCartItem Load (18.3ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:23
  [1m[36mProduct Load (1.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:23
  [1m[36mActiveStorage::Attachment Exists (12.2ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:25
  Rendered cart_items/_quantity.html.erb (35.4ms)
  Rendered cart_items/index.html.erb within layouts/application (524.4ms)
  Rendered layouts/_header.html.erb (19.6ms)
  Rendered layouts/_alert.html.erb (2.8ms)
Completed 200 OK in 2291ms (Views: 1890.1ms | ActiveRecord: 166.7ms)


Started POST "/checkouts" for ::1 at 2023-04-20 16:14:22 -0700
Processing by CheckoutsController#create as JS
  Parameters: {"authenticity_token"=>"ltYVeiAMA2NKgt4mCUXdA/LfHwwupm17BfY4sOhMqjM/1xJdFpDDf52y9fPpnwxN5tuylpDdOE7lsdycBpQc7g=="}
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/checkouts_controller.rb:7
  [1m[35m (2.5ms)[0m  [1m[35mBEGIN[0m
  â†³ app/services/order_service.rb:7
  [1m[36mCartItem Load (1.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/services/order_service.rb:35
  [1m[36mProduct Load (12.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1[0m  [["id", 1]]
  â†³ app/services/order_service.rb:35
  [1m[36mOrder Create (5.8ms)[0m  [1m[32mINSERT INTO "orders" ("status", "amount_paid", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["status", 1], ["amount_paid", "100.0"], ["user_id", 2], ["created_at", "2023-04-20 23:14:23.068605"], ["updated_at", "2023-04-20 23:14:23.068605"]]
  â†³ app/services/order_service.rb:8
  [1m[36mCartItem Load (1.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/services/order_service.rb:35
  [1m[36mProduct Load (14.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1[0m  [["id", 1]]
  â†³ app/services/order_service.rb:35
  [1m[35m (2.7ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/services/order_service.rb:7
Completed 500 Internal Server Error in 519ms (ActiveRecord: 82.2ms)


  
ActiveModel::MissingAttributeError (can't write unknown attribute `product`):
  
app/services/order_service.rb:10:in `block in create!'
app/services/order_service.rb:7:in `create!'
app/controllers/checkouts_controller.rb:9:in `create'
Started GET "/cart_items" for ::1 at 2023-04-20 16:14:55 -0700
DEPRECATION WARNING: 'include Pundit' is deprecated. Please use 'include Pundit::Authorization' instead.
 (called from include at /Users/dev/Documents/repos/ecommerceApp-main/app/controllers/concerns/authorizable.rb:7)
Processing by CartItemsController#index as HTML
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cart_items_controller.rb:7
  Rendering cart_items/index.html.erb within layouts/application
  [1m[35m (1.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:6
  [1m[35mCACHE  (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:20
  [1m[36mCartItem Load (19.6ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:23
  [1m[36mProduct Load (1.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:23
  [1m[36mActiveStorage::Attachment Exists (1.9ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:25
  Rendered cart_items/_quantity.html.erb (37.9ms)
  Rendered cart_items/index.html.erb within layouts/application (499.9ms)
  Rendered layouts/_header.html.erb (23.1ms)
  Rendered layouts/_alert.html.erb (7.9ms)
Completed 200 OK in 2315ms (Views: 1982.5ms | ActiveRecord: 97.1ms)


Started POST "/checkouts" for ::1 at 2023-04-20 16:15:07 -0700
DEPRECATION WARNING: 'include Pundit' is deprecated. Please use 'include Pundit::Authorization' instead.
 (called from include at /Users/dev/Documents/repos/ecommerceApp-main/app/controllers/concerns/authorizable.rb:7)
Processing by CheckoutsController#create as JS
  Parameters: {"authenticity_token"=>"KK1AhwNJ7y2SBe+SdFRGTiSpAJT/ecOUjR3fezYX6CuBrEegNdUvMUU1xEeUjpcAMK2tDkEClqFtWjtX2M9e9g=="}
  [1m[36mUser Load (19.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/checkouts_controller.rb:7
  [1m[35m (1.0ms)[0m  [1m[35mBEGIN[0m
  â†³ app/services/order_service.rb:7
  [1m[36mCartItem Load (0.6ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 11]]
  â†³ app/services/order_service.rb:36
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1[0m  [["id", 1]]
  â†³ app/services/order_service.rb:36
  [1m[36mCartItem Load (0.5ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1 ORDER BY "cart_items"."id" ASC LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  â†³ (byebug):1
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1[0m  [["id", 1]]
  â†³ (byebug):1
  [1m[35m (4.5ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/services/order_service.rb:7
Completed 500 Internal Server Error in 28014ms (ActiveRecord: 124.2ms)


  
SystemExit (exit):
  
(byebug):1:in `exit'
(byebug):1:in `line_items'
app/services/order_service.rb:36:in `line_items'
app/services/order_service.rb:47:in `amount_paid'
app/services/order_service.rb:8:in `block in create!'
app/services/order_service.rb:7:in `create!'
app/controllers/checkouts_controller.rb:9:in `create'
Started GET "/cart_items" for ::1 at 2023-04-20 16:15:39 -0700
DEPRECATION WARNING: 'include Pundit' is deprecated. Please use 'include Pundit::Authorization' instead.
 (called from include at /Users/dev/Documents/repos/ecommerceApp-main/app/controllers/concerns/authorizable.rb:7)
Processing by CartItemsController#index as HTML
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cart_items_controller.rb:7
  Rendering cart_items/index.html.erb within layouts/application
  [1m[35m (1.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:6
  [1m[35mCACHE  (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:20
  [1m[36mCartItem Load (1.2ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:23
  [1m[36mProduct Load (1.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:23
  [1m[36mActiveStorage::Attachment Exists (1.9ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:25
  Rendered cart_items/_quantity.html.erb (37.7ms)
  Rendered cart_items/index.html.erb within layouts/application (502.1ms)
  Rendered layouts/_header.html.erb (20.6ms)
  Rendered layouts/_alert.html.erb (3.2ms)
Completed 200 OK in 2295ms (Views: 1919.1ms | ActiveRecord: 127.6ms)


Started POST "/checkouts" for ::1 at 2023-04-20 16:15:45 -0700
Processing by CheckoutsController#create as JS
  Parameters: {"authenticity_token"=>"jn8eQlSMlLUncTY7QQECW9Z786hWU+ygLhtee95EYQQnfhllYhBUqfBBHe6h29MVwn9eMugouZXOXLpXMJzX2Q=="}
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/checkouts_controller.rb:7
  [1m[35m (6.9ms)[0m  [1m[35mBEGIN[0m
  â†³ app/services/order_service.rb:7
  [1m[35m (1.6ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/services/order_service.rb:7
Completed 500 Internal Server Error in 4195ms (ActiveRecord: 9.8ms)


  
SystemExit (exit):
  
(byebug):1:in `exit'
(byebug):1:in `line_items'
app/services/order_service.rb:36:in `line_items'
app/services/order_service.rb:47:in `amount_paid'
app/services/order_service.rb:8:in `block in create!'
app/services/order_service.rb:7:in `create!'
app/controllers/checkouts_controller.rb:9:in `create'
Started GET "/cart_items" for ::1 at 2023-04-20 16:16:13 -0700
DEPRECATION WARNING: 'include Pundit' is deprecated. Please use 'include Pundit::Authorization' instead.
 (called from include at /Users/dev/Documents/repos/ecommerceApp-main/app/controllers/concerns/authorizable.rb:7)
Processing by CartItemsController#index as HTML
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cart_items_controller.rb:7
  Rendering cart_items/index.html.erb within layouts/application
  [1m[35m (1.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:6
  [1m[35mCACHE  (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:20
  [1m[36mCartItem Load (8.7ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:23
  [1m[36mProduct Load (5.9ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:23
  [1m[36mActiveStorage::Attachment Exists (1.8ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:25
  Rendered cart_items/_quantity.html.erb (32.1ms)
  Rendered cart_items/index.html.erb within layouts/application (513.3ms)
  Rendered layouts/_header.html.erb (20.0ms)
  Rendered layouts/_alert.html.erb (3.2ms)
Completed 200 OK in 2339ms (Views: 1983.6ms | ActiveRecord: 115.1ms)


Started POST "/checkouts" for ::1 at 2023-04-20 16:16:19 -0700
Processing by CheckoutsController#create as JS
  Parameters: {"authenticity_token"=>"S58RN6lcUKNOSpLGv6X+pHmv9K5nNFRJy2zTQN54tcbinhYQn8CQv5l6uRNffy/qbatZNNlPAXwrKzdsMKADGw=="}
  [1m[36mUser Load (18.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/checkouts_controller.rb:7
  [1m[35m (1.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/services/order_service.rb:7
  [1m[36mCartItem Load (6.6ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/services/order_service.rb:35
  [1m[36mProduct Load (1.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1[0m  [["id", 1]]
  â†³ app/services/order_service.rb:35
  [1m[36mOrder Create (2.1ms)[0m  [1m[32mINSERT INTO "orders" ("status", "amount_paid", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["status", 1], ["amount_paid", "100.0"], ["user_id", 2], ["created_at", "2023-04-20 23:16:19.420516"], ["updated_at", "2023-04-20 23:16:19.420516"]]
  â†³ app/services/order_service.rb:8
  [1m[36mCartItem Load (4.9ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/services/order_service.rb:35
  [1m[36mProduct Load (1.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1[0m  [["id", 1]]
  â†³ app/services/order_service.rb:35
  [1m[35m (1.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/services/order_service.rb:7
Completed 500 Internal Server Error in 461ms (ActiveRecord: 73.2ms)


  
ActiveModel::MissingAttributeError (can't write unknown attribute `product`):
  
app/services/order_service.rb:10:in `block in create!'
app/services/order_service.rb:7:in `create!'
app/controllers/checkouts_controller.rb:9:in `create'
Started GET "/cart_items" for ::1 at 2023-04-20 16:17:07 -0700
Processing by CartItemsController#index as HTML
  [1m[36mUser Load (6.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cart_items_controller.rb:7
  Rendering cart_items/index.html.erb within layouts/application
  [1m[35m (2.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:6
  [1m[35mCACHE  (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:20
  [1m[36mCartItem Load (10.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:23
  [1m[36mProduct Load (9.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:23
  [1m[36mActiveStorage::Attachment Exists (5.7ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:25
  Rendered cart_items/_quantity.html.erb (33.6ms)
  Rendered cart_items/index.html.erb within layouts/application (180.3ms)
  Rendered layouts/_header.html.erb (21.2ms)
  Rendered layouts/_alert.html.erb (8.1ms)
Completed 200 OK in 1776ms (Views: 1702.2ms | ActiveRecord: 34.2ms)


Started POST "/checkouts" for ::1 at 2023-04-20 16:17:11 -0700
Processing by CheckoutsController#create as JS
  Parameters: {"authenticity_token"=>"IVHO6bnvT2Ofw0xhANfJPvAffIkQp8wAjv5mCARhypWIUMnOj3OPf0jzZ7TgDRhw5BvRE67cmTVuuYIk6rl8SA=="}
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/checkouts_controller.rb:7
  [1m[35m (1.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/services/order_service.rb:7
  [1m[36mCartItem Load (1.5ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/services/order_service.rb:35
  [1m[36mProduct Load (3.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1[0m  [["id", 1]]
  â†³ app/services/order_service.rb:35
  [1m[36mOrder Create (2.1ms)[0m  [1m[32mINSERT INTO "orders" ("status", "amount_paid", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["status", 1], ["amount_paid", "100.0"], ["user_id", 2], ["created_at", "2023-04-20 23:17:11.924594"], ["updated_at", "2023-04-20 23:17:11.924594"]]
  â†³ app/services/order_service.rb:8
  [1m[36mCartItem Load (2.7ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/services/order_service.rb:35
  [1m[36mProduct Load (1.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1[0m  [["id", 1]]
  â†³ app/services/order_service.rb:35
  [1m[35m (2.4ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/services/order_service.rb:7
Completed 500 Internal Server Error in 180ms (ActiveRecord: 16.0ms)


  
ActiveModel::MissingAttributeError (can't write unknown attribute `product`):
  
app/services/order_service.rb:10:in `block in create!'
app/services/order_service.rb:7:in `create!'
app/controllers/checkouts_controller.rb:9:in `create'
Started GET "/cart_items" for ::1 at 2023-04-20 16:17:31 -0700
DEPRECATION WARNING: 'include Pundit' is deprecated. Please use 'include Pundit::Authorization' instead.
 (called from include at /Users/dev/Documents/repos/ecommerceApp-main/app/controllers/concerns/authorizable.rb:7)
Processing by CartItemsController#index as HTML
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cart_items_controller.rb:7
  Rendering cart_items/index.html.erb within layouts/application
  [1m[35m (2.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:6
  [1m[35mCACHE  (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:20
  [1m[36mCartItem Load (3.3ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:23
  [1m[36mProduct Load (5.7ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:23
  [1m[36mActiveStorage::Attachment Exists (1.6ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:25
  Rendered cart_items/_quantity.html.erb (36.7ms)
  Rendered cart_items/index.html.erb within layouts/application (555.8ms)
  Rendered layouts/_header.html.erb (17.9ms)
  Rendered layouts/_alert.html.erb (3.8ms)
Completed 200 OK in 2643ms (Views: 2274.9ms | ActiveRecord: 113.4ms)


Started POST "/checkouts" for ::1 at 2023-04-20 16:17:38 -0700
Processing by CheckoutsController#create as JS
  Parameters: {"authenticity_token"=>"kIOx6wlXBLxI1lga0OUxtkes+aj2qCjkAgqL50YXeXc5grbMP8vEoJ/mc88wP+D4U6hUMkjTfdHiTW/LqM/Pqg=="}
  [1m[36mUser Load (2.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/checkouts_controller.rb:7
  [1m[35m (1.0ms)[0m  [1m[35mBEGIN[0m
  â†³ app/services/order_service.rb:7
  [1m[36mCartItem Load (2.9ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/services/order_service.rb:36
  [1m[36mProduct Load (1.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1[0m  [["id", 1]]
  â†³ app/services/order_service.rb:36
  [1m[36mOrder Create (2.1ms)[0m  [1m[32mINSERT INTO "orders" ("status", "amount_paid", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["status", 1], ["amount_paid", "100.0"], ["user_id", 2], ["created_at", "2023-04-20 23:17:38.562083"], ["updated_at", "2023-04-20 23:17:38.562083"]]
  â†³ app/services/order_service.rb:8
  [1m[36mCartItem Load (1.0ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/services/order_service.rb:36
  [1m[36mProduct Load (2.9ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1[0m  [["id", 1]]
  â†³ app/services/order_service.rb:36
  [1m[36mCACHE CartItem Load (0.0ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/services/order_service.rb:36
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1[0m  [["id", 1]]
  â†³ app/services/order_service.rb:36
  [1m[35m (32.7ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/services/order_service.rb:7
Completed 500 Internal Server Error in 64614ms (ActiveRecord: 67.5ms)


  
SystemExit (exit):
  
(byebug):1:in `exit'
(byebug):1:in `block in create!'
app/services/order_service.rb:11:in `block in create!'
app/services/order_service.rb:7:in `create!'
app/controllers/checkouts_controller.rb:9:in `create'
Started POST "/checkouts" for ::1 at 2023-04-20 16:18:44 -0700
DEPRECATION WARNING: 'include Pundit' is deprecated. Please use 'include Pundit::Authorization' instead.
 (called from include at /Users/dev/Documents/repos/ecommerceApp-main/app/controllers/concerns/authorizable.rb:7)
Processing by CheckoutsController#create as JS
  Parameters: {"authenticity_token"=>"kIOx6wlXBLxI1lga0OUxtkes+aj2qCjkAgqL50YXeXc5grbMP8vEoJ/mc88wP+D4U6hUMkjTfdHiTW/LqM/Pqg=="}
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/checkouts_controller.rb:7
  [1m[35m (0.9ms)[0m  [1m[35mBEGIN[0m
  â†³ app/services/order_service.rb:7
  [1m[36mCartItem Load (1.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/services/order_service.rb:36
  [1m[36mProduct Load (1.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1[0m  [["id", 1]]
  â†³ app/services/order_service.rb:36
  [1m[36mOrder Create (1.7ms)[0m  [1m[32mINSERT INTO "orders" ("status", "amount_paid", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["status", 1], ["amount_paid", "100.0"], ["user_id", 2], ["created_at", "2023-04-20 23:18:46.895491"], ["updated_at", "2023-04-20 23:18:46.895491"]]
  â†³ app/services/order_service.rb:8
  [1m[36mCartItem Load (1.2ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/services/order_service.rb:36
  [1m[36mProduct Load (1.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1[0m  [["id", 1]]
  â†³ app/services/order_service.rb:36
  [1m[35m (1.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/services/order_service.rb:7
Completed 500 Internal Server Error in 8293ms (ActiveRecord: 154.6ms)


  
SystemExit (exit):
  
(byebug):1:in `exit'
(byebug):1:in `block in create!'
app/services/order_service.rb:11:in `block in create!'
app/services/order_service.rb:7:in `create!'
app/controllers/checkouts_controller.rb:9:in `create'
Started GET "/cart_items" for ::1 at 2023-04-20 16:19:24 -0700
DEPRECATION WARNING: 'include Pundit' is deprecated. Please use 'include Pundit::Authorization' instead.
 (called from include at /Users/dev/Documents/repos/ecommerceApp-main/app/controllers/concerns/authorizable.rb:7)
Processing by CartItemsController#index as HTML
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cart_items_controller.rb:7
  Rendering cart_items/index.html.erb within layouts/application
  [1m[35m (10.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:6
  [1m[35mCACHE  (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:20
  [1m[36mCartItem Load (1.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:23
  [1m[36mProduct Load (1.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:23
  [1m[36mActiveStorage::Attachment Exists (1.9ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:25
  Rendered cart_items/_quantity.html.erb (25.7ms)
  Rendered cart_items/index.html.erb within layouts/application (424.8ms)
  Rendered layouts/_header.html.erb (14.8ms)
  Rendered layouts/_alert.html.erb (4.1ms)
Completed 200 OK in 1965ms (Views: 1641.6ms | ActiveRecord: 104.0ms)


Started POST "/checkouts" for ::1 at 2023-04-20 16:19:28 -0700
Processing by CheckoutsController#create as JS
  Parameters: {"authenticity_token"=>"CHXrFSGxbqLxPi6Am7kRE0B0VC9TfruHbjnmTyANhEyhdOwyFy2uviYOBVV7Y8BdVHD5te0F7rKOfgJjztUykQ=="}
  [1m[36mUser Load (3.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/checkouts_controller.rb:7
  [1m[35m (0.9ms)[0m  [1m[35mBEGIN[0m
  â†³ app/services/order_service.rb:7
  [1m[36mCartItem Load (1.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/services/order_service.rb:36
  [1m[36mProduct Load (6.9ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1[0m  [["id", 1]]
  â†³ app/services/order_service.rb:36
  [1m[36mOrder Create (1.6ms)[0m  [1m[32mINSERT INTO "orders" ("status", "amount_paid", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["status", 1], ["amount_paid", "100.0"], ["user_id", 2], ["created_at", "2023-04-20 23:19:28.963772"], ["updated_at", "2023-04-20 23:19:28.963772"]]
  â†³ app/services/order_service.rb:8
  [1m[36mCartItem Load (2.6ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/services/order_service.rb:36
  [1m[36mProduct Load (2.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1[0m  [["id", 1]]
  â†³ app/services/order_service.rb:36
  [1m[36mOrderItem Create Many (5.9ms)[0m  [1m[32mINSERT INTO "order_items" ("product_id","price","quantity","order_id","created_at","updated_at") VALUES (1,100,1,11,'2023-04-20 23:19:31.180298','2023-04-20 23:19:31.180298') RETURNING "id"[0m
  â†³ app/services/order_service.rb:11
  [1m[36mCartItem Destroy (0.9ms)[0m  [1m[31mDELETE FROM "cart_items" WHERE "cart_items"."id" = $1[0m  [["id", 1]]
  â†³ (byebug):1
  [1m[36mCartItem Load (1.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/services/order_service.rb:12
Completed 500 Internal Server Error in 29423ms (ActiveRecord: 83.2ms)


  
SystemExit (exit):
  
(byebug):1:in `exit'
(byebug):1:in `ensure in block in within_new_transaction'
app/services/order_service.rb:7:in `create!'
app/controllers/checkouts_controller.rb:9:in `create'
Started GET "/cart_items" for ::1 at 2023-04-20 16:20:26 -0700
DEPRECATION WARNING: 'include Pundit' is deprecated. Please use 'include Pundit::Authorization' instead.
 (called from include at /Users/dev/Documents/repos/ecommerceApp-main/app/controllers/concerns/authorizable.rb:7)
Processing by CartItemsController#index as HTML
  [1m[36mUser Load (9.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cart_items_controller.rb:7
  Rendering cart_items/index.html.erb within layouts/application
  [1m[35m (3.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:6
  [1m[35mCACHE  (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:20
  [1m[36mCartItem Load (1.3ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:23
  [1m[36mProduct Load (2.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:23
  [1m[36mActiveStorage::Attachment Exists (9.9ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:25
  Rendered cart_items/_quantity.html.erb (33.8ms)
  Rendered cart_items/index.html.erb within layouts/application (453.0ms)
  Rendered layouts/_header.html.erb (22.3ms)
  Rendered layouts/_alert.html.erb (3.3ms)
Completed 200 OK in 2153ms (Views: 1795.3ms | ActiveRecord: 143.1ms)


Started POST "/checkouts" for ::1 at 2023-04-20 16:21:14 -0700
DEPRECATION WARNING: 'include Pundit' is deprecated. Please use 'include Pundit::Authorization' instead.
 (called from include at /Users/dev/Documents/repos/ecommerceApp-main/app/controllers/concerns/authorizable.rb:7)
Processing by CheckoutsController#create as JS
  Parameters: {"authenticity_token"=>"gwKCQzypCZAVHWpHKjcliGYaI7FPiA+ZnmpGOKp2hssqA4VkCjXJjMItQZLK7fTGch6OK/HzWqx+LaIURK4wFg=="}
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/checkouts_controller.rb:7
  [1m[35m (1.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/services/order_service.rb:7
  [1m[36mCartItem Load (1.6ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/services/order_service.rb:37
  [1m[36mProduct Load (8.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1[0m  [["id", 1]]
  â†³ app/services/order_service.rb:37
  [1m[36mOrder Create (12.2ms)[0m  [1m[32mINSERT INTO "orders" ("status", "amount_paid", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["status", 1], ["amount_paid", "100.0"], ["user_id", 2], ["created_at", "2023-04-20 23:21:16.362026"], ["updated_at", "2023-04-20 23:21:16.362026"]]
  â†³ app/services/order_service.rb:8
  [1m[36mCartItem Load (1.4ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/services/order_service.rb:37
  [1m[36mProduct Load (2.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1[0m  [["id", 1]]
  â†³ app/services/order_service.rb:37
  [1m[36mOrderItem Create Many (6.5ms)[0m  [1m[32mINSERT INTO "order_items" ("product_id","price","quantity","order_id","created_at","updated_at") VALUES (1,100,1,12,'2023-04-20 23:21:16.534682','2023-04-20 23:21:16.534682') RETURNING "id"[0m
  â†³ app/services/order_service.rb:11
  [1m[35m (9.5ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/services/order_service.rb:7
Completed 500 Internal Server Error in 1218ms (ActiveRecord: 244.7ms)


  
NoMethodError (undefined method `failed_instaces' for #<ActiveRecord::Import::Result:0x00007f87d0aad9a8>
Did you mean?  failed_instances
               failed_instances=):
  
app/services/order_service.rb:12:in `block in create!'
app/services/order_service.rb:7:in `create!'
app/controllers/checkouts_controller.rb:9:in `create'
Started GET "/cart_items" for ::1 at 2023-04-20 16:21:27 -0700
DEPRECATION WARNING: 'include Pundit' is deprecated. Please use 'include Pundit::Authorization' instead.
 (called from include at /Users/dev/Documents/repos/ecommerceApp-main/app/controllers/concerns/authorizable.rb:7)
Processing by CartItemsController#index as HTML
  [1m[36mUser Load (5.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cart_items_controller.rb:7
  Rendering cart_items/index.html.erb within layouts/application
  [1m[35m (1.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:6
  [1m[35mCACHE  (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:20
  [1m[36mCartItem Load (1.5ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:23
  [1m[36mProduct Load (1.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:23
  [1m[36mActiveStorage::Attachment Exists (6.7ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:25
  Rendered cart_items/_quantity.html.erb (31.7ms)
  Rendered cart_items/index.html.erb within layouts/application (464.2ms)
  Rendered layouts/_header.html.erb (14.5ms)
  Rendered layouts/_alert.html.erb (3.1ms)
Completed 200 OK in 2094ms (Views: 1695.1ms | ActiveRecord: 188.9ms)


Started POST "/checkouts" for ::1 at 2023-04-20 16:21:32 -0700
Processing by CheckoutsController#create as JS
  Parameters: {"authenticity_token"=>"/bBj7Lz6KVMc5dX98Ff6fGQxzki5h7sr73Q0N0hzlX5UsWTLimbpT8vV/igQjSsycDVj0gf87h4PM9Abpqsjow=="}
  [1m[36mUser Load (3.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/checkouts_controller.rb:7
  [1m[35m (1.0ms)[0m  [1m[35mBEGIN[0m
  â†³ app/services/order_service.rb:7
  [1m[36mCartItem Load (3.6ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/services/order_service.rb:37
  [1m[36mProduct Load (1.8ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1[0m  [["id", 1]]
  â†³ app/services/order_service.rb:37
  [1m[36mOrder Create (2.2ms)[0m  [1m[32mINSERT INTO "orders" ("status", "amount_paid", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["status", 1], ["amount_paid", "100.0"], ["user_id", 2], ["created_at", "2023-04-20 23:21:32.290942"], ["updated_at", "2023-04-20 23:21:32.290942"]]
  â†³ app/services/order_service.rb:8
  [1m[36mCartItem Load (1.2ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/services/order_service.rb:37
  [1m[36mProduct Load (3.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1[0m  [["id", 1]]
  â†³ app/services/order_service.rb:37
  [1m[36mOrderItem Create Many (10.3ms)[0m  [1m[32mINSERT INTO "order_items" ("product_id","price","quantity","order_id","created_at","updated_at") VALUES (1,100,1,13,'2023-04-20 23:21:32.419511','2023-04-20 23:21:32.419511') RETURNING "id"[0m
  â†³ app/services/order_service.rb:11
Started GET "/cart_items" for ::1 at 2023-04-20 16:22:49 -0700
  [1m[35m (10.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ /Users/dev/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.6/lib/active_record/log_subscriber.rb:98
DEPRECATION WARNING: 'include Pundit' is deprecated. Please use 'include Pundit::Authorization' instead.
 (called from include at /Users/dev/Documents/repos/ecommerceApp-main/app/controllers/concerns/authorizable.rb:7)
Processing by CartItemsController#index as HTML
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cart_items_controller.rb:7
  Rendering cart_items/index.html.erb within layouts/application
  [1m[35m (22.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:6
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:20
  [1m[36mCartItem Load (0.3ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:23
  [1m[36mProduct Load (2.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:23
  [1m[36mActiveStorage::Attachment Exists (2.3ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:25
  Rendered cart_items/_quantity.html.erb (4.0ms)
  Rendered cart_items/index.html.erb within layouts/application (348.3ms)
  Rendered layouts/_header.html.erb (0.9ms)
  Rendered layouts/_alert.html.erb (0.2ms)
Completed 200 OK in 617ms (Views: 403.2ms | ActiveRecord: 181.4ms)


Started POST "/checkouts" for ::1 at 2023-04-20 16:22:52 -0700
Processing by CheckoutsController#create as JS
  Parameters: {"authenticity_token"=>"2RtWfppkwtH9E62KeAAUwzEN3O60ibyY9KU61c/JpTdwGlFZrPgCzSojhl+Y2sWNJQlxdAry6a0U4t75IRET6g=="}
  [1m[36mUser Load (4.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/checkouts_controller.rb:7
  [1m[35m (0.7ms)[0m  [1m[35mBEGIN[0m
  â†³ app/services/order_service.rb:7
  [1m[36mCartItem Load (0.8ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/services/order_service.rb:38
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1[0m  [["id", 1]]
  â†³ app/services/order_service.rb:38
  [1m[36mOrder Create (2.5ms)[0m  [1m[32mINSERT INTO "orders" ("status", "amount_paid", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["status", 1], ["amount_paid", "100.0"], ["user_id", 2], ["created_at", "2023-04-20 23:22:52.854539"], ["updated_at", "2023-04-20 23:22:52.854539"]]
  â†³ app/services/order_service.rb:8
  [1m[36mCartItem Load (0.7ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/services/order_service.rb:38
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1[0m  [["id", 1]]
  â†³ app/services/order_service.rb:38
  [1m[36mOrderItem Create Many (17.8ms)[0m  [1m[32mINSERT INTO "order_items" ("product_id","price","quantity","order_id","created_at","updated_at") VALUES (1,100,1,14,'2023-04-20 23:22:52.884175','2023-04-20 23:22:52.884175') RETURNING "id"[0m
  â†³ app/services/order_service.rb:11
  [1m[36mCartItem Destroy (1.0ms)[0m  [1m[31mDELETE FROM "cart_items" WHERE "cart_items"."id" = $1[0m  [["id", 1]]
  â†³ app/services/order_service.rb:14
  [1m[35m (4.8ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/services/order_service.rb:7
Redirected to http://localhost:3000/products
Completed 200 OK in 169ms (ActiveRecord: 136.6ms)


Started GET "/products" for ::1 at 2023-04-20 16:22:52 -0700
Processing by ProductsController#index as HTML
  [1m[36mUser Load (4.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:7
  Rendering products/index.html.erb within layouts/application
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" WHERE (user_id != 2)[0m
  â†³ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (user_id != 2)[0m
  â†³ app/views/products/index.html.erb:7
  [1m[36mActiveStorage::Attachment Exists (7.1ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/index.html.erb:11
  Rendered products/index.html.erb within layouts/application (10.7ms)
  Rendered layouts/_header.html.erb (0.8ms)
  Rendered layouts/_alert.html.erb (0.2ms)
Completed 200 OK in 51ms (Views: 34.6ms | ActiveRecord: 13.0ms)


Started GET "/products/1" for ::1 at 2023-04-20 16:22:58 -0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (15.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:68
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:69
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/policies/product_policy.rb:23
  Rendering products/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Exists (2.0ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:5
  Rendered cart_items/_form.html.erb (3.3ms)
  Rendered products/show.html.erb within layouts/application (8.1ms)
  Rendered layouts/_header.html.erb (0.8ms)
  Rendered layouts/_alert.html.erb (0.2ms)
Completed 200 OK in 69ms (Views: 41.8ms | ActiveRecord: 18.6ms)


Started GET "/products/1" for ::1 at 2023-04-20 16:33:10 -0700
DEPRECATION WARNING: 'include Pundit' is deprecated. Please use 'include Pundit::Authorization' instead.
 (called from include at /Users/dev/Documents/repos/ecommerceApp-main/app/controllers/concerns/authorizable.rb:7)
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:68
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:69
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/policies/product_policy.rb:23
  Rendering products/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Exists (2.0ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:5
  Rendered cart_items/_form.html.erb (2.0ms)
  Rendered products/show.html.erb within layouts/application (36.1ms)
  Rendered layouts/_header.html.erb (1.1ms)
  Rendered layouts/_alert.html.erb (0.3ms)
Completed 200 OK in 156ms (Views: 65.9ms | ActiveRecord: 58.3ms)


Started POST "/cart_items" for ::1 at 2023-04-20 16:33:11 -0700
Processing by CartItemsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"opczjKTnaCqI6HDBYD4vVqevBKGBpa6taqDVBzVpWUYpQSIYPcEWnkF4LyP7Y5FqnS2+4PhnMgM49qHyQXC3Mg==", "cart_item"=>{"product_id"=>"1", "quantity"=>"1"}, "commit"=>"Add to cart"}
  [1m[36mUser Load (3.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cart_items_controller.rb:21
  [1m[36mCartItem Load (2.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."product_id" = $1 AND "cart_items"."user_id" = $2 LIMIT $3[0m  [["product_id", 1], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/helpers/cart_item_helper.rb:5
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/helpers/cart_item_helper.rb:5
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/helpers/cart_item_helper.rb:5
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/helpers/cart_item_helper.rb:5
  [1m[36mCartItem Create (1.8ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 2], ["product_id", 1], ["created_at", "2023-04-20 23:33:11.167988"], ["updated_at", "2023-04-20 23:33:11.167988"]]
  â†³ app/helpers/cart_item_helper.rb:5
  [1m[35m (0.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/helpers/cart_item_helper.rb:5
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/helpers/cart_item_helper.rb:11
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/helpers/cart_item_helper.rb:13
  [1m[36mCartItem Update (0.5ms)[0m  [1m[33mUPDATE "cart_items" SET "quantity" = $1, "updated_at" = $2 WHERE "cart_items"."id" = $3[0m  [["quantity", 1], ["updated_at", "2023-04-20 23:33:11.173077"], ["id", 2]]
  â†³ app/helpers/cart_item_helper.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/helpers/cart_item_helper.rb:13
Redirected to http://localhost:3000/cart_items
Completed 302 Found in 31ms (ActiveRecord: 11.6ms)


Started GET "/cart_items" for ::1 at 2023-04-20 16:33:11 -0700
Processing by CartItemsController#index as HTML
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cart_items_controller.rb:7
  Rendering cart_items/index.html.erb within layouts/application
  [1m[35m (1.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:6
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:20
  [1m[36mCartItem Load (0.3ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:23
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:23
  [1m[36mActiveStorage::Attachment Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:25
  Rendered cart_items/_quantity.html.erb (1.1ms)
  Rendered cart_items/index.html.erb within layouts/application (8.1ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_alert.html.erb (0.2ms)
Completed 200 OK in 81ms (Views: 70.4ms | ActiveRecord: 3.9ms)


Started POST "/checkouts" for ::1 at 2023-04-20 16:33:13 -0700
Processing by CheckoutsController#create as JS
  Parameters: {"authenticity_token"=>"X8YlMCDdpKvcxKgsPF+15JkbZKxWUrLMHVpi/k3UzCj2xyIXFkFktwv0g/nchWSqjR/JNugp5/n9HYbSowx69Q=="}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/checkouts_controller.rb:7
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  â†³ app/services/order_service.rb:7
  [1m[36mCartItem Load (0.5ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/services/order_service.rb:39
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1[0m  [["id", 1]]
  â†³ app/services/order_service.rb:39
  [1m[36mOrder Create (3.6ms)[0m  [1m[32mINSERT INTO "orders" ("status", "amount_paid", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["status", 1], ["amount_paid", "100.0"], ["user_id", 2], ["created_at", "2023-04-20 23:33:13.062659"], ["updated_at", "2023-04-20 23:33:13.062659"]]
  â†³ app/services/order_service.rb:8
  [1m[36mOrderItem Create Many (5.2ms)[0m  [1m[32mINSERT INTO "order_items" ("product_id","price","quantity","order_id","created_at","updated_at") VALUES (1,100,1,15,'2023-04-20 23:33:13.098104','2023-04-20 23:33:13.098104') RETURNING "id"[0m
  â†³ app/services/order_service.rb:11
  [1m[36mProduct Load (1.8ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" IN (SELECT "cart_items"."product_id" FROM "cart_items" WHERE "cart_items"."user_id" = $1) LIMIT $2[0m  [["user_id", 2], ["LIMIT", 11]]
  â†³ app/services/order_service.rb:55
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" IN (SELECT "cart_items"."product_id" FROM "cart_items" WHERE "cart_items"."user_id" = $1) LIMIT $2[0m  [["user_id", 2], ["LIMIT", 11]]
  â†³ app/services/order_service.rb:55
  [1m[36mCACHE Product Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" IN (SELECT "cart_items"."product_id" FROM "cart_items" WHERE "cart_items"."user_id" = $1) LIMIT $2[0m  [["user_id", 2], ["LIMIT", 11]]
  â†³ /Users/dev/.rvm/rubies/ruby-2.5.1/lib/ruby/gems/2.5.0/gems/did_you_mean-1.2.0/lib/did_you_mean/core_ext/name_error.rb:8
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" IN (SELECT "cart_items"."product_id" FROM "cart_items" WHERE "cart_items"."user_id" = $1) LIMIT $2[0m  [["user_id", 2], ["LIMIT", 11]]
  â†³ /Users/dev/.rvm/rubies/ruby-2.5.1/lib/ruby/gems/2.5.0/gems/did_you_mean-1.2.0/lib/did_you_mean/core_ext/name_error.rb:4
  [1m[35m (5.0ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/services/order_service.rb:7
Completed 500 Internal Server Error in 84061ms (ActiveRecord: 57.9ms)


  
SystemExit (exit):
  
(byebug):1:in `exit'
(byebug):1:in `update_products_stock'
app/services/order_service.rb:55:in `update_products_stock'
app/services/order_service.rb:14:in `block in create!'
app/services/order_service.rb:7:in `create!'
app/controllers/checkouts_controller.rb:9:in `create'
Started POST "/checkouts" for ::1 at 2023-04-20 16:34:39 -0700
DEPRECATION WARNING: 'include Pundit' is deprecated. Please use 'include Pundit::Authorization' instead.
 (called from include at /Users/dev/Documents/repos/ecommerceApp-main/app/controllers/concerns/authorizable.rb:7)
Processing by CheckoutsController#create as JS
  Parameters: {"authenticity_token"=>"X8YlMCDdpKvcxKgsPF+15JkbZKxWUrLMHVpi/k3UzCj2xyIXFkFktwv0g/nchWSqjR/JNugp5/n9HYbSowx69Q=="}
  [1m[36mUser Load (3.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/checkouts_controller.rb:7
  [1m[35m (0.7ms)[0m  [1m[35mBEGIN[0m
  â†³ app/services/order_service.rb:7
  [1m[36mCartItem Load (12.0ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/services/order_service.rb:39
  [1m[36mProduct Load (1.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1[0m  [["id", 1]]
  â†³ app/services/order_service.rb:39
  [1m[36mOrder Create (1.7ms)[0m  [1m[32mINSERT INTO "orders" ("status", "amount_paid", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["status", 1], ["amount_paid", "100.0"], ["user_id", 2], ["created_at", "2023-04-20 23:34:40.746983"], ["updated_at", "2023-04-20 23:34:40.746983"]]
  â†³ app/services/order_service.rb:8
  [1m[36mOrderItem Create Many (2.3ms)[0m  [1m[32mINSERT INTO "order_items" ("product_id","price","quantity","order_id","created_at","updated_at") VALUES (1,100,1,16,'2023-04-20 23:34:40.820121','2023-04-20 23:34:40.820121') RETURNING "id"[0m
  â†³ app/services/order_service.rb:11
  [1m[35m (11.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/services/order_service.rb:7
Completed 500 Internal Server Error in 260608ms (ActiveRecord: 205.8ms)


  
SystemExit (exit):
  
(byebug):1:in `exit'
(byebug):1:in `update_products_stock'
app/services/order_service.rb:56:in `update_products_stock'
app/services/order_service.rb:14:in `block in create!'
app/services/order_service.rb:7:in `create!'
app/controllers/checkouts_controller.rb:9:in `create'
Started GET "/cart_items" for ::1 at 2023-04-20 16:39:00 -0700
DEPRECATION WARNING: 'include Pundit' is deprecated. Please use 'include Pundit::Authorization' instead.
 (called from include at /Users/dev/Documents/repos/ecommerceApp-main/app/controllers/concerns/authorizable.rb:7)
Processing by CartItemsController#index as HTML
  [1m[36mUser Load (8.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cart_items_controller.rb:7
  Rendering cart_items/index.html.erb within layouts/application
  [1m[35m (11.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:6
  [1m[35mCACHE  (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:20
  [1m[36mCartItem Load (1.5ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:23
  [1m[36mProduct Load (1.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:23
  [1m[36mActiveStorage::Attachment Exists (3.9ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:25
  Rendered cart_items/_quantity.html.erb (25.5ms)
  Rendered cart_items/index.html.erb within layouts/application (388.1ms)
  Rendered layouts/_header.html.erb (16.5ms)
  Rendered layouts/_alert.html.erb (3.1ms)
Completed 200 OK in 1664ms (Views: 1353.8ms | ActiveRecord: 137.1ms)


Started POST "/checkouts" for ::1 at 2023-04-20 16:39:06 -0700
Processing by CheckoutsController#create as JS
  Parameters: {"authenticity_token"=>"8w5rqrX6VAKAq/1ulIezNMzv1p5BhGJYp+f5dmUGBSVaD2yNg2aUHleb1rt0XWJ62Ot7BP//N21HoB1ai96z+A=="}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/checkouts_controller.rb:7
  [1m[35m (0.9ms)[0m  [1m[35mBEGIN[0m
  â†³ app/services/order_service.rb:7
  [1m[36mCartItem Load (6.8ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/services/order_service.rb:39
  [1m[36mProduct Load (1.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1[0m  [["id", 1]]
  â†³ app/services/order_service.rb:39
  [1m[36mOrder Create (4.7ms)[0m  [1m[32mINSERT INTO "orders" ("status", "amount_paid", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["status", 1], ["amount_paid", "100.0"], ["user_id", 2], ["created_at", "2023-04-20 23:39:06.697674"], ["updated_at", "2023-04-20 23:39:06.697674"]]
  â†³ app/services/order_service.rb:8
  [1m[36mOrderItem Create Many (28.0ms)[0m  [1m[32mINSERT INTO "order_items" ("product_id","price","quantity","order_id","created_at","updated_at") VALUES (1,100,1,17,'2023-04-20 23:39:06.787455','2023-04-20 23:39:06.787455') RETURNING "id"[0m
  â†³ app/services/order_service.rb:11
  [1m[36mProduct Create Many (3.1ms)[0m  [1m[32mINSERT INTO "products" ("id","name","description","price","quantity","user_id","created_at","updated_at") VALUES (1,'123','123123123123',1.0,4,1,'2023-04-20 22:08:46.139965','2023-04-20 23:39:06.878612') ON CONFLICT (id) DO UPDATE SET "quantity"=EXCLUDED."quantity","updated_at"=EXCLUDED."updated_at"  RETURNING "id"[0m
  â†³ app/services/order_service.rb:61
  [1m[36mCartItem Destroy (7.5ms)[0m  [1m[31mDELETE FROM "cart_items" WHERE "cart_items"."id" = $1[0m  [["id", 2]]
  â†³ app/services/order_service.rb:15
  [1m[35m (8.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/services/order_service.rb:7
Redirected to http://localhost:3000/products
Completed 200 OK in 471ms (ActiveRecord: 138.8ms)


Started GET "/products" for ::1 at 2023-04-20 16:39:06 -0700
Processing by ProductsController#index as HTML
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:7
  Rendering products/index.html.erb within layouts/application
  [1m[35m (4.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" WHERE (user_id != 2)[0m
  â†³ app/views/products/index.html.erb:6
  [1m[36mProduct Load (1.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (user_id != 2)[0m
  â†³ app/views/products/index.html.erb:7
  [1m[36mActiveStorage::Attachment Exists (1.7ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/index.html.erb:11
  Rendered products/index.html.erb within layouts/application (61.0ms)
  Rendered layouts/_header.html.erb (13.3ms)
  Rendered layouts/_alert.html.erb (6.9ms)
Completed 200 OK in 1222ms (Views: 1178.8ms | ActiveRecord: 8.8ms)


  [1m[36mProduct Load (12.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" ORDER BY "products"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
Started GET "/products/1" for ::1 at 2023-04-20 16:39:39 -0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (4.6ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:68
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:69
  [1m[36mUser Load (12.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/policies/product_policy.rb:23
  Rendering products/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Exists (12.4ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:5
  Rendered cart_items/_form.html.erb (25.0ms)
  Rendered products/show.html.erb within layouts/application (79.2ms)
  Rendered layouts/_header.html.erb (17.9ms)
  Rendered layouts/_alert.html.erb (2.8ms)
Completed 200 OK in 1369ms (Views: 1259.6ms | ActiveRecord: 30.3ms)


Started POST "/cart_items" for ::1 at 2023-04-20 16:39:43 -0700
Processing by CartItemsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"R/y8LU4PwriTtmgHVNDYwpiV4TuizOs9ckfwo4NGPbru/bsKeJMCpESGQ9K0CgmMjJFMoRy3vgiSABSPbZ6LZw==", "cart_item"=>{"product_id"=>"1", "quantity"=>"3"}, "commit"=>"Add to cart"}
  [1m[36mUser Load (7.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cart_items_controller.rb:21
  [1m[36mCartItem Load (3.8ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."product_id" = $1 AND "cart_items"."user_id" = $2 LIMIT $3[0m  [["product_id", 1], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/helpers/cart_item_helper.rb:5
  [1m[35m (1.0ms)[0m  [1m[35mBEGIN[0m
  â†³ app/helpers/cart_item_helper.rb:5
  [1m[36mUser Load (2.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/helpers/cart_item_helper.rb:5
  [1m[36mProduct Load (1.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/helpers/cart_item_helper.rb:5
  [1m[36mCartItem Create (2.4ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 2], ["product_id", 1], ["created_at", "2023-04-20 23:39:43.884362"], ["updated_at", "2023-04-20 23:39:43.884362"]]
  â†³ app/helpers/cart_item_helper.rb:5
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/helpers/cart_item_helper.rb:5
  [1m[36mProduct Load (5.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/helpers/cart_item_helper.rb:11
  [1m[35m (1.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/helpers/cart_item_helper.rb:13
  [1m[36mCartItem Update (4.9ms)[0m  [1m[33mUPDATE "cart_items" SET "quantity" = $1, "updated_at" = $2 WHERE "cart_items"."id" = $3[0m  [["quantity", 3], ["updated_at", "2023-04-20 23:39:43.942461"], ["id", 3]]
  â†³ app/helpers/cart_item_helper.rb:13
  [1m[35m (12.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/helpers/cart_item_helper.rb:13
Redirected to http://localhost:3000/cart_items
Completed 302 Found in 215ms (ActiveRecord: 44.1ms)


Started GET "/cart_items" for ::1 at 2023-04-20 16:39:43 -0700
Processing by CartItemsController#index as HTML
  [1m[36mUser Load (12.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cart_items_controller.rb:7
  Rendering cart_items/index.html.erb within layouts/application
  [1m[35m (16.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:6
  [1m[35mCACHE  (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:20
  [1m[36mCartItem Load (1.5ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:23
  [1m[36mProduct Load (10.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:23
  [1m[36mActiveStorage::Attachment Exists (10.1ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:25
  Rendered cart_items/_quantity.html.erb (25.7ms)
  Rendered cart_items/index.html.erb within layouts/application (164.1ms)
  Rendered layouts/_header.html.erb (14.7ms)
  Rendered layouts/_alert.html.erb (3.2ms)
Completed 200 OK in 1404ms (Views: 1321.5ms | ActiveRecord: 50.9ms)


Started POST "/checkouts" for ::1 at 2023-04-20 16:39:46 -0700
Processing by CheckoutsController#create as JS
  Parameters: {"authenticity_token"=>"9IcqYR4ZOPhu6Yj5Rr+I/Flju74GZoifQT36Vl4C4+hdhi1GKIX45LnZoyymZVmyTWcWJLgd3aqheh56sNpVNQ=="}
  [1m[36mUser Load (2.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/checkouts_controller.rb:7
  [1m[35m (0.9ms)[0m  [1m[35mBEGIN[0m
  â†³ app/services/order_service.rb:7
  [1m[36mCartItem Load (1.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/services/order_service.rb:39
  [1m[36mProduct Load (1.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1[0m  [["id", 1]]
  â†³ app/services/order_service.rb:39
  [1m[36mOrder Create (8.2ms)[0m  [1m[32mINSERT INTO "orders" ("status", "amount_paid", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["status", 1], ["amount_paid", "100.0"], ["user_id", 2], ["created_at", "2023-04-20 23:39:46.765202"], ["updated_at", "2023-04-20 23:39:46.765202"]]
  â†³ app/services/order_service.rb:8
  [1m[36mOrderItem Create Many (2.0ms)[0m  [1m[32mINSERT INTO "order_items" ("product_id","price","quantity","order_id","created_at","updated_at") VALUES (1,100,3,18,'2023-04-20 23:39:46.795072','2023-04-20 23:39:46.795072') RETURNING "id"[0m
  â†³ app/services/order_service.rb:11
  [1m[36mProduct Create Many (1.6ms)[0m  [1m[32mINSERT INTO "products" ("id","name","description","price","quantity","user_id","created_at","updated_at") VALUES (1,'123','123123123123',1.0,1,1,'2023-04-20 22:08:46.139965','2023-04-20 23:39:46.822426') ON CONFLICT (id) DO UPDATE SET "quantity"=EXCLUDED."quantity","updated_at"=EXCLUDED."updated_at"  RETURNING "id"[0m
  â†³ app/services/order_service.rb:61
  [1m[36mCartItem Destroy (14.6ms)[0m  [1m[31mDELETE FROM "cart_items" WHERE "cart_items"."id" = $1[0m  [["id", 3]]
  â†³ app/services/order_service.rb:15
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/services/order_service.rb:7
Redirected to http://localhost:3000/products
Completed 200 OK in 206ms (ActiveRecord: 33.8ms)


Started GET "/products" for ::1 at 2023-04-20 16:39:46 -0700
Processing by ProductsController#index as HTML
  [1m[36mUser Load (6.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:7
  Rendering products/index.html.erb within layouts/application
  [1m[35m (1.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" WHERE (user_id != 2)[0m
  â†³ app/views/products/index.html.erb:6
  [1m[36mProduct Load (4.7ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (user_id != 2)[0m
  â†³ app/views/products/index.html.erb:7
  [1m[36mActiveStorage::Attachment Exists (5.5ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/index.html.erb:11
  Rendered products/index.html.erb within layouts/application (68.0ms)
  Rendered layouts/_header.html.erb (22.6ms)
  Rendered layouts/_alert.html.erb (3.0ms)
Completed 200 OK in 1309ms (Views: 1263.3ms | ActiveRecord: 18.4ms)


Started GET "/products/1" for ::1 at 2023-04-20 16:39:52 -0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (9.9ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:68
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:69
  [1m[36mUser Load (4.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/policies/product_policy.rb:23
  Rendering products/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Exists (1.8ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:5
  Rendered cart_items/_form.html.erb (22.0ms)
  Rendered products/show.html.erb within layouts/application (64.6ms)
  Rendered layouts/_header.html.erb (14.2ms)
  Rendered layouts/_alert.html.erb (2.8ms)
Completed 200 OK in 1349ms (Views: 1268.7ms | ActiveRecord: 17.0ms)


Started GET "/" for ::1 at 2023-04-20 16:41:39 -0700
DEPRECATION WARNING: 'include Pundit' is deprecated. Please use 'include Pundit::Authorization' instead.
 (called from include at /Users/dev/Documents/repos/ecommerceApp-main/app/controllers/concerns/authorizable.rb:7)
Processing by ProductsController#index as HTML
  [1m[36mUser Load (3.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:7
  Rendering products/index.html.erb within layouts/application
  [1m[35m (2.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" WHERE (user_id != 2)[0m
  â†³ app/views/products/index.html.erb:6
  [1m[36mProduct Load (6.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (user_id != 2)[0m
  â†³ app/views/products/index.html.erb:7
  [1m[36mActiveStorage::Attachment Exists (1.9ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/index.html.erb:11
  Rendered products/index.html.erb within layouts/application (226.5ms)
  Rendered layouts/_header.html.erb (15.0ms)
  Rendered layouts/_alert.html.erb (2.9ms)
Completed 200 OK in 1771ms (Views: 1427.5ms | ActiveRecord: 99.9ms)


Started GET "/" for ::1 at 2023-04-20 16:47:06 -0700
  [1m[35m (2.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ /Users/dev/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.6/lib/active_record/log_subscriber.rb:98
DEPRECATION WARNING: 'include Pundit' is deprecated. Please use 'include Pundit::Authorization' instead.
 (called from include at /Users/dev/Documents/repos/ecommerceApp-main/app/controllers/concerns/authorizable.rb:7)
Processing by ProductsController#index as HTML
  [1m[36mUser Load (2.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:7
  Rendering products/index.html.erb within layouts/application
  [1m[35m (5.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" WHERE (user_id != 2)[0m
  â†³ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (user_id != 2)[0m
  â†³ app/views/products/index.html.erb:7
  [1m[36mActiveStorage::Attachment Exists (5.7ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/index.html.erb:11
  Rendered products/index.html.erb within layouts/application (262.0ms)
  Rendered layouts/_header.html.erb (4.0ms)
  Rendered layouts/_alert.html.erb (0.3ms)
Completed 200 OK in 511ms (Views: 366.9ms | ActiveRecord: 114.3ms)


Started GET "/" for ::1 at 2023-04-20 16:47:08 -0700
Processing by ProductsController#index as HTML
  [1m[36mUser Load (17.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:7
  Rendering products/index.html.erb within layouts/application
  [1m[35m (7.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" WHERE (user_id != 2)[0m
  â†³ app/views/products/index.html.erb:6
  [1m[36mProduct Load (12.8ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (user_id != 2)[0m
  â†³ app/views/products/index.html.erb:7
  [1m[36mActiveStorage::Attachment Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/index.html.erb:11
  Rendered products/index.html.erb within layouts/application (27.1ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_alert.html.erb (0.3ms)
Completed 200 OK in 101ms (Views: 56.4ms | ActiveRecord: 38.9ms)


Started GET "/" for ::1 at 2023-04-20 16:47:09 -0700
Processing by ProductsController#index as HTML
  [1m[36mUser Load (2.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:7
  Rendering products/index.html.erb within layouts/application
  [1m[35m (3.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" WHERE (user_id != 2)[0m
  â†³ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (user_id != 2)[0m
  â†³ app/views/products/index.html.erb:7
  [1m[36mActiveStorage::Attachment Exists (1.3ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/index.html.erb:11
  Rendered products/index.html.erb within layouts/application (7.7ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_alert.html.erb (0.3ms)
Completed 200 OK in 65ms (Views: 50.2ms | ActiveRecord: 7.3ms)


Started GET "/products/1" for ::1 at 2023-04-20 16:47:10 -0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:68
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:69
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/policies/product_policy.rb:23
  Rendering products/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:5
  Rendered cart_items/_form.html.erb (2.8ms)
  Rendered products/show.html.erb within layouts/application (6.2ms)
  Rendered layouts/_header.html.erb (0.9ms)
  Rendered layouts/_alert.html.erb (0.2ms)
Completed 200 OK in 105ms (Views: 39.5ms | ActiveRecord: 20.8ms)


Started POST "/cart_items" for ::1 at 2023-04-20 16:47:13 -0700
Processing by CartItemsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"8jvfWoQlZC577JiYDu2/c5OR0dYHtup69OR7hcU9x9957c7OHQMamrJ8x3qVsAFPqRNrl350dtSmsg9wsSQpqw==", "cart_item"=>{"product_id"=>"1", "quantity"=>"1"}, "commit"=>"Add to cart"}
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cart_items_controller.rb:21
  [1m[36mCartItem Load (1.6ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."product_id" = $1 AND "cart_items"."user_id" = $2 LIMIT $3[0m  [["product_id", 1], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/helpers/cart_item_helper.rb:5
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/helpers/cart_item_helper.rb:5
  [1m[36mUser Load (17.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/helpers/cart_item_helper.rb:5
  [1m[36mProduct Load (1.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/helpers/cart_item_helper.rb:5
  [1m[36mCartItem Create (2.7ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 2], ["product_id", 1], ["created_at", "2023-04-20 23:47:13.456575"], ["updated_at", "2023-04-20 23:47:13.456575"]]
  â†³ app/helpers/cart_item_helper.rb:5
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/helpers/cart_item_helper.rb:5
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/helpers/cart_item_helper.rb:11
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  â†³ app/helpers/cart_item_helper.rb:13
  [1m[36mCartItem Update (6.6ms)[0m  [1m[33mUPDATE "cart_items" SET "quantity" = $1, "updated_at" = $2 WHERE "cart_items"."id" = $3[0m  [["quantity", 1], ["updated_at", "2023-04-20 23:47:13.463727"], ["id", 4]]
  â†³ app/helpers/cart_item_helper.rb:13
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/helpers/cart_item_helper.rb:13
Redirected to http://localhost:3000/cart_items
Completed 302 Found in 48ms (ActiveRecord: 34.3ms)


Started GET "/cart_items" for ::1 at 2023-04-20 16:47:13 -0700
Processing by CartItemsController#index as HTML
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cart_items_controller.rb:7
  Rendering cart_items/index.html.erb within layouts/application
  [1m[35m (3.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:6
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:20
  [1m[36mCartItem Load (0.3ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:23
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:23
  [1m[36mActiveStorage::Attachment Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:25
  Rendered cart_items/_quantity.html.erb (1.3ms)
  Rendered cart_items/index.html.erb within layouts/application (11.7ms)
  Rendered layouts/_header.html.erb (0.9ms)
  Rendered layouts/_alert.html.erb (0.2ms)
Completed 200 OK in 52ms (Views: 42.6ms | ActiveRecord: 6.4ms)


Started POST "/checkouts" for ::1 at 2023-04-20 16:47:15 -0700
Processing by CheckoutsController#create as JS
  Parameters: {"authenticity_token"=>"AIa7I6gmaEUek07W8Ix0JW13VN4vL33mEJU01LEaP32ph7wEnrqoWcmjZQMQVqVreXP5RJFUKNPw0tD4X8KJoA=="}
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/checkouts_controller.rb:7
Completed 500 Internal Server Error in 11ms (ActiveRecord: 1.8ms)


  
SyntaxError (/Users/dev/Documents/repos/ecommerceApp-main/app/services/order_service.rb:65: syntax error, unexpected keyword_end, expecting end-of-input):
  
app/services/order_service.rb:65: syntax error, unexpected keyword_end, expecting end-of-input
app/controllers/checkouts_controller.rb:9:in `create'
Started GET "/cart_items" for ::1 at 2023-04-20 16:48:13 -0700
DEPRECATION WARNING: 'include Pundit' is deprecated. Please use 'include Pundit::Authorization' instead.
 (called from include at /Users/dev/Documents/repos/ecommerceApp-main/app/controllers/concerns/authorizable.rb:7)
Processing by CartItemsController#index as HTML
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cart_items_controller.rb:7
  Rendering cart_items/index.html.erb within layouts/application
  [1m[35m (5.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:6
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:20
  [1m[36mCartItem Load (0.7ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:23
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:23
  [1m[36mActiveStorage::Attachment Exists (2.1ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:25
  Rendered cart_items/_quantity.html.erb (1.7ms)
  Rendered cart_items/index.html.erb within layouts/application (105.8ms)
  Rendered layouts/_header.html.erb (1.1ms)
  Rendered layouts/_alert.html.erb (0.3ms)
Completed 200 OK in 234ms (Views: 75.0ms | ActiveRecord: 138.9ms)


Started POST "/checkouts" for ::1 at 2023-04-20 16:48:15 -0700
Processing by CheckoutsController#create as JS
  Parameters: {"authenticity_token"=>"fp2UyyywLpLIcog7k0O+Kojxnnsq0LZVNTYm3Bq2Z3HXnJPsGizujh9Co+5zmW9knPUz4ZSr42DVccLw9G7RrA=="}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/checkouts_controller.rb:7
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/services/order_service.rb:9
  [1m[36mCartItem Load (14.4ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/services/order_service.rb:40
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1[0m  [["id", 1]]
  â†³ app/services/order_service.rb:40
  [1m[36mOrder Create (7.5ms)[0m  [1m[32mINSERT INTO "orders" ("status", "amount_paid", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["status", 1], ["amount_paid", "100.0"], ["user_id", 2], ["created_at", "2023-04-20 23:48:15.256882"], ["updated_at", "2023-04-20 23:48:15.256882"]]
  â†³ app/services/order_service.rb:10
  [1m[36mOrderItem Create Many (12.4ms)[0m  [1m[32mINSERT INTO "order_items" ("product_id","price","quantity","order_id","created_at","updated_at") VALUES (1,100,1,19,'2023-04-20 23:48:15.356383','2023-04-20 23:48:15.356383') RETURNING "id"[0m
  â†³ app/services/order_service.rb:13
  [1m[36mProduct Create Many (2.3ms)[0m  [1m[32mINSERT INTO "products" ("id","name","description","price","quantity","user_id","created_at","updated_at") VALUES (1,'123','123123123123',1.0,0,1,'2023-04-20 22:08:46.139965','2023-04-20 23:48:15.389160') ON CONFLICT (id) DO UPDATE SET "quantity"=EXCLUDED."quantity","updated_at"=EXCLUDED."updated_at"  RETURNING "id"[0m
  â†³ app/services/order_service.rb:62
  [1m[36mCartItem Destroy (10.3ms)[0m  [1m[31mDELETE FROM "cart_items" WHERE "cart_items"."id" = $1[0m  [["id", 4]]
  â†³ app/services/order_service.rb:17
  [1m[35m (5.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/services/order_service.rb:9
Redirected to http://localhost:3000/products
Completed 200 OK in 294ms (ActiveRecord: 132.7ms)


Started GET "/products" for ::1 at 2023-04-20 16:48:15 -0700
Processing by ProductsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:7
  Rendering products/index.html.erb within layouts/application
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" WHERE (user_id != 2)[0m
  â†³ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (user_id != 2)[0m
  â†³ app/views/products/index.html.erb:7
  [1m[36mActiveStorage::Attachment Exists (3.8ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/index.html.erb:11
  Rendered products/index.html.erb within layouts/application (12.2ms)
  Rendered layouts/_header.html.erb (1.1ms)
  Rendered layouts/_alert.html.erb (0.3ms)
Completed 200 OK in 117ms (Views: 106.1ms | ActiveRecord: 6.3ms)


Started GET "/products" for ::1 at 2023-04-20 16:48:51 -0700
DEPRECATION WARNING: 'include Pundit' is deprecated. Please use 'include Pundit::Authorization' instead.
 (called from include at /Users/dev/Documents/repos/ecommerceApp-main/app/controllers/concerns/authorizable.rb:7)
Processing by ProductsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:7
  Rendering products/index.html.erb within layouts/application
  [1m[35m (7.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" WHERE (user_id != 2)[0m
  â†³ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (user_id != 2)[0m
  â†³ app/views/products/index.html.erb:7
  [1m[36mActiveStorage::Attachment Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/index.html.erb:11
  Rendered products/index.html.erb within layouts/application (43.5ms)
  Rendered layouts/_header.html.erb (1.6ms)
  Rendered layouts/_alert.html.erb (0.3ms)
Completed 200 OK in 183ms (Views: 91.1ms | ActiveRecord: 71.5ms)


Started GET "/products/1" for ::1 at 2023-04-20 16:48:56 -0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:68
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:69
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/policies/product_policy.rb:23
  Rendering products/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Exists (1.2ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:5
  Rendered products/show.html.erb within layouts/application (3.0ms)
  Rendered layouts/_header.html.erb (1.2ms)
  Rendered layouts/_alert.html.erb (0.2ms)
Completed 200 OK in 82ms (Views: 43.3ms | ActiveRecord: 22.4ms)


Started GET "/products/search.json?keyword=12" for ::1 at 2023-04-20 16:48:59 -0700
Processing by ProductsController#search as JSON
  Parameters: {"keyword"=>"12"}
Completed 406 Not Acceptable in 70ms (ActiveRecord: 0.0ms)


  
ActionController::UnknownFormat (ProductsController#search is missing a template for this request format and variant.

request.formats: ["application/json"]
request.variant: []):
  
actionpack (5.2.6) lib/action_controller/metal/implicit_render.rb:42:in `default_render'
actionpack (5.2.6) lib/action_controller/metal/basic_implicit_render.rb:6:in `block in send_action'
actionpack (5.2.6) lib/action_controller/metal/basic_implicit_render.rb:6:in `tap'
actionpack (5.2.6) lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
actionpack (5.2.6) lib/abstract_controller/base.rb:194:in `process_action'
actionpack (5.2.6) lib/action_controller/metal/rendering.rb:30:in `process_action'
actionpack (5.2.6) lib/abstract_controller/callbacks.rb:42:in `block in process_action'
activesupport (5.2.6) lib/active_support/callbacks.rb:132:in `run_callbacks'
actionpack (5.2.6) lib/abstract_controller/callbacks.rb:41:in `process_action'
actionpack (5.2.6) lib/action_controller/metal/rescue.rb:22:in `process_action'
actionpack (5.2.6) lib/action_controller/metal/instrumentation.rb:34:in `block in process_action'
activesupport (5.2.6) lib/active_support/notifications.rb:168:in `block in instrument'
activesupport (5.2.6) lib/active_support/notifications/instrumenter.rb:23:in `instrument'
activesupport (5.2.6) lib/active_support/notifications.rb:168:in `instrument'
actionpack (5.2.6) lib/action_controller/metal/instrumentation.rb:32:in `process_action'
actionpack (5.2.6) lib/action_controller/metal/params_wrapper.rb:256:in `process_action'
activerecord (5.2.6) lib/active_record/railties/controller_runtime.rb:24:in `process_action'
actionpack (5.2.6) lib/abstract_controller/base.rb:134:in `process'
actionview (5.2.6) lib/action_view/rendering.rb:32:in `process'
actionpack (5.2.6) lib/action_controller/metal.rb:191:in `dispatch'
actionpack (5.2.6) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (5.2.6) lib/action_dispatch/routing/route_set.rb:52:in `dispatch'
actionpack (5.2.6) lib/action_dispatch/routing/route_set.rb:34:in `serve'
actionpack (5.2.6) lib/action_dispatch/journey/router.rb:52:in `block in serve'
actionpack (5.2.6) lib/action_dispatch/journey/router.rb:35:in `each'
actionpack (5.2.6) lib/action_dispatch/journey/router.rb:35:in `serve'
actionpack (5.2.6) lib/action_dispatch/routing/route_set.rb:840:in `call'
warden (1.2.9) lib/warden/manager.rb:36:in `block in call'
warden (1.2.9) lib/warden/manager.rb:34:in `catch'
warden (1.2.9) lib/warden/manager.rb:34:in `call'
rack (2.2.3) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.2.3) lib/rack/etag.rb:27:in `call'
rack (2.2.3) lib/rack/conditional_get.rb:27:in `call'
rack (2.2.3) lib/rack/head.rb:12:in `call'
actionpack (5.2.6) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.2.3) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.3) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (5.2.6) lib/action_dispatch/middleware/cookies.rb:670:in `call'
activerecord (5.2.6) lib/active_record/migration.rb:559:in `call'
actionpack (5.2.6) lib/action_dispatch/middleware/callbacks.rb:28:in `block in call'
activesupport (5.2.6) lib/active_support/callbacks.rb:98:in `run_callbacks'
actionpack (5.2.6) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (5.2.6) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.6) lib/action_dispatch/middleware/debug_exceptions.rb:61:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.6) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.6) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.6) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.6) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.6) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.6) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.6) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.6) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.6) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.6) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.6) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.6) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
railties (5.2.6) lib/rails/engine.rb:524:in `call'
puma (3.12.6) lib/puma/configuration.rb:227:in `call'
puma (3.12.6) lib/puma/server.rb:706:in `handle_request'
puma (3.12.6) lib/puma/server.rb:476:in `process_client'
puma (3.12.6) lib/puma/server.rb:334:in `block in run'
puma (3.12.6) lib/puma/thread_pool.rb:135:in `block in spawn_thread'
Started GET "/products/search.json?keyword=123" for ::1 at 2023-04-20 16:48:59 -0700
Started GET "/products/search?utf8=%E2%9C%93&keyword=123&button=" for ::1 at 2023-04-20 16:49:00 -0700
Processing by ProductsController#search as HTML
  Parameters: {"utf8"=>"âœ“", "keyword"=>"123", "button"=>""}
  Rendering products/search.html.erb within layouts/application
  [1m[35m (23.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" WHERE (name ILIKE '%123%')[0m
  â†³ app/views/products/search.html.erb:6
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (name ILIKE '%123%')[0m
  â†³ app/views/products/search.html.erb:7
  [1m[36mActiveStorage::Attachment Exists (8.3ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/search.html.erb:11
  Rendered products/search.html.erb within layouts/application (35.8ms)
Processing by ProductsController#search as JSON
  Parameters: {"keyword"=>"123"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/layouts/_header.html.erb:24
  Rendered layouts/_header.html.erb (2.8ms)
  Rendered layouts/_alert.html.erb (0.3ms)
Completed 200 OK in 114ms (Views: 79.6ms | ActiveRecord: 33.0ms)


Completed 406 Not Acceptable in 80ms (ActiveRecord: 0.0ms)


  
ActionController::UnknownFormat (ProductsController#search is missing a template for this request format and variant.

request.formats: ["application/json"]
request.variant: []):
  
actionpack (5.2.6) lib/action_controller/metal/implicit_render.rb:42:in `default_render'
actionpack (5.2.6) lib/action_controller/metal/basic_implicit_render.rb:6:in `block in send_action'
actionpack (5.2.6) lib/action_controller/metal/basic_implicit_render.rb:6:in `tap'
actionpack (5.2.6) lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
actionpack (5.2.6) lib/abstract_controller/base.rb:194:in `process_action'
actionpack (5.2.6) lib/action_controller/metal/rendering.rb:30:in `process_action'
actionpack (5.2.6) lib/abstract_controller/callbacks.rb:42:in `block in process_action'
activesupport (5.2.6) lib/active_support/callbacks.rb:132:in `run_callbacks'
actionpack (5.2.6) lib/abstract_controller/callbacks.rb:41:in `process_action'
actionpack (5.2.6) lib/action_controller/metal/rescue.rb:22:in `process_action'
actionpack (5.2.6) lib/action_controller/metal/instrumentation.rb:34:in `block in process_action'
activesupport (5.2.6) lib/active_support/notifications.rb:168:in `block in instrument'
activesupport (5.2.6) lib/active_support/notifications/instrumenter.rb:23:in `instrument'
activesupport (5.2.6) lib/active_support/notifications.rb:168:in `instrument'
actionpack (5.2.6) lib/action_controller/metal/instrumentation.rb:32:in `process_action'
actionpack (5.2.6) lib/action_controller/metal/params_wrapper.rb:256:in `process_action'
activerecord (5.2.6) lib/active_record/railties/controller_runtime.rb:24:in `process_action'
actionpack (5.2.6) lib/abstract_controller/base.rb:134:in `process'
actionview (5.2.6) lib/action_view/rendering.rb:32:in `process'
actionpack (5.2.6) lib/action_controller/metal.rb:191:in `dispatch'
actionpack (5.2.6) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (5.2.6) lib/action_dispatch/routing/route_set.rb:52:in `dispatch'
actionpack (5.2.6) lib/action_dispatch/routing/route_set.rb:34:in `serve'
actionpack (5.2.6) lib/action_dispatch/journey/router.rb:52:in `block in serve'
actionpack (5.2.6) lib/action_dispatch/journey/router.rb:35:in `each'
actionpack (5.2.6) lib/action_dispatch/journey/router.rb:35:in `serve'
actionpack (5.2.6) lib/action_dispatch/routing/route_set.rb:840:in `call'
warden (1.2.9) lib/warden/manager.rb:36:in `block in call'
warden (1.2.9) lib/warden/manager.rb:34:in `catch'
warden (1.2.9) lib/warden/manager.rb:34:in `call'
rack (2.2.3) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.2.3) lib/rack/etag.rb:27:in `call'
rack (2.2.3) lib/rack/conditional_get.rb:27:in `call'
rack (2.2.3) lib/rack/head.rb:12:in `call'
actionpack (5.2.6) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.2.3) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.3) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (5.2.6) lib/action_dispatch/middleware/cookies.rb:670:in `call'
activerecord (5.2.6) lib/active_record/migration.rb:559:in `call'
actionpack (5.2.6) lib/action_dispatch/middleware/callbacks.rb:28:in `block in call'
activesupport (5.2.6) lib/active_support/callbacks.rb:98:in `run_callbacks'
actionpack (5.2.6) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (5.2.6) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.6) lib/action_dispatch/middleware/debug_exceptions.rb:61:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.6) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.6) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.6) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.6) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.6) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.6) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.6) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.6) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.6) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.6) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.6) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.6) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
railties (5.2.6) lib/rails/engine.rb:524:in `call'
puma (3.12.6) lib/puma/configuration.rb:227:in `call'
puma (3.12.6) lib/puma/server.rb:706:in `handle_request'
puma (3.12.6) lib/puma/server.rb:476:in `process_client'
puma (3.12.6) lib/puma/server.rb:334:in `block in run'
puma (3.12.6) lib/puma/thread_pool.rb:135:in `block in spawn_thread'
Started GET "/" for ::1 at 2023-04-20 16:49:02 -0700
Processing by ProductsController#index as HTML
  [1m[36mUser Load (12.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:7
  Rendering products/index.html.erb within layouts/application
  [1m[35m (9.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" WHERE (user_id != 2)[0m
  â†³ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (user_id != 2)[0m
  â†³ app/views/products/index.html.erb:7
  [1m[36mActiveStorage::Attachment Exists (2.6ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/index.html.erb:11
  Rendered products/index.html.erb within layouts/application (18.3ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_alert.html.erb (0.2ms)
Completed 200 OK in 90ms (Views: 50.3ms | ActiveRecord: 30.1ms)


Started GET "/cart_items" for ::1 at 2023-04-20 16:49:04 -0700
Processing by CartItemsController#index as HTML
  [1m[36mUser Load (14.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cart_items_controller.rb:7
  Rendering cart_items/index.html.erb within layouts/application
  [1m[35m (1.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:6
  Rendered cart_items/index.html.erb within layouts/application (3.2ms)
  Rendered layouts/_header.html.erb (1.1ms)
  Rendered layouts/_alert.html.erb (0.3ms)
Completed 200 OK in 67ms (Views: 44.2ms | ActiveRecord: 15.9ms)


Started GET "/" for ::1 at 2023-04-20 16:49:05 -0700
Processing by ProductsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:7
  Rendering products/index.html.erb within layouts/application
  [1m[35m (1.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" WHERE (user_id != 2)[0m
  â†³ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (user_id != 2)[0m
  â†³ app/views/products/index.html.erb:7
  [1m[36mActiveStorage::Attachment Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/index.html.erb:11
  Rendered products/index.html.erb within layouts/application (7.3ms)
  Rendered layouts/_header.html.erb (1.1ms)
  Rendered layouts/_alert.html.erb (0.3ms)
Completed 200 OK in 62ms (Views: 56.6ms | ActiveRecord: 3.0ms)


Started GET "/products/mine" for ::1 at 2023-04-20 16:49:06 -0700
Processing by ProductsController#mine as HTML
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:16
  Rendering products/mine.html.erb within layouts/application
  [1m[36mProduct Load (2.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (user_id = 2)[0m
  â†³ app/views/products/mine.html.erb:9
  Rendered products/mine.html.erb within layouts/application (5.3ms)
  Rendered layouts/_header.html.erb (1.1ms)
  Rendered layouts/_alert.html.erb (0.3ms)
Completed 200 OK in 59ms (Views: 49.2ms | ActiveRecord: 2.8ms)


Started GET "/" for ::1 at 2023-04-20 16:49:07 -0700
Processing by ProductsController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:7
  Rendering products/index.html.erb within layouts/application
  [1m[35m (2.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" WHERE (user_id != 2)[0m
  â†³ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (user_id != 2)[0m
  â†³ app/views/products/index.html.erb:7
  [1m[36mActiveStorage::Attachment Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/index.html.erb:11
  Rendered products/index.html.erb within layouts/application (6.7ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_alert.html.erb (0.2ms)
Completed 200 OK in 66ms (Views: 55.9ms | ActiveRecord: 4.1ms)


Started GET "/" for ::1 at 2023-04-20 18:20:20 -0700
  [1m[35m (9.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ /Users/dev/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.6/lib/active_record/log_subscriber.rb:98
DEPRECATION WARNING: 'include Pundit' is deprecated. Please use 'include Pundit::Authorization' instead.
 (called from include at /Users/dev/Documents/repos/ecommerceApp-main/app/controllers/concerns/authorizable.rb:7)
Processing by ProductsController#index as HTML
  [1m[36mUser Load (16.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:7
  Rendering products/index.html.erb within layouts/application
  [1m[35m (12.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" WHERE (user_id != 2)[0m
  â†³ app/views/products/index.html.erb:5
  [1m[36mProduct Load (2.9ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (user_id != 2)[0m
  â†³ app/views/products/index.html.erb:6
  [1m[36mActiveStorage::Attachment Exists (9.1ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/index.html.erb:10
  Rendered products/index.html.erb within layouts/application (240.4ms)
  Rendered layouts/_header.html.erb (4.0ms)
  Rendered layouts/_alert.html.erb (0.3ms)
Completed 200 OK in 562ms (Views: 392.5ms | ActiveRecord: 125.9ms)


Started GET "/products/mine" for ::1 at 2023-04-20 18:20:26 -0700
Processing by ProductsController#mine as HTML
  [1m[36mUser Load (4.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:57
  Rendering products/mine.html.erb within layouts/application
  [1m[36mProduct Load (3.7ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (user_id = 2)[0m
  â†³ app/views/products/mine.html.erb:9
  Rendered products/mine.html.erb within layouts/application (4.8ms)
  Rendered layouts/_header.html.erb (0.9ms)
  Rendered layouts/_alert.html.erb (0.2ms)
Completed 200 OK in 62ms (Views: 46.8ms | ActiveRecord: 7.7ms)


Started DELETE "/users/sign_out" for ::1 at 2023-04-20 18:20:29 -0700
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"Mn63becIiOzdTGmlAimFSDbxrTinQ6dlQdXJdqiqSpybf7BK0ZRI8Ap8QnDi81QGIvUAohk48lChki1aRnL8QQ=="}
  [1m[36mUser Load (3.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ /Users/dev/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.6/lib/active_record/log_subscriber.rb:98
  [1m[35m (13.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/dev/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.6/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/dev/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.6/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/
Completed 302 Found in 26ms (ActiveRecord: 17.3ms)


Started GET "/" for ::1 at 2023-04-20 18:20:29 -0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[35m (3.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  â†³ app/views/products/index.html.erb:5
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/views/products/index.html.erb:6
  [1m[36mActiveStorage::Attachment Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/index.html.erb:10
  Rendered products/index.html.erb within layouts/application (6.5ms)
  Rendered layouts/_header.html.erb (1.1ms)
  Rendered layouts/_alert.html.erb (0.2ms)
Completed 200 OK in 50ms (Views: 39.6ms | ActiveRecord: 4.2ms)


Started GET "/users/sign_in" for ::1 at 2023-04-20 18:20:32 -0700
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (0.8ms)
  Rendered devise/sessions/new.html.erb within layouts/application (13.2ms)
  Rendered layouts/_header.html.erb (0.9ms)
  Rendered layouts/_alert.html.erb (0.2ms)
Completed 200 OK in 74ms (Views: 71.4ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for ::1 at 2023-04-20 18:20:34 -0700
Processing by Devise::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_error_messages.html.erb (0.3ms)
  Rendered devise/shared/_links.html.erb (0.8ms)
  Rendered devise/registrations/new.html.erb within layouts/application (5.6ms)
  Rendered layouts/_header.html.erb (0.9ms)
  Rendered layouts/_alert.html.erb (0.2ms)
Completed 200 OK in 50ms (Views: 47.9ms | ActiveRecord: 0.0ms)


Started POST "/users" for ::1 at 2023-04-20 18:20:45 -0700
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"BquFIHrlOBjsdbjnPYoYycAsqweYYo3HeEDpZsk675DW19Zd4O26bxM12LNeoKZL6Y4wdbdoPTN15IPuY8N6jA==", "user"=>{"full_name"=>"abuzar", "email"=>"abuzar@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "role"=>"0", "commit"=>"Sign up"}
Unpermitted parameter: :password_confirmation
  [1m[35m (13.7ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/dev/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.6/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Exists (1.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "abuzar@gmail.com"], ["LIMIT", 1]]
  â†³ /Users/dev/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.6/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Create (5.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "full_name", "confirmation_token", "confirmation_sent_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "abuzar@gmail.com"], ["encrypted_password", "$2a$12$ohDHKRtnsAeZzvs8nEEn3ODgmh2.ucqlsFUhRKoE8eQrD0dJf.isG"], ["full_name", "abuzar"], ["confirmation_token", "y_4M8yxSHKFZ2tK2_uSz"], ["confirmation_sent_at", "2023-04-21 01:20:45.445252"], ["created_at", "2023-04-21 01:20:45.445113"], ["updated_at", "2023-04-21 01:20:45.445113"]]
  â†³ /Users/dev/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.6/lib/active_record/log_subscriber.rb:98
  [1m[35m (1.8ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/dev/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.6/lib/active_record/log_subscriber.rb:98
  Rendering devise/mailer/confirmation_instructions.html.erb
  Rendered devise/mailer/confirmation_instructions.html.erb (0.5ms)
Devise::Mailer#confirmation_instructions: processed outbound mail in 130.3ms
Sent mail to abuzar@gmail.com (273.9ms)
Date: Thu, 20 Apr 2023 18:20:45 -0700
From: please-change-me-at-config-initializers-devise@example.com
Reply-To: please-change-me-at-config-initializers-devise@example.com
To: abuzar@gmail.com
Message-ID: <6441e4ed9cfca_74263ff15c6517141067d@the-showdown.mail>
Subject: Confirmation instructions
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Welcome abuzar@gmail.com!</p>

<p>You can confirm your account email through the link below:</p>

<p><a href="http://localhost:3000/users/confirmation?confirmation_token=y_4M8yxSHKFZ2tK2_uSz">Confirm my account</a></p>

  [1m[35m (3.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 3]]
  â†³ app/controllers/concerns/load_cart.rb:37
Redirected to http://localhost:3000/
Completed 302 Found in 816ms (ActiveRecord: 40.3ms)


Started GET "/" for ::1 at 2023-04-20 18:20:45 -0700
Processing by ProductsController#index as HTML
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:7
  Rendering products/index.html.erb within layouts/application
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" WHERE (user_id != 3)[0m
  â†³ app/views/products/index.html.erb:5
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (user_id != 3)[0m
  â†³ app/views/products/index.html.erb:6
  [1m[36mActiveStorage::Attachment Exists (1.6ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/index.html.erb:10
  Rendered products/index.html.erb within layouts/application (5.3ms)
  Rendered layouts/_header.html.erb (0.9ms)
  Rendered layouts/_alert.html.erb (0.2ms)
Completed 200 OK in 54ms (Views: 44.4ms | ActiveRecord: 3.8ms)


Started GET "/products/1" for ::1 at 2023-04-20 18:20:50 -0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (15.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:68
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:69
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/policies/product_policy.rb:23
  Rendering products/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Exists (2.6ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:4
  Rendered products/show.html.erb within layouts/application (4.3ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_alert.html.erb (0.4ms)
Completed 200 OK in 103ms (Views: 41.2ms | ActiveRecord: 26.6ms)


  [1m[36mProduct Load (5.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" ORDER BY "products"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mProduct Load (1.6ms)[0m  [1m[34mSELECT  "products".* FROM "products" ORDER BY "products"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (12.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mProduct Load (6.6ms)[0m  [1m[34mSELECT  "products".* FROM "products" ORDER BY "products"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (15.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mProduct Update (19.6ms)[0m  [1m[33mUPDATE "products" SET "quantity" = $1, "updated_at" = $2 WHERE "products"."id" = $3[0m  [["quantity", 10], ["updated_at", "2023-04-21 01:21:12.087320"], ["id", 1]]
  [1m[35m (0.9ms)[0m  [1m[35mCOMMIT[0m
Started GET "/products/1" for ::1 at 2023-04-20 18:21:13 -0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (2.9ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:68
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:69
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/policies/product_policy.rb:23
  Rendering products/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:4
  Rendered cart_items/_form.html.erb (2.4ms)
  Rendered products/show.html.erb within layouts/application (6.3ms)
  Rendered layouts/_header.html.erb (1.1ms)
  Rendered layouts/_alert.html.erb (0.3ms)
Completed 200 OK in 66ms (Views: 57.2ms | ActiveRecord: 5.2ms)


Started POST "/cart_items" for ::1 at 2023-04-20 18:21:17 -0700
Processing by CartItemsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"P5JSKWsJqCRephjsUax4OQ7/2gWsHb/95j/EZ151CU2Wk1UOXZVoOImWMzmxdql3Gvt3nxJm6sgGeCBLsK2/kA==", "cart_item"=>{"product_id"=>"1", "quantity"=>"5"}, "commit"=>"Add to cart"}
  [1m[36mUser Load (6.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/cart_items_controller.rb:21
  [1m[36mCartItem Load (0.9ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."product_id" = $1 AND "cart_items"."user_id" = $2 LIMIT $3[0m  [["product_id", 1], ["user_id", 3], ["LIMIT", 1]]
  â†³ app/helpers/cart_item_helper.rb:5
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/helpers/cart_item_helper.rb:5
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/helpers/cart_item_helper.rb:5
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/helpers/cart_item_helper.rb:5
  [1m[36mCartItem Create (20.5ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 3], ["product_id", 1], ["created_at", "2023-04-21 01:21:17.319139"], ["updated_at", "2023-04-21 01:21:17.319139"]]
  â†³ app/helpers/cart_item_helper.rb:5
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/helpers/cart_item_helper.rb:5
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/helpers/cart_item_helper.rb:11
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/helpers/cart_item_helper.rb:13
  [1m[36mCartItem Update (1.0ms)[0m  [1m[33mUPDATE "cart_items" SET "quantity" = $1, "updated_at" = $2 WHERE "cart_items"."id" = $3[0m  [["quantity", 5], ["updated_at", "2023-04-21 01:21:17.345452"], ["id", 5]]
  â†³ app/helpers/cart_item_helper.rb:13
  [1m[35m (0.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/helpers/cart_item_helper.rb:13
Redirected to http://localhost:3000/cart_items
Completed 302 Found in 45ms (ActiveRecord: 31.6ms)


Started GET "/cart_items" for ::1 at 2023-04-20 18:21:17 -0700
Processing by CartItemsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/cart_items_controller.rb:7
  Rendering cart_items/index.html.erb within layouts/application
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 3]]
  â†³ app/views/cart_items/index.html.erb:6
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 3]]
  â†³ app/views/cart_items/index.html.erb:20
  [1m[36mCartItem Load (0.4ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 3]]
  â†³ app/views/cart_items/index.html.erb:23
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:23
  [1m[36mActiveStorage::Attachment Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:25
  Rendered cart_items/_quantity.html.erb (1.1ms)
  Rendered cart_items/index.html.erb within layouts/application (9.0ms)
  Rendered layouts/_header.html.erb (1.2ms)
  Rendered layouts/_alert.html.erb (0.3ms)
Completed 200 OK in 60ms (Views: 50.1ms | ActiveRecord: 2.9ms)


Started PUT "/cart_items/1" for ::1 at 2023-04-20 18:21:19 -0700
Started GET "/cart_items/" for ::1 at 2023-04-20 18:21:19 -0700
Processing by CartItemsController#update as JS
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"8Qp2w/AHWmB4/95iPT2WH5RS6rFCYvNlM05cbbaZeX1YC3HkxpuafK/P9bfd50dRgFZHK/wZplDTCbhBWEHPoA==", "cart_item"=>{"product_id"=>"1", "quantity"=>"4"}, "commit"=>"âˆ’", "id"=>"1"}
  [1m[36mUser Load (7.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/cart_items_controller.rb:26
  [1m[36mCartItem Load (3.5ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."product_id" = $1 LIMIT $2[0m  [["product_id", 0], ["LIMIT", 1]]
  â†³ app/models/cart_item.rb:10
No template found for CartItemsController#update, rendering head :no_content
Completed 204 No Content in 152ms (ActiveRecord: 11.1ms)


Processing by CartItemsController#index as TEXT
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/cart_items_controller.rb:7
  Rendering cart_items/index.html.erb within layouts/application
  [1m[35m (2.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 3]]
  â†³ app/views/cart_items/index.html.erb:6
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 3]]
  â†³ app/views/cart_items/index.html.erb:20
  [1m[36mCartItem Load (0.3ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 3]]
  â†³ app/views/cart_items/index.html.erb:23
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:23
  [1m[36mActiveStorage::Attachment Exists (3.5ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:25
  Rendered cart_items/_quantity.html.erb (1.2ms)
  Rendered cart_items/index.html.erb within layouts/application (23.6ms)
  Rendered layouts/_header.html.erb (1.6ms)
  Rendered layouts/_alert.html.erb (0.3ms)
Completed 200 OK in 111ms (Views: 87.3ms | ActiveRecord: 9.0ms)


Started PUT "/cart_items/1" for ::1 at 2023-04-20 18:21:21 -0700
Started GET "/cart_items/" for ::1 at 2023-04-20 18:21:21 -0700
Processing by CartItemsController#index as TEXT
Processing by CartItemsController#update as JS
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"8Qp2w/AHWmB4/95iPT2WH5RS6rFCYvNlM05cbbaZeX1YC3HkxpuafK/P9bfd50dRgFZHK/wZplDTCbhBWEHPoA==", "cart_item"=>{"product_id"=>"1", "quantity"=>"4"}, "commit"=>"âˆ’", "id"=>"1"}
  [1m[36mUser Load (7.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/cart_items_controller.rb:7
  [1m[36mUser Load (21.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering cart_items/index.html.erb within layouts/application
  â†³ app/controllers/cart_items_controller.rb:26
  [1m[36mCartItem Load (6.9ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."product_id" = $1 LIMIT $2[0m  [["product_id", 0], ["LIMIT", 1]]
  â†³ app/models/cart_item.rb:10
  [1m[35m (45.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 3]]
  â†³ app/views/cart_items/index.html.erb:6
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 3]]
  â†³ app/views/cart_items/index.html.erb:20
  [1m[36mCartItem Load (1.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 3]]
  â†³ app/views/cart_items/index.html.erb:23
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:23
  [1m[36mActiveStorage::Attachment Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:25
  Rendered cart_items/_quantity.html.erb (1.6ms)
  Rendered cart_items/index.html.erb within layouts/application (64.9ms)
  Rendered layouts/_header.html.erb (0.8ms)
  Rendered layouts/_alert.html.erb (0.3ms)
Completed 200 OK in 197ms (Views: 117.5ms | ActiveRecord: 55.2ms)


No template found for CartItemsController#update, rendering head :no_content
Completed 204 No Content in 248ms (ActiveRecord: 28.7ms)


Started GET "/cart_items/" for ::1 at 2023-04-20 18:21:22 -0700
Started PUT "/cart_items/1" for ::1 at 2023-04-20 18:21:22 -0700
Processing by CartItemsController#index as TEXT
Processing by CartItemsController#update as JS
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"8Qp2w/AHWmB4/95iPT2WH5RS6rFCYvNlM05cbbaZeX1YC3HkxpuafK/P9bfd50dRgFZHK/wZplDTCbhBWEHPoA==", "cart_item"=>{"product_id"=>"1", "quantity"=>"4"}, "commit"=>"âˆ’", "id"=>"1"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/cart_items_controller.rb:7
  [1m[36mUser Load (11.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/cart_items_controller.rb:26
  Rendering cart_items/index.html.erb within layouts/application
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 3]]
  â†³ app/views/cart_items/index.html.erb:6
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 3]]
  â†³ app/views/cart_items/index.html.erb:20
  [1m[36mCartItem Load (1.2ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."product_id" = $1 LIMIT $2[0m  [["product_id", 0], ["LIMIT", 1]]
  â†³ app/models/cart_item.rb:10
  [1m[36mCartItem Load (36.9ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 3]]
  â†³ app/views/cart_items/index.html.erb:23
  [1m[36mProduct Load (10.8ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:23
  [1m[36mActiveStorage::Attachment Exists (13.6ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:25
  Rendered cart_items/_quantity.html.erb (1.3ms)
  Rendered cart_items/index.html.erb within layouts/application (78.1ms)
No template found for CartItemsController#update, rendering head :no_content
Completed 204 No Content in 169ms (ActiveRecord: 12.4ms)


  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_alert.html.erb (0.4ms)
Completed 200 OK in 222ms (Views: 146.1ms | ActiveRecord: 63.0ms)


Started PUT "/cart_items/1" for ::1 at 2023-04-20 18:21:22 -0700
Started GET "/cart_items/" for ::1 at 2023-04-20 18:21:22 -0700
Processing by CartItemsController#update as JS
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"8Qp2w/AHWmB4/95iPT2WH5RS6rFCYvNlM05cbbaZeX1YC3HkxpuafK/P9bfd50dRgFZHK/wZplDTCbhBWEHPoA==", "cart_item"=>{"product_id"=>"1", "quantity"=>"4"}, "commit"=>"âˆ’", "id"=>"1"}
Processing by CartItemsController#index as TEXT
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/cart_items_controller.rb:26
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/cart_items_controller.rb:7
  [1m[36mCartItem Load (10.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."product_id" = $1 LIMIT $2[0m  [["product_id", 0], ["LIMIT", 1]]
  â†³ app/models/cart_item.rb:10
  Rendering cart_items/index.html.erb within layouts/application
  [1m[35m (1.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 3]]
  â†³ app/views/cart_items/index.html.erb:6
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 3]]
  â†³ app/views/cart_items/index.html.erb:20
  [1m[36mCartItem Load (0.6ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 3]]
  â†³ app/views/cart_items/index.html.erb:23
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:23
  [1m[36mActiveStorage::Attachment Exists (1.3ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:25
  Rendered cart_items/_quantity.html.erb (1.3ms)
  Rendered cart_items/index.html.erb within layouts/application (18.7ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_alert.html.erb (0.3ms)
Completed 200 OK in 154ms (Views: 139.1ms | ActiveRecord: 4.6ms)


No template found for CartItemsController#update, rendering head :no_content
Completed 204 No Content in 217ms (ActiveRecord: 10.8ms)


Started PUT "/cart_items/1" for ::1 at 2023-04-20 18:21:23 -0700
Started GET "/cart_items/" for ::1 at 2023-04-20 18:21:23 -0700
Processing by CartItemsController#update as JS
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"8Qp2w/AHWmB4/95iPT2WH5RS6rFCYvNlM05cbbaZeX1YC3HkxpuafK/P9bfd50dRgFZHK/wZplDTCbhBWEHPoA==", "cart_item"=>{"product_id"=>"1", "quantity"=>"6"}, "commit"=>"+", "id"=>"1"}
Processing by CartItemsController#index as TEXT
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/cart_items_controller.rb:26
  [1m[36mUser Load (2.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/cart_items_controller.rb:7
  [1m[36mCartItem Load (19.5ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."product_id" = $1 LIMIT $2[0m  [["product_id", 0], ["LIMIT", 1]]
  â†³ app/models/cart_item.rb:10
  Rendering cart_items/index.html.erb within layouts/application
  [1m[35m (6.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 3]]
  â†³ app/views/cart_items/index.html.erb:6
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 3]]
  â†³ app/views/cart_items/index.html.erb:20
  [1m[36mCartItem Load (1.5ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 3]]
  â†³ app/views/cart_items/index.html.erb:23
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:23
  [1m[36mActiveStorage::Attachment Exists (40.8ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:25
No template found for CartItemsController#update, rendering head :no_content
Completed 204 No Content in 176ms (ActiveRecord: 21.2ms)


  Rendered cart_items/_quantity.html.erb (1.1ms)
  Rendered cart_items/index.html.erb within layouts/application (101.1ms)
Started PUT "/cart_items/1" for ::1 at 2023-04-20 18:21:23 -0700
Processing by CartItemsController#update as JS
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"8Qp2w/AHWmB4/95iPT2WH5RS6rFCYvNlM05cbbaZeX1YC3HkxpuafK/P9bfd50dRgFZHK/wZplDTCbhBWEHPoA==", "cart_item"=>{"product_id"=>"1", "quantity"=>"6"}, "commit"=>"+", "id"=>"1"}
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/cart_items_controller.rb:26
  [1m[36mCartItem Load (12.2ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."product_id" = $1 LIMIT $2[0m  [["product_id", 0], ["LIMIT", 1]]
  â†³ app/models/cart_item.rb:10
  Rendered layouts/_header.html.erb (1.2ms)
  Rendered layouts/_alert.html.erb (0.4ms)
Completed 200 OK in 274ms (Views: 200.9ms | ActiveRecord: 51.8ms)


Started GET "/cart_items/" for ::1 at 2023-04-20 18:21:23 -0700
Processing by CartItemsController#index as TEXT
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/cart_items_controller.rb:7
  Rendering cart_items/index.html.erb within layouts/application
  [1m[35m (7.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 3]]
  â†³ app/views/cart_items/index.html.erb:6
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 3]]
  â†³ app/views/cart_items/index.html.erb:20
  [1m[36mCartItem Load (1.2ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 3]]
  â†³ app/views/cart_items/index.html.erb:23
  [1m[36mProduct Load (29.6ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:23
No template found for CartItemsController#update, rendering head :no_content
Completed 204 No Content in 192ms (ActiveRecord: 13.5ms)


  [1m[36mActiveStorage::Attachment Exists (6.2ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:25
  Rendered cart_items/_quantity.html.erb (1.2ms)
  Rendered cart_items/index.html.erb within layouts/application (93.9ms)
  Rendered layouts/_header.html.erb (1.2ms)
  Rendered layouts/_alert.html.erb (0.6ms)
Completed 200 OK in 180ms (Views: 123.3ms | ActiveRecord: 45.2ms)


Started PUT "/cart_items/1" for ::1 at 2023-04-20 18:21:24 -0700
Started GET "/cart_items/" for ::1 at 2023-04-20 18:21:24 -0700
Processing by CartItemsController#update as JS
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"8Qp2w/AHWmB4/95iPT2WH5RS6rFCYvNlM05cbbaZeX1YC3HkxpuafK/P9bfd50dRgFZHK/wZplDTCbhBWEHPoA==", "cart_item"=>{"product_id"=>"1", "quantity"=>"6"}, "commit"=>"+", "id"=>"1"}
Processing by CartItemsController#index as TEXT
  [1m[36mUser Load (5.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/cart_items_controller.rb:26
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/cart_items_controller.rb:7
  [1m[36mCartItem Load (9.9ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."product_id" = $1 LIMIT $2[0m  [["product_id", 0], ["LIMIT", 1]]
  â†³ app/models/cart_item.rb:10
  Rendering cart_items/index.html.erb within layouts/application
  [1m[35m (10.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 3]]
  â†³ app/views/cart_items/index.html.erb:6
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 3]]
  â†³ app/views/cart_items/index.html.erb:20
  [1m[36mCartItem Load (0.4ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 3]]
  â†³ app/views/cart_items/index.html.erb:23
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:23
  [1m[36mActiveStorage::Attachment Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:25
  Rendered cart_items/_quantity.html.erb (1.2ms)
  Rendered cart_items/index.html.erb within layouts/application (30.2ms)
No template found for CartItemsController#update, rendering head :no_content
Completed 204 No Content in 197ms (ActiveRecord: 15.5ms)


  Rendered layouts/_header.html.erb (1.1ms)
  Rendered layouts/_alert.html.erb (0.4ms)
Completed 200 OK in 233ms (Views: 209.8ms | ActiveRecord: 12.7ms)


Started PUT "/cart_items/1" for ::1 at 2023-04-20 18:21:24 -0700
Started GET "/cart_items/" for ::1 at 2023-04-20 18:21:24 -0700
Processing by CartItemsController#index as TEXT
Processing by CartItemsController#update as JS
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"8Qp2w/AHWmB4/95iPT2WH5RS6rFCYvNlM05cbbaZeX1YC3HkxpuafK/P9bfd50dRgFZHK/wZplDTCbhBWEHPoA==", "cart_item"=>{"product_id"=>"1", "quantity"=>"6"}, "commit"=>"+", "id"=>"1"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/cart_items_controller.rb:7
  [1m[36mUser Load (20.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/cart_items_controller.rb:26
  Rendering cart_items/index.html.erb within layouts/application
  [1m[36mCartItem Load (1.0ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."product_id" = $1 LIMIT $2[0m  [["product_id", 0], ["LIMIT", 1]]
  â†³ app/models/cart_item.rb:10
  [1m[35m (37.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 3]]
  â†³ app/views/cart_items/index.html.erb:6
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 3]]
  â†³ app/views/cart_items/index.html.erb:20
  [1m[36mCartItem Load (4.9ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 3]]
  â†³ app/views/cart_items/index.html.erb:23
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:23
  [1m[36mActiveStorage::Attachment Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:25
  Rendered cart_items/_quantity.html.erb (1.4ms)
  Rendered cart_items/index.html.erb within layouts/application (59.5ms)
No template found for CartItemsController#update, rendering head :no_content
Completed 204 No Content in 190ms (ActiveRecord: 21.9ms)


  Rendered layouts/_header.html.erb (0.9ms)
  Rendered layouts/_alert.html.erb (0.3ms)
Completed 200 OK in 218ms (Views: 161.9ms | ActiveRecord: 44.7ms)


Started POST "/checkouts" for ::1 at 2023-04-20 18:21:26 -0700
Processing by CheckoutsController#create as JS
  Parameters: {"authenticity_token"=>"8Qp2w/AHWmB4/95iPT2WH5RS6rFCYvNlM05cbbaZeX1YC3HkxpuafK/P9bfd50dRgFZHK/wZplDTCbhBWEHPoA=="}
  [1m[36mUser Load (5.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/checkouts_controller.rb:7
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/services/order_service.rb:9
  [1m[36mCartItem Load (0.6ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 3]]
  â†³ app/services/order_service.rb:40
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1[0m  [["id", 1]]
  â†³ app/services/order_service.rb:40
  [1m[36mOrder Create (5.2ms)[0m  [1m[32mINSERT INTO "orders" ("status", "amount_paid", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["status", 1], ["amount_paid", "100.0"], ["user_id", 3], ["created_at", "2023-04-21 01:21:26.205316"], ["updated_at", "2023-04-21 01:21:26.205316"]]
  â†³ app/services/order_service.rb:10
  [1m[36mOrderItem Create Many (3.1ms)[0m  [1m[32mINSERT INTO "order_items" ("product_id","price","quantity","order_id","created_at","updated_at") VALUES (1,100,5,20,'2023-04-21 01:21:26.249855','2023-04-21 01:21:26.249855') RETURNING "id"[0m
  â†³ app/services/order_service.rb:13
  [1m[36mProduct Create Many (11.6ms)[0m  [1m[32mINSERT INTO "products" ("id","name","description","price","quantity","user_id","created_at","updated_at") VALUES (1,'123','123123123123',1.0,5,1,'2023-04-20 22:08:46.139965','2023-04-21 01:21:26.279633') ON CONFLICT (id) DO UPDATE SET "quantity"=EXCLUDED."quantity","updated_at"=EXCLUDED."updated_at"  RETURNING "id"[0m
  â†³ app/services/order_service.rb:62
  [1m[36mCartItem Destroy (1.2ms)[0m  [1m[31mDELETE FROM "cart_items" WHERE "cart_items"."id" = $1[0m  [["id", 5]]
  â†³ app/services/order_service.rb:17
  [1m[35m (0.8ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/services/order_service.rb:9
Redirected to http://localhost:3000/products
Completed 200 OK in 209ms (ActiveRecord: 142.6ms)


Started GET "/products" for ::1 at 2023-04-20 18:21:26 -0700
Processing by ProductsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:7
  Rendering products/index.html.erb within layouts/application
  [1m[35m (2.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" WHERE (user_id != 3)[0m
  â†³ app/views/products/index.html.erb:5
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (user_id != 3)[0m
  â†³ app/views/products/index.html.erb:6
  [1m[36mActiveStorage::Attachment Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/index.html.erb:10
  Rendered products/index.html.erb within layouts/application (5.7ms)
  Rendered layouts/_header.html.erb (0.9ms)
  Rendered layouts/_alert.html.erb (0.2ms)
Completed 200 OK in 44ms (Views: 38.0ms | ActiveRecord: 3.6ms)


  [1m[36mProduct Load (2.7ms)[0m  [1m[34mSELECT  "products".* FROM "products" ORDER BY "products"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mProduct Update (0.6ms)[0m  [1m[33mUPDATE "products" SET "quantity" = $1, "updated_at" = $2 WHERE "products"."id" = $3[0m  [["quantity", 10], ["updated_at", "2023-04-21 01:21:32.399053"], ["id", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Started GET "/products" for ::1 at 2023-04-20 18:21:41 -0700
Processing by ProductsController#index as HTML
  [1m[36mUser Load (15.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:7
  Rendering products/index.html.erb within layouts/application
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" WHERE (user_id != 3)[0m
  â†³ app/views/products/index.html.erb:5
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (user_id != 3)[0m
  â†³ app/views/products/index.html.erb:6
  [1m[36mActiveStorage::Attachment Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/index.html.erb:10
  Rendered products/index.html.erb within layouts/application (4.3ms)
  Rendered layouts/_header.html.erb (0.9ms)
  Rendered layouts/_alert.html.erb (0.3ms)
Completed 200 OK in 59ms (Views: 38.5ms | ActiveRecord: 17.8ms)


Started GET "/products/1" for ::1 at 2023-04-20 18:21:44 -0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:68
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:69
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/policies/product_policy.rb:23
  Rendering products/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:4
  Rendered cart_items/_form.html.erb (1.0ms)
  Rendered products/show.html.erb within layouts/application (4.8ms)
  Rendered layouts/_header.html.erb (0.9ms)
  Rendered layouts/_alert.html.erb (0.3ms)
Completed 200 OK in 63ms (Views: 50.1ms | ActiveRecord: 2.7ms)


Started POST "/cart_items" for ::1 at 2023-04-20 18:21:48 -0700
Processing by CartItemsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"hz8IYdZTeHPirLvhFvIWW8EFdKmiD9LxCm1KPn5rXgsM6Rn1T3UGxys85AONr6hn+4fO6NvNTl9YOz7LCnKwfw==", "cart_item"=>{"product_id"=>"1", "quantity"=>"3"}, "commit"=>"Add to cart"}
  [1m[36mUser Load (3.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/cart_items_controller.rb:21
  [1m[36mCartItem Load (0.6ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."product_id" = $1 AND "cart_items"."user_id" = $2 LIMIT $3[0m  [["product_id", 1], ["user_id", 3], ["LIMIT", 1]]
  â†³ app/helpers/cart_item_helper.rb:5
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/helpers/cart_item_helper.rb:5
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/helpers/cart_item_helper.rb:5
  [1m[36mProduct Load (2.9ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/helpers/cart_item_helper.rb:5
  [1m[36mCartItem Create (5.7ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 3], ["product_id", 1], ["created_at", "2023-04-21 01:21:48.406897"], ["updated_at", "2023-04-21 01:21:48.406897"]]
  â†³ app/helpers/cart_item_helper.rb:5
  [1m[35m (8.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/helpers/cart_item_helper.rb:5
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/helpers/cart_item_helper.rb:11
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/helpers/cart_item_helper.rb:13
  [1m[36mCartItem Update (3.3ms)[0m  [1m[33mUPDATE "cart_items" SET "quantity" = $1, "updated_at" = $2 WHERE "cart_items"."id" = $3[0m  [["quantity", 3], ["updated_at", "2023-04-21 01:21:48.427623"], ["id", 6]]
  â†³ app/helpers/cart_item_helper.rb:13
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/helpers/cart_item_helper.rb:13
Redirected to http://localhost:3000/cart_items
Completed 302 Found in 43ms (ActiveRecord: 26.5ms)


Started GET "/cart_items" for ::1 at 2023-04-20 18:21:48 -0700
Processing by CartItemsController#index as HTML
  [1m[36mUser Load (2.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/cart_items_controller.rb:7
  Rendering cart_items/index.html.erb within layouts/application
  [1m[35m (1.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 3]]
  â†³ app/views/cart_items/index.html.erb:6
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 3]]
  â†³ app/views/cart_items/index.html.erb:20
  [1m[36mCartItem Load (0.3ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 3]]
  â†³ app/views/cart_items/index.html.erb:23
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:23
  [1m[36mActiveStorage::Attachment Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:25
  Rendered cart_items/_quantity.html.erb (1.8ms)
  Rendered cart_items/index.html.erb within layouts/application (10.4ms)
  Rendered layouts/_header.html.erb (0.9ms)
  Rendered layouts/_alert.html.erb (0.2ms)
Completed 200 OK in 57ms (Views: 46.0ms | ActiveRecord: 4.6ms)


Started POST "/checkouts" for ::1 at 2023-04-20 18:21:49 -0700
Processing by CheckoutsController#create as JS
  Parameters: {"authenticity_token"=>"duvFY6E9jgzZSnWRG7zeZneY1gdJ2dEcx1pxHoz+ZVTf6sJEl6FOEA56XkT7Zg8oY5x7nfeihCknHZUyYibTiQ=="}
  [1m[36mUser Load (16.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/checkouts_controller.rb:7
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/services/order_service.rb:9
  [1m[36mCartItem Load (2.3ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 3]]
  â†³ app/services/order_service.rb:40
  [1m[36mProduct Load (2.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1[0m  [["id", 1]]
  â†³ app/services/order_service.rb:40
  [1m[36mOrder Create (1.5ms)[0m  [1m[32mINSERT INTO "orders" ("status", "amount_paid", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["status", 1], ["amount_paid", "100.0"], ["user_id", 3], ["created_at", "2023-04-21 01:21:49.982016"], ["updated_at", "2023-04-21 01:21:49.982016"]]
  â†³ app/services/order_service.rb:10
  [1m[36mOrderItem Create Many (1.1ms)[0m  [1m[32mINSERT INTO "order_items" ("product_id","price","quantity","order_id","created_at","updated_at") VALUES (1,100,3,21,'2023-04-21 01:21:49.984243','2023-04-21 01:21:49.984243') RETURNING "id"[0m
  â†³ app/services/order_service.rb:13
  [1m[36mProduct Create Many (7.0ms)[0m  [1m[32mINSERT INTO "products" ("id","name","description","price","quantity","user_id","created_at","updated_at") VALUES (1,'123','123123123123',1.0,7,1,'2023-04-20 22:08:46.139965','2023-04-21 01:21:49.985922') ON CONFLICT (id) DO UPDATE SET "quantity"=EXCLUDED."quantity","updated_at"=EXCLUDED."updated_at"  RETURNING "id"[0m
  â†³ app/services/order_service.rb:62
  [1m[36mCartItem Destroy (6.8ms)[0m  [1m[31mDELETE FROM "cart_items" WHERE "cart_items"."id" = $1[0m  [["id", 6]]
  â†³ app/services/order_service.rb:17
  [1m[35m (0.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/services/order_service.rb:9
Redirected to http://localhost:3000/products
Completed 200 OK in 62ms (ActiveRecord: 38.4ms)


Started GET "/products" for ::1 at 2023-04-20 18:21:50 -0700
Processing by ProductsController#index as HTML
  [1m[36mUser Load (4.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:7
  Rendering products/index.html.erb within layouts/application
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" WHERE (user_id != 3)[0m
  â†³ app/views/products/index.html.erb:5
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (user_id != 3)[0m
  â†³ app/views/products/index.html.erb:6
  [1m[36mActiveStorage::Attachment Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/index.html.erb:10
  Rendered products/index.html.erb within layouts/application (4.5ms)
  Rendered layouts/_header.html.erb (0.9ms)
  Rendered layouts/_alert.html.erb (0.2ms)
Completed 200 OK in 58ms (Views: 42.9ms | ActiveRecord: 6.0ms)


  [1m[36mProduct Load (8.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" ORDER BY "products"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
Started GET "/" for ::1 at 2023-04-20 18:22:03 -0700
Processing by ProductsController#index as HTML
  [1m[36mUser Load (7.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:7
  Rendering products/index.html.erb within layouts/application
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" WHERE (user_id != 3)[0m
  â†³ app/views/products/index.html.erb:5
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (user_id != 3)[0m
  â†³ app/views/products/index.html.erb:6
  [1m[36mActiveStorage::Attachment Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/index.html.erb:10
  Rendered products/index.html.erb within layouts/application (4.2ms)
  Rendered layouts/_header.html.erb (0.9ms)
  Rendered layouts/_alert.html.erb (0.2ms)
Completed 200 OK in 48ms (Views: 35.5ms | ActiveRecord: 9.4ms)


Started DELETE "/users/sign_out" for ::1 at 2023-04-20 18:22:08 -0700
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"PYvEmjvIIknBPhgd0nLucgO+5hQELWY/Y8zT4Yq4npSUisO9DVTiVRYOM8gyqD88F7pLjrpWMwqDizfNZGAoSQ=="}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ /Users/dev/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.6/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/dev/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.6/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/dev/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.6/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/
Completed 302 Found in 9ms (ActiveRecord: 1.6ms)


Started GET "/" for ::1 at 2023-04-20 18:22:08 -0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[35m (4.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  â†³ app/views/products/index.html.erb:5
  [1m[36mProduct Load (1.5ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/views/products/index.html.erb:6
  [1m[36mActiveStorage::Attachment Exists (1.3ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/index.html.erb:10
  Rendered products/index.html.erb within layouts/application (9.5ms)
  Rendered layouts/_header.html.erb (0.9ms)
  Rendered layouts/_alert.html.erb (0.3ms)
Completed 200 OK in 64ms (Views: 48.4ms | ActiveRecord: 7.1ms)


Started GET "/users/sign_in" for ::1 at 2023-04-20 18:22:10 -0700
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (0.7ms)
  Rendered devise/sessions/new.html.erb within layouts/application (3.2ms)
  Rendered layouts/_header.html.erb (0.9ms)
  Rendered layouts/_alert.html.erb (0.2ms)
Completed 200 OK in 56ms (Views: 53.7ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for ::1 at 2023-04-20 18:22:15 -0700
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"Ncvw0I0KssBCCY9v49ZvRof5QKfjC/dZIsqDUpggRyY3aiztj5E0ABwnX63fSLGugJkh9WiNLBjyfU5+J9H0CA==", "user"=>{"email"=>"salman@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "salman@gmail.com"], ["LIMIT", 1]]
  â†³ /Users/dev/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.6/lib/active_record/log_subscriber.rb:98
Completed 401 Unauthorized in 35ms (ActiveRecord: 0.7ms)


Processing by Devise::SessionsController#new as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"Ncvw0I0KssBCCY9v49ZvRof5QKfjC/dZIsqDUpggRyY3aiztj5E0ABwnX63fSLGugJkh9WiNLBjyfU5+J9H0CA==", "user"=>{"email"=>"salman@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (0.6ms)
  Rendered devise/sessions/new.html.erb within layouts/application (2.9ms)
  Rendered layouts/_header.html.erb (0.9ms)
  Rendered layouts/_alert.html.erb (0.2ms)
Completed 200 OK in 306ms (Views: 40.4ms | ActiveRecord: 0.0ms)


  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
Started POST "/users/sign_in" for ::1 at 2023-04-20 18:22:28 -0700
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"MJe+EbLue2RZgf6TcKjrhjlMxYaEjuEJ38UKqPQwFxKZlrk2hHK7eI6x1UaQcjrILUhoHDr1tDw/gu6EGuihzw==", "user"=>{"email"=>"hello@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (2.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "hello@gmail.com"], ["LIMIT", 1]]
  â†³ /Users/dev/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.6/lib/active_record/log_subscriber.rb:98
  [1m[35m (8.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/concerns/load_cart.rb:37
Redirected to http://localhost:3000/
Completed 302 Found in 297ms (ActiveRecord: 10.5ms)


Started GET "/" for ::1 at 2023-04-20 18:22:28 -0700
Processing by ProductsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:7
  Rendering products/index.html.erb within layouts/application
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" WHERE (user_id != 1)[0m
  â†³ app/views/products/index.html.erb:5
  Rendered products/index.html.erb within layouts/application (1.3ms)
  Rendered layouts/_header.html.erb (0.9ms)
  Rendered layouts/_alert.html.erb (0.2ms)
Completed 200 OK in 37ms (Views: 34.1ms | ActiveRecord: 0.9ms)


Started GET "/products/mine" for ::1 at 2023-04-20 18:22:30 -0700
Processing by ProductsController#mine as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:57
  Rendering products/mine.html.erb within layouts/application
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (user_id = 1)[0m
  â†³ app/views/products/mine.html.erb:9
  [1m[36mActiveStorage::Attachment Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/mine.html.erb:12
  Rendered products/mine.html.erb within layouts/application (7.4ms)
  Rendered layouts/_header.html.erb (0.8ms)
  Rendered layouts/_alert.html.erb (0.2ms)
Completed 200 OK in 70ms (Views: 60.8ms | ActiveRecord: 2.3ms)


Started GET "/products/new" for ::1 at 2023-04-20 18:22:38 -0700
Processing by ProductsController#new as HTML
  [1m[36mUser Load (2.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:12
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (32.7ms)
  Rendered products/new.html.erb within layouts/application (34.3ms)
  Rendered layouts/_header.html.erb (0.9ms)
  Rendered layouts/_alert.html.erb (0.2ms)
Completed 200 OK in 82ms (Views: 46.2ms | ActiveRecord: 30.9ms)


Started GET "/products/new" for ::1 at 2023-04-20 18:22:43 -0700
Processing by ProductsController#new as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:12
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (4.4ms)
  Rendered products/new.html.erb within layouts/application (10.0ms)
  Rendered layouts/_header.html.erb (0.9ms)
  Rendered layouts/_alert.html.erb (0.3ms)
Completed 200 OK in 61ms (Views: 54.9ms | ActiveRecord: 0.5ms)


Started POST "/products" for ::1 at 2023-04-20 18:22:55 -0700
Processing by ProductsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"6CArZRkp+F3bmMsRLokpuYvH5I3iOD0YPPMwesUyTj6oKunjgk4J7zfRLuypww1uLDS9gUgSJs6CLgVCgBosiQ==", "name"=>"gekki", "description"=>"hello i am gekki", "price"=>"123", "quantity"=>"123", "commit"=>"Create"}
Completed 400 Bad Request in 2ms (ActiveRecord: 0.0ms)


  
ActionController::ParameterMissing (param is missing or the value is empty: product):
  
app/controllers/products_controller.rb:64:in `product_params'
app/controllers/products_controller.rb:16:in `create'
Started POST "/products" for ::1 at 2023-04-20 18:23:01 -0700
Processing by ProductsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"Jk9Az7kDbsOhobnv2hEZJy58U1EC3NLSnHhki8ZOVHaqsGNXMnxOKsiRFELV+IRaBDkRHgNSp2XW4n5s1QivYA==", "name"=>"gekki", "description"=>"hello i am gekki", "price"=>"123", "quantity"=>"123", "commit"=>"Create"}
Completed 400 Bad Request in 1ms (ActiveRecord: 0.0ms)


  
ActionController::ParameterMissing (param is missing or the value is empty: product):
  
app/controllers/products_controller.rb:64:in `product_params'
app/controllers/products_controller.rb:16:in `create'
Started POST "/products" for ::1 at 2023-04-20 18:23:26 -0700
DEPRECATION WARNING: 'include Pundit' is deprecated. Please use 'include Pundit::Authorization' instead.
 (called from include at /Users/dev/Documents/repos/ecommerceApp-main/app/controllers/concerns/authorizable.rb:7)
Processing by ProductsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"Jk9Az7kDbsOhobnv2hEZJy58U1EC3NLSnHhki8ZOVHaqsGNXMnxOKsiRFELV+IRaBDkRHgNSp2XW4n5s1QivYA==", "name"=>"gekki", "description"=>"hello i am gekki", "price"=>"123", "quantity"=>"123", "commit"=>"Create"}
Unpermitted parameters: :utf8, :authenticity_token, :commit
Completed 500 Internal Server Error in 32593ms (ActiveRecord: 0.0ms)


  
SystemExit (exit):
  
(byebug):1:in `exit'
(byebug):1:in `product_params'
app/controllers/products_controller.rb:65:in `product_params'
app/controllers/products_controller.rb:16:in `create'
Started POST "/products" for ::1 at 2023-04-20 18:24:01 -0700
DEPRECATION WARNING: 'include Pundit' is deprecated. Please use 'include Pundit::Authorization' instead.
 (called from include at /Users/dev/Documents/repos/ecommerceApp-main/app/controllers/concerns/authorizable.rb:7)
Processing by ProductsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"Jk9Az7kDbsOhobnv2hEZJy58U1EC3NLSnHhki8ZOVHaqsGNXMnxOKsiRFELV+IRaBDkRHgNSp2XW4n5s1QivYA==", "name"=>"gekki", "description"=>"hello i am gekki", "price"=>"123", "quantity"=>"123", "commit"=>"Create"}
Unpermitted parameters: :utf8, :authenticity_token, :commit
  [1m[36mUser Load (9.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:17
  [1m[35m (0.8ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/products_controller.rb:19
  [1m[36mProduct Create (3.8ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "price", "quantity", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "gekki"], ["description", "hello i am gekki"], ["price", "123.0"], ["quantity", 123], ["user_id", 1], ["created_at", "2023-04-21 01:24:02.877673"], ["updated_at", "2023-04-21 01:24:02.877673"]]
  â†³ app/controllers/products_controller.rb:19
  [1m[35m (6.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/products_controller.rb:19
Redirected to http://localhost:3000/products/mine
Completed 302 Found in 394ms (ActiveRecord: 119.2ms)


Started GET "/products/mine" for ::1 at 2023-04-20 18:24:02 -0700
Processing by ProductsController#mine as HTML
  [1m[36mUser Load (2.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:57
  Rendering products/mine.html.erb within layouts/application
  [1m[36mProduct Load (3.9ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (user_id = 1)[0m
  â†³ app/views/products/mine.html.erb:9
  [1m[36mActiveStorage::Attachment Exists (1.5ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/mine.html.erb:12
  [1m[36mActiveStorage::Attachment Exists (8.2ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/mine.html.erb:12
  Rendered products/mine.html.erb within layouts/application (134.5ms)
  Rendered layouts/_header.html.erb (15.7ms)
  Rendered layouts/_alert.html.erb (2.6ms)
Completed 200 OK in 1118ms (Views: 1050.8ms | ActiveRecord: 33.2ms)


Started GET "/products/2/edit" for ::1 at 2023-04-20 18:24:09 -0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mProduct Load (5.8ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:68
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:69
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/policies/product_policy.rb:31
  Rendering products/edit.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Exists (7.7ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/_form.html.erb:56
  [1m[36mCACHE ActiveStorage::Attachment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/_form.html.erb:57
  Rendered products/_form.html.erb (56.6ms)
  Rendered products/edit.html.erb within layouts/application (66.3ms)
  Rendered layouts/_header.html.erb (16.6ms)
  Rendered layouts/_alert.html.erb (2.5ms)
Completed 200 OK in 1169ms (Views: 1088.2ms | ActiveRecord: 16.1ms)


Started GET "/products/2/edit" for ::1 at 2023-04-20 18:24:48 -0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mProduct Load (8.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:68
  [1m[36mUser Load (3.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:69
  [1m[36mUser Load (3.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/policies/product_policy.rb:31
  Rendering products/edit.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Exists (2.7ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/_form.html.erb:56
  [1m[36mCACHE ActiveStorage::Attachment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/_form.html.erb:57
  Rendered products/_form.html.erb (62.3ms)
  Rendered products/edit.html.erb within layouts/application (67.4ms)
  Rendered layouts/_header.html.erb (19.5ms)
  Rendered layouts/_alert.html.erb (2.8ms)
Completed 200 OK in 1327ms (Views: 1251.9ms | ActiveRecord: 18.2ms)


Started GET "/products/mine" for ::1 at 2023-04-20 18:25:55 -0700
Processing by ProductsController#mine as HTML
  [1m[36mUser Load (10.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:57
  Rendering products/mine.html.erb within layouts/application
  [1m[36mProduct Load (6.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (user_id = 1)[0m
  â†³ app/views/products/mine.html.erb:9
  [1m[36mActiveStorage::Attachment Exists (10.5ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/mine.html.erb:12
  [1m[36mActiveStorage::Attachment Exists (1.8ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/mine.html.erb:12
  Rendered products/mine.html.erb within layouts/application (103.7ms)
  Rendered layouts/_header.html.erb (13.6ms)
  Rendered layouts/_alert.html.erb (7.1ms)
Completed 200 OK in 1373ms (Views: 1311.1ms | ActiveRecord: 29.1ms)


Started DELETE "/users/sign_out" for ::1 at 2023-04-20 18:25:58 -0700
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"tPXBYgOyMWOsepWbAONZzs1ue0EceNVQQv3WFSK0LN44CuL6iM0RisVKODYPCsSz5ys5Dh32oOcIZ8zyMfLXyA=="}
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ /Users/dev/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.6/lib/active_record/log_subscriber.rb:98
  [1m[35m (28.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/dev/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.6/lib/active_record/log_subscriber.rb:98
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/dev/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.6/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/
Completed 302 Found in 109ms (ActiveRecord: 31.1ms)


Started GET "/" for ::1 at 2023-04-20 18:25:59 -0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[35m (1.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  â†³ app/views/products/index.html.erb:5
  [1m[36mProduct Load (41.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/views/products/index.html.erb:6
  [1m[36mActiveStorage::Attachment Exists (10.9ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/index.html.erb:10
  [1m[36mActiveStorage::Attachment Exists (3.6ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/index.html.erb:10
  Rendered products/index.html.erb within layouts/application (144.4ms)
  Rendered layouts/_header.html.erb (18.3ms)
  Rendered layouts/_alert.html.erb (3.0ms)
Completed 200 OK in 1381ms (Views: 1312.2ms | ActiveRecord: 57.3ms)


Started GET "/users/sign_in" for ::1 at 2023-04-20 18:26:02 -0700
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (9.5ms)
  Rendered devise/sessions/new.html.erb within layouts/application (50.7ms)
  Rendered layouts/_header.html.erb (19.3ms)
  Rendered layouts/_alert.html.erb (2.7ms)
Completed 200 OK in 1305ms (Views: 1286.1ms | ActiveRecord: 0.0ms)


Started GET "/products/2" for ::1 at 2023-04-20 18:26:10 -0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mProduct Load (10.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:68
  Rendering products/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Exists (6.3ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:4
  Rendered cart_items/_form.html.erb (25.3ms)
  Rendered products/show.html.erb within layouts/application (66.7ms)
  Rendered layouts/_header.html.erb (14.1ms)
  Rendered layouts/_alert.html.erb (3.0ms)
Completed 200 OK in 1427ms (Views: 1273.0ms | ActiveRecord: 50.1ms)


  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT  "products".* FROM "products" ORDER BY "products"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
Started POST "/cart_items" for ::1 at 2023-04-20 18:26:29 -0700
Processing by CartItemsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"2Eks0YBs5h4Az8GcbHmwpqW1lgfPWFDYvqKrmE0+SdJLVTYIACqNYchE0ImXuxiez3e/VlRQryYBGzjX51yOOg==", "cart_item"=>{"product_id"=>"2", "quantity"=>"123"}, "commit"=>"Add to cart"}
  [1m[36mProduct Load (9.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/helpers/cart_item_helper.rb:22
Redirected to http://localhost:3000/cart_items
Completed 302 Found in 41ms (ActiveRecord: 9.2ms)


Started GET "/cart_items" for ::1 at 2023-04-20 18:26:29 -0700
Processing by CartItemsController#index as HTML
  [1m[36mProduct Load (1.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cart_items_controller.rb:13
  [1m[36mCACHE Product Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cart_items_controller.rb:14
  Rendering cart_items/index.html.erb within layouts/application
  [1m[36mCACHE Product Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:23
  [1m[36mActiveStorage::Attachment Exists (1.7ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:25
  Rendered cart_items/_quantity.html.erb (24.9ms)
  Rendered cart_items/index.html.erb within layouts/application (105.9ms)
  Rendered layouts/_header.html.erb (17.8ms)
  Rendered layouts/_alert.html.erb (3.0ms)
Completed 200 OK in 1352ms (Views: 1314.1ms | ActiveRecord: 3.5ms)


Started GET "/cart_items" for ::1 at 2023-04-20 18:26:56 -0700
  [1m[35m (2.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ /Users/dev/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.6/lib/active_record/log_subscriber.rb:98
DEPRECATION WARNING: 'include Pundit' is deprecated. Please use 'include Pundit::Authorization' instead.
 (called from include at /Users/dev/Documents/repos/ecommerceApp-main/app/controllers/concerns/authorizable.rb:7)
Processing by CartItemsController#index as HTML
  [1m[36mProduct Load (1.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cart_items_controller.rb:13
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cart_items_controller.rb:14
  Rendering cart_items/index.html.erb within layouts/application
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:23
  [1m[36mActiveStorage::Attachment Exists (1.8ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:25
  Rendered cart_items/_quantity.html.erb (4.2ms)
  Rendered cart_items/index.html.erb within layouts/application (198.4ms)
Completed 500 Internal Server Error in 371ms (ActiveRecord: 50.3ms)


  
ActionView::Template::Error (File to import not found or unreadable: bootstrap.
Load paths:
  /Users/dev/Documents/repos/ecommerceApp-main/app/assets/config
  /Users/dev/Documents/repos/ecommerceApp-main/app/assets/images
  /Users/dev/Documents/repos/ecommerceApp-main/app/assets/javascripts
  /Users/dev/Documents/repos/ecommerceApp-main/app/assets/stylesheets
  /Users/dev/Documents/repos/ecommerceApp-main/vendor/assets/html
  /Users/dev/Documents/repos/ecommerceApp-main/vendor/assets/javascripts
  /Users/dev/.rvm/gems/ruby-2.5.1/gems/jquery-rails-4.4.0/vendor/assets/javascripts
  /Users/dev/.rvm/gems/ruby-2.5.1/gems/cloudinary-1.21.0/vendor/assets/html
  /Users/dev/.rvm/gems/ruby-2.5.1/gems/cloudinary-1.21.0/vendor/assets/javascripts
  /Users/dev/.rvm/gems/ruby-2.5.1/gems/coffee-rails-4.2.2/lib/assets/javascripts
  /Users/dev/.rvm/gems/ruby-2.5.1/gems/actioncable-5.2.6/lib/assets/compiled
  /Users/dev/.rvm/gems/ruby-2.5.1/gems/activestorage-5.2.6/app/assets/javascripts
  /Users/dev/.rvm/gems/ruby-2.5.1/gems/actionview-5.2.6/lib/assets/compiled
  /Users/dev/.rvm/gems/ruby-2.5.1/gems/turbolinks-source-5.2.0/lib/assets/javascripts
  /Users/dev/Documents/repos/ecommerceApp-main/node_modules):
    4:     <title>EcommerceApp</title>
    5:     <%= csrf_meta_tags %>
    6:     <%= csp_meta_tag %>
    7:     <%= stylesheet_link_tag    'application', media: 'all', 'data-turbolinks-track': 'reload' %>
    8:     <%= javascript_include_tag 'application', 'data-turbolinks-track': 'reload' %>
    9:     <%= cloudinary_js_config %>
   10:     <script src="https://cdnjs.cloudflare.com/ajax/libs/easy-autocomplete/1.3.5/jquery.easy-autocomplete.min.js"></script>
  
app/assets/stylesheets/application.css.scss:2
app/views/layouts/application.html.erb:7:in `_app_views_layouts_application_html_erb___1333572489166389294_70217179823440'
Started GET "/cart_items" for ::1 at 2023-04-20 18:27:10 -0700
Processing by CartItemsController#index as HTML
  [1m[36mProduct Load (6.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cart_items_controller.rb:13
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cart_items_controller.rb:14
  Rendering cart_items/index.html.erb within layouts/application
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:23
  [1m[36mActiveStorage::Attachment Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:25
  Rendered cart_items/_quantity.html.erb (1.0ms)
  Rendered cart_items/index.html.erb within layouts/application (5.5ms)
Completed 500 Internal Server Error in 68ms (ActiveRecord: 7.1ms)


  
ActionView::Template::Error (couldn't find file 'popper' with type 'application/javascript'
Checked in these paths: 
  /Users/dev/Documents/repos/ecommerceApp-main/app/assets/config
  /Users/dev/Documents/repos/ecommerceApp-main/app/assets/images
  /Users/dev/Documents/repos/ecommerceApp-main/app/assets/javascripts
  /Users/dev/Documents/repos/ecommerceApp-main/app/assets/stylesheets
  /Users/dev/Documents/repos/ecommerceApp-main/vendor/assets/html
  /Users/dev/Documents/repos/ecommerceApp-main/vendor/assets/javascripts
  /Users/dev/.rvm/gems/ruby-2.5.1/gems/jquery-rails-4.4.0/vendor/assets/javascripts
  /Users/dev/.rvm/gems/ruby-2.5.1/gems/cloudinary-1.21.0/vendor/assets/html
  /Users/dev/.rvm/gems/ruby-2.5.1/gems/cloudinary-1.21.0/vendor/assets/javascripts
  /Users/dev/.rvm/gems/ruby-2.5.1/gems/coffee-rails-4.2.2/lib/assets/javascripts
  /Users/dev/.rvm/gems/ruby-2.5.1/gems/actioncable-5.2.6/lib/assets/compiled
  /Users/dev/.rvm/gems/ruby-2.5.1/gems/activestorage-5.2.6/app/assets/javascripts
  /Users/dev/.rvm/gems/ruby-2.5.1/gems/actionview-5.2.6/lib/assets/compiled
  /Users/dev/.rvm/gems/ruby-2.5.1/gems/turbolinks-source-5.2.0/lib/assets/javascripts
  /Users/dev/Documents/repos/ecommerceApp-main/node_modules):
    4:     <title>EcommerceApp</title>
    5:     <%= csrf_meta_tags %>
    6:     <%= csp_meta_tag %>
    7:     <%= stylesheet_link_tag    'application', media: 'all', 'data-turbolinks-track': 'reload' %>
    8:     <%= javascript_include_tag 'application', 'data-turbolinks-track': 'reload' %>
    9:     <%= cloudinary_js_config %>
   10:     <script src="https://cdnjs.cloudflare.com/ajax/libs/easy-autocomplete/1.3.5/jquery.easy-autocomplete.min.js"></script>
  
app/assets/javascripts/application.js:15
app/views/layouts/application.html.erb:7:in `_app_views_layouts_application_html_erb___1333572489166389294_70217195661620'
Started GET "/cart_items" for ::1 at 2023-04-20 18:27:27 -0700
Processing by CartItemsController#index as HTML
  [1m[36mProduct Load (1.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cart_items_controller.rb:13
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cart_items_controller.rb:14
  Rendering cart_items/index.html.erb within layouts/application
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:23
  [1m[36mActiveStorage::Attachment Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:25
  Rendered cart_items/_quantity.html.erb (1.1ms)
  Rendered cart_items/index.html.erb within layouts/application (6.1ms)
Completed 500 Internal Server Error in 22ms (ActiveRecord: 2.0ms)


  
ActionView::Template::Error (couldn't find file 'popper' with type 'application/javascript'
Checked in these paths: 
  /Users/dev/Documents/repos/ecommerceApp-main/app/assets/config
  /Users/dev/Documents/repos/ecommerceApp-main/app/assets/images
  /Users/dev/Documents/repos/ecommerceApp-main/app/assets/javascripts
  /Users/dev/Documents/repos/ecommerceApp-main/app/assets/stylesheets
  /Users/dev/Documents/repos/ecommerceApp-main/vendor/assets/html
  /Users/dev/Documents/repos/ecommerceApp-main/vendor/assets/javascripts
  /Users/dev/.rvm/gems/ruby-2.5.1/gems/jquery-rails-4.4.0/vendor/assets/javascripts
  /Users/dev/.rvm/gems/ruby-2.5.1/gems/cloudinary-1.21.0/vendor/assets/html
  /Users/dev/.rvm/gems/ruby-2.5.1/gems/cloudinary-1.21.0/vendor/assets/javascripts
  /Users/dev/.rvm/gems/ruby-2.5.1/gems/coffee-rails-4.2.2/lib/assets/javascripts
  /Users/dev/.rvm/gems/ruby-2.5.1/gems/actioncable-5.2.6/lib/assets/compiled
  /Users/dev/.rvm/gems/ruby-2.5.1/gems/activestorage-5.2.6/app/assets/javascripts
  /Users/dev/.rvm/gems/ruby-2.5.1/gems/actionview-5.2.6/lib/assets/compiled
  /Users/dev/.rvm/gems/ruby-2.5.1/gems/turbolinks-source-5.2.0/lib/assets/javascripts
  /Users/dev/Documents/repos/ecommerceApp-main/node_modules):
    4:     <title>EcommerceApp</title>
    5:     <%= csrf_meta_tags %>
    6:     <%= csp_meta_tag %>
    7:     <%= stylesheet_link_tag    'application', media: 'all', 'data-turbolinks-track': 'reload' %>
    8:     <%= javascript_include_tag 'application', 'data-turbolinks-track': 'reload' %>
    9:     <%= cloudinary_js_config %>
   10:     <script src="https://cdnjs.cloudflare.com/ajax/libs/easy-autocomplete/1.3.5/jquery.easy-autocomplete.min.js"></script>
  
app/assets/javascripts/application.js:15
app/views/layouts/application.html.erb:7:in `_app_views_layouts_application_html_erb___1333572489166389294_70217059202060'
Started GET "/cart_items" for ::1 at 2023-04-20 18:27:31 -0700
Processing by CartItemsController#index as HTML
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cart_items_controller.rb:13
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cart_items_controller.rb:14
  Rendering cart_items/index.html.erb within layouts/application
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:23
  [1m[36mActiveStorage::Attachment Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:25
  Rendered cart_items/_quantity.html.erb (1.3ms)
  Rendered cart_items/index.html.erb within layouts/application (12.1ms)
  Rendered layouts/_header.html.erb (1.1ms)
  Rendered layouts/_alert.html.erb (0.3ms)
Completed 200 OK in 248ms (Views: 243.4ms | ActiveRecord: 1.6ms)


Started GET "/cart_items" for ::1 at 2023-04-20 18:27:49 -0700
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ /Users/dev/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.6/lib/active_record/log_subscriber.rb:98
DEPRECATION WARNING: 'include Pundit' is deprecated. Please use 'include Pundit::Authorization' instead.
 (called from include at /Users/dev/Documents/repos/ecommerceApp-main/app/controllers/concerns/authorizable.rb:7)
Processing by CartItemsController#index as HTML
  [1m[36mProduct Load (15.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cart_items_controller.rb:13
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cart_items_controller.rb:14
  Rendering cart_items/index.html.erb within layouts/application
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:23
  [1m[36mActiveStorage::Attachment Exists (3.7ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:25
  Rendered cart_items/_quantity.html.erb (3.9ms)
  Rendered cart_items/index.html.erb within layouts/application (195.5ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_alert.html.erb (0.2ms)
Completed 200 OK in 461ms (Views: 358.6ms | ActiveRecord: 69.5ms)


Started GET "/products/search.json?keyword=g" for ::1 at 2023-04-20 18:27:53 -0700
Processing by ProductsController#search as JSON
  Parameters: {"keyword"=>"g"}
Completed 406 Not Acceptable in 44ms (ActiveRecord: 0.0ms)


  
ActionController::UnknownFormat (ProductsController#search is missing a template for this request format and variant.

request.formats: ["application/json"]
request.variant: []):
  
actionpack (5.2.6) lib/action_controller/metal/implicit_render.rb:42:in `default_render'
actionpack (5.2.6) lib/action_controller/metal/basic_implicit_render.rb:6:in `block in send_action'
actionpack (5.2.6) lib/action_controller/metal/basic_implicit_render.rb:6:in `tap'
actionpack (5.2.6) lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
actionpack (5.2.6) lib/abstract_controller/base.rb:194:in `process_action'
actionpack (5.2.6) lib/action_controller/metal/rendering.rb:30:in `process_action'
actionpack (5.2.6) lib/abstract_controller/callbacks.rb:42:in `block in process_action'
activesupport (5.2.6) lib/active_support/callbacks.rb:132:in `run_callbacks'
actionpack (5.2.6) lib/abstract_controller/callbacks.rb:41:in `process_action'
actionpack (5.2.6) lib/action_controller/metal/rescue.rb:22:in `process_action'
actionpack (5.2.6) lib/action_controller/metal/instrumentation.rb:34:in `block in process_action'
activesupport (5.2.6) lib/active_support/notifications.rb:168:in `block in instrument'
activesupport (5.2.6) lib/active_support/notifications/instrumenter.rb:23:in `instrument'
activesupport (5.2.6) lib/active_support/notifications.rb:168:in `instrument'
actionpack (5.2.6) lib/action_controller/metal/instrumentation.rb:32:in `process_action'
actionpack (5.2.6) lib/action_controller/metal/params_wrapper.rb:256:in `process_action'
activerecord (5.2.6) lib/active_record/railties/controller_runtime.rb:24:in `process_action'
actionpack (5.2.6) lib/abstract_controller/base.rb:134:in `process'
actionview (5.2.6) lib/action_view/rendering.rb:32:in `process'
actionpack (5.2.6) lib/action_controller/metal.rb:191:in `dispatch'
actionpack (5.2.6) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (5.2.6) lib/action_dispatch/routing/route_set.rb:52:in `dispatch'
actionpack (5.2.6) lib/action_dispatch/routing/route_set.rb:34:in `serve'
actionpack (5.2.6) lib/action_dispatch/journey/router.rb:52:in `block in serve'
actionpack (5.2.6) lib/action_dispatch/journey/router.rb:35:in `each'
actionpack (5.2.6) lib/action_dispatch/journey/router.rb:35:in `serve'
actionpack (5.2.6) lib/action_dispatch/routing/route_set.rb:840:in `call'
warden (1.2.9) lib/warden/manager.rb:36:in `block in call'
warden (1.2.9) lib/warden/manager.rb:34:in `catch'
warden (1.2.9) lib/warden/manager.rb:34:in `call'
rack (2.2.3) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.2.3) lib/rack/etag.rb:27:in `call'
rack (2.2.3) lib/rack/conditional_get.rb:27:in `call'
rack (2.2.3) lib/rack/head.rb:12:in `call'
actionpack (5.2.6) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.2.3) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.3) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (5.2.6) lib/action_dispatch/middleware/cookies.rb:670:in `call'
activerecord (5.2.6) lib/active_record/migration.rb:559:in `call'
actionpack (5.2.6) lib/action_dispatch/middleware/callbacks.rb:28:in `block in call'
activesupport (5.2.6) lib/active_support/callbacks.rb:98:in `run_callbacks'
actionpack (5.2.6) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (5.2.6) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.6) lib/action_dispatch/middleware/debug_exceptions.rb:61:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.6) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.6) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.6) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.6) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.6) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.6) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.6) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.6) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.6) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.6) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.6) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.6) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
railties (5.2.6) lib/rails/engine.rb:524:in `call'
puma (3.12.6) lib/puma/configuration.rb:227:in `call'
puma (3.12.6) lib/puma/server.rb:706:in `handle_request'
puma (3.12.6) lib/puma/server.rb:476:in `process_client'
puma (3.12.6) lib/puma/server.rb:334:in `block in run'
puma (3.12.6) lib/puma/thread_pool.rb:135:in `block in spawn_thread'
Started GET "/products/search.json?keyword=ge" for ::1 at 2023-04-20 18:27:53 -0700
Processing by ProductsController#search as JSON
  Parameters: {"keyword"=>"ge"}
Completed 406 Not Acceptable in 35ms (ActiveRecord: 0.0ms)


  
ActionController::UnknownFormat (ProductsController#search is missing a template for this request format and variant.

request.formats: ["application/json"]
request.variant: []):
  
actionpack (5.2.6) lib/action_controller/metal/implicit_render.rb:42:in `default_render'
actionpack (5.2.6) lib/action_controller/metal/basic_implicit_render.rb:6:in `block in send_action'
actionpack (5.2.6) lib/action_controller/metal/basic_implicit_render.rb:6:in `tap'
actionpack (5.2.6) lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
actionpack (5.2.6) lib/abstract_controller/base.rb:194:in `process_action'
actionpack (5.2.6) lib/action_controller/metal/rendering.rb:30:in `process_action'
actionpack (5.2.6) lib/abstract_controller/callbacks.rb:42:in `block in process_action'
activesupport (5.2.6) lib/active_support/callbacks.rb:132:in `run_callbacks'
actionpack (5.2.6) lib/abstract_controller/callbacks.rb:41:in `process_action'
actionpack (5.2.6) lib/action_controller/metal/rescue.rb:22:in `process_action'
actionpack (5.2.6) lib/action_controller/metal/instrumentation.rb:34:in `block in process_action'
activesupport (5.2.6) lib/active_support/notifications.rb:168:in `block in instrument'
activesupport (5.2.6) lib/active_support/notifications/instrumenter.rb:23:in `instrument'
activesupport (5.2.6) lib/active_support/notifications.rb:168:in `instrument'
actionpack (5.2.6) lib/action_controller/metal/instrumentation.rb:32:in `process_action'
actionpack (5.2.6) lib/action_controller/metal/params_wrapper.rb:256:in `process_action'
activerecord (5.2.6) lib/active_record/railties/controller_runtime.rb:24:in `process_action'
actionpack (5.2.6) lib/abstract_controller/base.rb:134:in `process'
actionview (5.2.6) lib/action_view/rendering.rb:32:in `process'
actionpack (5.2.6) lib/action_controller/metal.rb:191:in `dispatch'
actionpack (5.2.6) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (5.2.6) lib/action_dispatch/routing/route_set.rb:52:in `dispatch'
actionpack (5.2.6) lib/action_dispatch/routing/route_set.rb:34:in `serve'
actionpack (5.2.6) lib/action_dispatch/journey/router.rb:52:in `block in serve'
actionpack (5.2.6) lib/action_dispatch/journey/router.rb:35:in `each'
actionpack (5.2.6) lib/action_dispatch/journey/router.rb:35:in `serve'
actionpack (5.2.6) lib/action_dispatch/routing/route_set.rb:840:in `call'
warden (1.2.9) lib/warden/manager.rb:36:in `block in call'
warden (1.2.9) lib/warden/manager.rb:34:in `catch'
warden (1.2.9) lib/warden/manager.rb:34:in `call'
rack (2.2.3) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.2.3) lib/rack/etag.rb:27:in `call'
rack (2.2.3) lib/rack/conditional_get.rb:27:in `call'
rack (2.2.3) lib/rack/head.rb:12:in `call'
actionpack (5.2.6) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.2.3) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.3) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (5.2.6) lib/action_dispatch/middleware/cookies.rb:670:in `call'
activerecord (5.2.6) lib/active_record/migration.rb:559:in `call'
actionpack (5.2.6) lib/action_dispatch/middleware/callbacks.rb:28:in `block in call'
activesupport (5.2.6) lib/active_support/callbacks.rb:98:in `run_callbacks'
actionpack (5.2.6) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (5.2.6) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.6) lib/action_dispatch/middleware/debug_exceptions.rb:61:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.6) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.6) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.6) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.6) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.6) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.6) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.6) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.6) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.6) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.6) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.6) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.6) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
railties (5.2.6) lib/rails/engine.rb:524:in `call'
puma (3.12.6) lib/puma/configuration.rb:227:in `call'
puma (3.12.6) lib/puma/server.rb:706:in `handle_request'
puma (3.12.6) lib/puma/server.rb:476:in `process_client'
puma (3.12.6) lib/puma/server.rb:334:in `block in run'
puma (3.12.6) lib/puma/thread_pool.rb:135:in `block in spawn_thread'
Started GET "/products/search.json?keyword=gek" for ::1 at 2023-04-20 18:27:53 -0700
Processing by ProductsController#search as JSON
  Parameters: {"keyword"=>"gek"}
Completed 406 Not Acceptable in 34ms (ActiveRecord: 0.0ms)


  
ActionController::UnknownFormat (ProductsController#search is missing a template for this request format and variant.

request.formats: ["application/json"]
request.variant: []):
  
actionpack (5.2.6) lib/action_controller/metal/implicit_render.rb:42:in `default_render'
actionpack (5.2.6) lib/action_controller/metal/basic_implicit_render.rb:6:in `block in send_action'
actionpack (5.2.6) lib/action_controller/metal/basic_implicit_render.rb:6:in `tap'
actionpack (5.2.6) lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
actionpack (5.2.6) lib/abstract_controller/base.rb:194:in `process_action'
actionpack (5.2.6) lib/action_controller/metal/rendering.rb:30:in `process_action'
actionpack (5.2.6) lib/abstract_controller/callbacks.rb:42:in `block in process_action'
activesupport (5.2.6) lib/active_support/callbacks.rb:132:in `run_callbacks'
actionpack (5.2.6) lib/abstract_controller/callbacks.rb:41:in `process_action'
actionpack (5.2.6) lib/action_controller/metal/rescue.rb:22:in `process_action'
actionpack (5.2.6) lib/action_controller/metal/instrumentation.rb:34:in `block in process_action'
activesupport (5.2.6) lib/active_support/notifications.rb:168:in `block in instrument'
activesupport (5.2.6) lib/active_support/notifications/instrumenter.rb:23:in `instrument'
activesupport (5.2.6) lib/active_support/notifications.rb:168:in `instrument'
actionpack (5.2.6) lib/action_controller/metal/instrumentation.rb:32:in `process_action'
actionpack (5.2.6) lib/action_controller/metal/params_wrapper.rb:256:in `process_action'
activerecord (5.2.6) lib/active_record/railties/controller_runtime.rb:24:in `process_action'
actionpack (5.2.6) lib/abstract_controller/base.rb:134:in `process'
actionview (5.2.6) lib/action_view/rendering.rb:32:in `process'
actionpack (5.2.6) lib/action_controller/metal.rb:191:in `dispatch'
actionpack (5.2.6) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (5.2.6) lib/action_dispatch/routing/route_set.rb:52:in `dispatch'
actionpack (5.2.6) lib/action_dispatch/routing/route_set.rb:34:in `serve'
actionpack (5.2.6) lib/action_dispatch/journey/router.rb:52:in `block in serve'
actionpack (5.2.6) lib/action_dispatch/journey/router.rb:35:in `each'
actionpack (5.2.6) lib/action_dispatch/journey/router.rb:35:in `serve'
actionpack (5.2.6) lib/action_dispatch/routing/route_set.rb:840:in `call'
warden (1.2.9) lib/warden/manager.rb:36:in `block in call'
warden (1.2.9) lib/warden/manager.rb:34:in `catch'
warden (1.2.9) lib/warden/manager.rb:34:in `call'
rack (2.2.3) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.2.3) lib/rack/etag.rb:27:in `call'
rack (2.2.3) lib/rack/conditional_get.rb:27:in `call'
rack (2.2.3) lib/rack/head.rb:12:in `call'
actionpack (5.2.6) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.2.3) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.3) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (5.2.6) lib/action_dispatch/middleware/cookies.rb:670:in `call'
activerecord (5.2.6) lib/active_record/migration.rb:559:in `call'
actionpack (5.2.6) lib/action_dispatch/middleware/callbacks.rb:28:in `block in call'
activesupport (5.2.6) lib/active_support/callbacks.rb:98:in `run_callbacks'
actionpack (5.2.6) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (5.2.6) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.6) lib/action_dispatch/middleware/debug_exceptions.rb:61:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.6) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.6) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.6) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.6) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.6) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.6) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.6) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.6) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.6) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.6) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.6) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.6) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
railties (5.2.6) lib/rails/engine.rb:524:in `call'
puma (3.12.6) lib/puma/configuration.rb:227:in `call'
puma (3.12.6) lib/puma/server.rb:706:in `handle_request'
puma (3.12.6) lib/puma/server.rb:476:in `process_client'
puma (3.12.6) lib/puma/server.rb:334:in `block in run'
puma (3.12.6) lib/puma/thread_pool.rb:135:in `block in spawn_thread'
Started GET "/products/search.json?keyword=gekk" for ::1 at 2023-04-20 18:27:53 -0700
Processing by ProductsController#search as JSON
  Parameters: {"keyword"=>"gekk"}
Completed 406 Not Acceptable in 34ms (ActiveRecord: 0.0ms)


  
ActionController::UnknownFormat (ProductsController#search is missing a template for this request format and variant.

request.formats: ["application/json"]
request.variant: []):
  
actionpack (5.2.6) lib/action_controller/metal/implicit_render.rb:42:in `default_render'
actionpack (5.2.6) lib/action_controller/metal/basic_implicit_render.rb:6:in `block in send_action'
actionpack (5.2.6) lib/action_controller/metal/basic_implicit_render.rb:6:in `tap'
actionpack (5.2.6) lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
actionpack (5.2.6) lib/abstract_controller/base.rb:194:in `process_action'
actionpack (5.2.6) lib/action_controller/metal/rendering.rb:30:in `process_action'
actionpack (5.2.6) lib/abstract_controller/callbacks.rb:42:in `block in process_action'
activesupport (5.2.6) lib/active_support/callbacks.rb:132:in `run_callbacks'
actionpack (5.2.6) lib/abstract_controller/callbacks.rb:41:in `process_action'
actionpack (5.2.6) lib/action_controller/metal/rescue.rb:22:in `process_action'
actionpack (5.2.6) lib/action_controller/metal/instrumentation.rb:34:in `block in process_action'
activesupport (5.2.6) lib/active_support/notifications.rb:168:in `block in instrument'
activesupport (5.2.6) lib/active_support/notifications/instrumenter.rb:23:in `instrument'
activesupport (5.2.6) lib/active_support/notifications.rb:168:in `instrument'
actionpack (5.2.6) lib/action_controller/metal/instrumentation.rb:32:in `process_action'
actionpack (5.2.6) lib/action_controller/metal/params_wrapper.rb:256:in `process_action'
activerecord (5.2.6) lib/active_record/railties/controller_runtime.rb:24:in `process_action'
actionpack (5.2.6) lib/abstract_controller/base.rb:134:in `process'
actionview (5.2.6) lib/action_view/rendering.rb:32:in `process'
actionpack (5.2.6) lib/action_controller/metal.rb:191:in `dispatch'
actionpack (5.2.6) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (5.2.6) lib/action_dispatch/routing/route_set.rb:52:in `dispatch'
actionpack (5.2.6) lib/action_dispatch/routing/route_set.rb:34:in `serve'
actionpack (5.2.6) lib/action_dispatch/journey/router.rb:52:in `block in serve'
actionpack (5.2.6) lib/action_dispatch/journey/router.rb:35:in `each'
actionpack (5.2.6) lib/action_dispatch/journey/router.rb:35:in `serve'
actionpack (5.2.6) lib/action_dispatch/routing/route_set.rb:840:in `call'
warden (1.2.9) lib/warden/manager.rb:36:in `block in call'
warden (1.2.9) lib/warden/manager.rb:34:in `catch'
warden (1.2.9) lib/warden/manager.rb:34:in `call'
rack (2.2.3) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.2.3) lib/rack/etag.rb:27:in `call'
rack (2.2.3) lib/rack/conditional_get.rb:27:in `call'
rack (2.2.3) lib/rack/head.rb:12:in `call'
actionpack (5.2.6) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.2.3) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.3) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (5.2.6) lib/action_dispatch/middleware/cookies.rb:670:in `call'
activerecord (5.2.6) lib/active_record/migration.rb:559:in `call'
actionpack (5.2.6) lib/action_dispatch/middleware/callbacks.rb:28:in `block in call'
activesupport (5.2.6) lib/active_support/callbacks.rb:98:in `run_callbacks'
actionpack (5.2.6) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (5.2.6) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.6) lib/action_dispatch/middleware/debug_exceptions.rb:61:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.6) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.6) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.6) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.6) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.6) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.6) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.6) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.6) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.6) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.6) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.6) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.6) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
railties (5.2.6) lib/rails/engine.rb:524:in `call'
puma (3.12.6) lib/puma/configuration.rb:227:in `call'
puma (3.12.6) lib/puma/server.rb:706:in `handle_request'
puma (3.12.6) lib/puma/server.rb:476:in `process_client'
puma (3.12.6) lib/puma/server.rb:334:in `block in run'
puma (3.12.6) lib/puma/thread_pool.rb:135:in `block in spawn_thread'
Started GET "/products/search.json?keyword=gekki" for ::1 at 2023-04-20 18:27:53 -0700
Processing by ProductsController#search as JSON
  Parameters: {"keyword"=>"gekki"}
Started GET "/products/search?utf8=%E2%9C%93&keyword=gekki&button=" for ::1 at 2023-04-20 18:27:53 -0700
Processing by ProductsController#search as HTML
  Parameters: {"utf8"=>"âœ“", "keyword"=>"gekki", "button"=>""}
  Rendering products/search.html.erb within layouts/application
Completed 406 Not Acceptable in 42ms (ActiveRecord: 0.0ms)


  
ActionController::UnknownFormat (ProductsController#search is missing a template for this request format and variant.

request.formats: ["application/json"]
request.variant: []):
  
actionpack (5.2.6) lib/action_controller/metal/implicit_render.rb:42:in `default_render'
actionpack (5.2.6) lib/action_controller/metal/basic_implicit_render.rb:6:in `block in send_action'
actionpack (5.2.6) lib/action_controller/metal/basic_implicit_render.rb:6:in `tap'
actionpack (5.2.6) lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
actionpack (5.2.6) lib/abstract_controller/base.rb:194:in `process_action'
actionpack (5.2.6) lib/action_controller/metal/rendering.rb:30:in `process_action'
actionpack (5.2.6) lib/abstract_controller/callbacks.rb:42:in `block in process_action'
activesupport (5.2.6) lib/active_support/callbacks.rb:132:in `run_callbacks'
actionpack (5.2.6) lib/abstract_controller/callbacks.rb:41:in `process_action'
actionpack (5.2.6) lib/action_controller/metal/rescue.rb:22:in `process_action'
actionpack (5.2.6) lib/action_controller/metal/instrumentation.rb:34:in `block in process_action'
activesupport (5.2.6) lib/active_support/notifications.rb:168:in `block in instrument'
activesupport (5.2.6) lib/active_support/notifications/instrumenter.rb:23:in `instrument'
activesupport (5.2.6) lib/active_support/notifications.rb:168:in `instrument'
actionpack (5.2.6) lib/action_controller/metal/instrumentation.rb:32:in `process_action'
actionpack (5.2.6) lib/action_controller/metal/params_wrapper.rb:256:in `process_action'
activerecord (5.2.6) lib/active_record/railties/controller_runtime.rb:24:in `process_action'
actionpack (5.2.6) lib/abstract_controller/base.rb:134:in `process'
actionview (5.2.6) lib/action_view/rendering.rb:32:in `process'
actionpack (5.2.6) lib/action_controller/metal.rb:191:in `dispatch'
actionpack (5.2.6) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (5.2.6) lib/action_dispatch/routing/route_set.rb:52:in `dispatch'
actionpack (5.2.6) lib/action_dispatch/routing/route_set.rb:34:in `serve'
actionpack (5.2.6) lib/action_dispatch/journey/router.rb:52:in `block in serve'
actionpack (5.2.6) lib/action_dispatch/journey/router.rb:35:in `each'
actionpack (5.2.6) lib/action_dispatch/journey/router.rb:35:in `serve'
actionpack (5.2.6) lib/action_dispatch/routing/route_set.rb:840:in `call'
warden (1.2.9) lib/warden/manager.rb:36:in `block in call'
warden (1.2.9) lib/warden/manager.rb:34:in `catch'
warden (1.2.9) lib/warden/manager.rb:34:in `call'
rack (2.2.3) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.2.3) lib/rack/etag.rb:27:in `call'
rack (2.2.3) lib/rack/conditional_get.rb:27:in `call'
rack (2.2.3) lib/rack/head.rb:12:in `call'
actionpack (5.2.6) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.2.3) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.3) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (5.2.6) lib/action_dispatch/middleware/cookies.rb:670:in `call'
activerecord (5.2.6) lib/active_record/migration.rb:559:in `call'
actionpack (5.2.6) lib/action_dispatch/middleware/callbacks.rb:28:in `block in call'
activesupport (5.2.6) lib/active_support/callbacks.rb:98:in `run_callbacks'
actionpack (5.2.6) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (5.2.6) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.6) lib/action_dispatch/middleware/debug_exceptions.rb:61:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.6) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.6) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.6) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.6) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.6) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.6) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.6) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.6) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.6) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.6) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.6) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.6) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
railties (5.2.6) lib/rails/engine.rb:524:in `call'
puma (3.12.6) lib/puma/configuration.rb:227:in `call'
puma (3.12.6) lib/puma/server.rb:706:in `handle_request'
puma (3.12.6) lib/puma/server.rb:476:in `process_client'
puma (3.12.6) lib/puma/server.rb:334:in `block in run'
puma (3.12.6) lib/puma/thread_pool.rb:135:in `block in spawn_thread'
  [1m[35m (21.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" WHERE (name ILIKE '%gekki%')[0m
  â†³ app/views/products/search.html.erb:5
  [1m[36mProduct Load (23.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (name ILIKE '%gekki%')[0m
  â†³ app/views/products/search.html.erb:6
  [1m[36mActiveStorage::Attachment Exists (15.2ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/search.html.erb:9
  Rendered products/search.html.erb within layouts/application (80.6ms)
  Rendered layouts/_header.html.erb (0.9ms)
  Rendered layouts/_alert.html.erb (0.2ms)
Completed 200 OK in 118ms (Views: 56.8ms | ActiveRecord: 59.8ms)


Started GET "/" for ::1 at 2023-04-20 18:27:56 -0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  â†³ app/views/products/index.html.erb:5
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/views/products/index.html.erb:6
  [1m[36mActiveStorage::Attachment Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/index.html.erb:10
  [1m[36mActiveStorage::Attachment Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/index.html.erb:10
  Rendered products/index.html.erb within layouts/application (5.0ms)
  Rendered layouts/_header.html.erb (0.9ms)
  Rendered layouts/_alert.html.erb (0.2ms)
Completed 200 OK in 60ms (Views: 50.2ms | ActiveRecord: 1.9ms)


Started GET "/" for ::1 at 2023-04-20 22:19:56 -0700
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ /Users/dev/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.6/lib/active_record/log_subscriber.rb:98
DEPRECATION WARNING: 'include Pundit' is deprecated. Please use 'include Pundit::Authorization' instead.
 (called from include at /Users/dev/Documents/repos/ecommerceApp-main/app/controllers/concerns/authorizable.rb:7)
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[35m (1.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  â†³ app/views/products/index.html.erb:5
  [1m[36mProduct Load (1.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/views/products/index.html.erb:6
  [1m[36mActiveStorage::Attachment Exists (24.0ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/index.html.erb:10
  [1m[36mActiveStorage::Attachment Exists (6.3ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/index.html.erb:10
  Rendered products/index.html.erb within layouts/application (317.7ms)
  Rendered layouts/_header.html.erb (3.5ms)
  Rendered layouts/_alert.html.erb (0.2ms)
Completed 200 OK in 503ms (Views: 380.5ms | ActiveRecord: 106.6ms)


  [1m[35m (3.9ms)[0m  [1m[34mSELECT pg_try_advisory_lock(601276535802311985)[0m
  â†³ bin/rails:9
  [1m[35m (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
Migrating to AddShippingDetailsToOrder (20230421135840)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:9
  [1m[35m (22.8ms)[0m  [1m[35mCREATE TABLE "order_items" ("id" bigserial primary key, "customer_name" character varying DEFAULT '' NOT NULL, "shipping_address" character varying NOT NULL, "phone_number" character varying NOT NULL, "payment_method" character varying NOT NULL, "customer_id" bigint NOT NULL, "order_id" bigint NOT NULL, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_32c93ac0f5"
FOREIGN KEY ("customer_id")
  REFERENCES "customers" ("id")
, CONSTRAINT "fk_rails_e3cb28f071"
FOREIGN KEY ("order_id")
  REFERENCES "orders" ("id")
)[0m
  â†³ db/migrate/20230421135840_add_shipping_details_to_order.rb:3
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(601276535802311985)[0m
  â†³ bin/rails:9
  [1m[35m (0.9ms)[0m  [1m[34mSELECT pg_try_advisory_lock(601276535802311985)[0m
  â†³ bin/rails:9
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
Migrating to AddShippingDetailsToOrder (20230421135840)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:9
  [1m[35m (10.5ms)[0m  [1m[35mCREATE TABLE "shipping_details" ("id" bigserial primary key, "customer_name" character varying DEFAULT '' NOT NULL, "shipping_address" character varying NOT NULL, "phone_number" character varying NOT NULL, "payment_method" character varying NOT NULL, "customer_id" bigint NOT NULL, "order_id" bigint NOT NULL, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_30f5f88606"
FOREIGN KEY ("customer_id")
  REFERENCES "customers" ("id")
, CONSTRAINT "fk_rails_a83af321d2"
FOREIGN KEY ("order_id")
  REFERENCES "orders" ("id")
)[0m
  â†³ db/migrate/20230421135840_add_shipping_details_to_order.rb:3
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  â†³ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(601276535802311985)[0m
  â†³ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(601276535802311985)[0m
  â†³ bin/rails:9
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
Migrating to AddShippingDetailsToOrder (20230421135840)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:9
  [1m[35m (25.3ms)[0m  [1m[35mCREATE TABLE "shipping_details" ("id" bigserial primary key, "customer_name" character varying DEFAULT '' NOT NULL, "shipping_address" character varying NOT NULL, "phone_number" character varying NOT NULL, "payment_method" character varying NOT NULL, "user_id" bigint NOT NULL, "order_id" bigint NOT NULL, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_82dfb9b972"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_a83af321d2"
FOREIGN KEY ("order_id")
  REFERENCES "orders" ("id")
)[0m
  â†³ db/migrate/20230421135840_add_shipping_details_to_order.rb:3
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_shipping_details_on_user_id" ON "shipping_details"  ("user_id")[0m
  â†³ db/migrate/20230421135840_add_shipping_details_to_order.rb:3
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_shipping_details_on_order_id" ON "shipping_details"  ("order_id")[0m
  â†³ db/migrate/20230421135840_add_shipping_details_to_order.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230421135840"]]
  â†³ bin/rails:9
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:9
  [1m[36mActiveRecord::InternalMetadata Load (4.7ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  â†³ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(601276535802311985)[0m
  â†³ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(601276535802311985)[0m
  â†³ bin/rails:9
  [1m[35m (2.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  â†³ bin/rails:9
  [1m[35m (6.8ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(601276535802311985)[0m
  â†³ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
DEPRECATION WARNING: 'include Pundit' is deprecated. Please use 'include Pundit::Authorization' instead.
 (called from include at /Users/dev/Documents/repos/ecommerceApp-main/app/controllers/concerns/authorizable.rb:7)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(601276535802311985)[0m
  â†³ bin/rails:9
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
  [1m[36mActiveRecord::InternalMetadata Load (1.0ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  â†³ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(601276535802311985)[0m
  â†³ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
DEPRECATION WARNING: 'include Pundit' is deprecated. Please use 'include Pundit::Authorization' instead.
 (called from include at /Users/dev/Documents/repos/ecommerceApp-main/app/controllers/concerns/authorizable.rb:7)
  [1m[35m (2.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
  [1m[35m (3.9ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  â†³ bin/rails:9
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  â†³ bin/rails:9
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  â†³ bin/rails:9
  [1m[35m (612.0ms)[0m  [1m[35mDROP DATABASE IF EXISTS "dev"[0m
  â†³ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[35mDROP DATABASE IF EXISTS "dev"[0m
  â†³ bin/rails:9
  [1m[35m (236.2ms)[0m  [1m[35mCREATE DATABASE "dev" ENCODING = 'unicode'[0m
  â†³ bin/rails:9
  [1m[35m (1.2ms)[0m  [1m[35mCREATE DATABASE "dev" ENCODING = 'unicode'[0m
  â†³ bin/rails:9
  [1m[35m (4.4ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  â†³ bin/rails:9
  [1m[35m (2.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  â†³ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(601276535802311985)[0m
  â†³ bin/rails:9
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
Migrating to DeviseCreateUsers (20230131165958)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:9
  [1m[35m (4.1ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "full_name" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "confirmation_token" character varying, "confirmed_at" timestamp, "confirmation_sent_at" timestamp, "unconfirmed_email" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  â†³ db/migrate/20230131165958_devise_create_users.rb:5
  [1m[35m (0.7ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_email" ON "users"  ("email")[0m
  â†³ db/migrate/20230131165958_devise_create_users.rb:39
  [1m[35m (0.5ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users"  ("reset_password_token")[0m
  â†³ db/migrate/20230131165958_devise_create_users.rb:40
  [1m[35m (0.5ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_confirmation_token" ON "users"  ("confirmation_token")[0m
  â†³ db/migrate/20230131165958_devise_create_users.rb:41
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230131165958"]]
  â†³ bin/rails:9
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:9
Migrating to CreateProducts (20230131175123)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:9
  [1m[35m (3.8ms)[0m  [1m[35mCREATE TABLE "products" ("id" bigserial primary key, "name" character varying DEFAULT '' NOT NULL, "description" text DEFAULT '' NOT NULL, "price" decimal DEFAULT 1 NOT NULL, "quantity" integer DEFAULT 5 NOT NULL, "user_id" bigint NOT NULL, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_dee2631783"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  â†³ db/migrate/20230131175123_create_products.rb:5
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_products_on_user_id" ON "products"  ("user_id")[0m
  â†³ db/migrate/20230131175123_create_products.rb:5
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230131175123"]]
  â†³ bin/rails:9
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:9
Migrating to CreateCartItems (20230201035448)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:9
  [1m[35m (2.4ms)[0m  [1m[35mCREATE TABLE "cart_items" ("id" bigserial primary key, "quantity" integer DEFAULT 0 NOT NULL, "user_id" bigint NOT NULL, "product_id" bigint NOT NULL, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_fcb2cbf0bc"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_681a180e84"
FOREIGN KEY ("product_id")
  REFERENCES "products" ("id")
)[0m
  â†³ db/migrate/20230201035448_create_cart_items.rb:5
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_cart_items_on_user_id" ON "cart_items"  ("user_id")[0m
  â†³ db/migrate/20230201035448_create_cart_items.rb:5
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_cart_items_on_product_id" ON "cart_items"  ("product_id")[0m
  â†³ db/migrate/20230201035448_create_cart_items.rb:5
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230201035448"]]
  â†³ bin/rails:9
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:9
Migrating to CreateOrders (20230201035610)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:9
  [1m[35m (4.2ms)[0m  [1m[35mCREATE TABLE "orders" ("id" bigserial primary key, "status" integer DEFAULT 0 NOT NULL, "amount_paid" decimal DEFAULT 0 NOT NULL, "user_id" bigint NOT NULL, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_f868b47f6a"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  â†³ db/migrate/20230201035610_create_orders.rb:5
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_orders_on_user_id" ON "orders"  ("user_id")[0m
  â†³ db/migrate/20230201035610_create_orders.rb:5
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230201035610"]]
  â†³ bin/rails:9
  [1m[35m (2.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:9
Migrating to CreateOrderItems (20230201035703)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:9
  [1m[35m (3.0ms)[0m  [1m[35mCREATE TABLE "order_items" ("id" bigserial primary key, "price" decimal DEFAULT 1 NOT NULL, "quantity" integer DEFAULT 1 NOT NULL, "product_id" bigint NOT NULL, "order_id" bigint NOT NULL, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_f1a29ddd47"
FOREIGN KEY ("product_id")
  REFERENCES "products" ("id")
, CONSTRAINT "fk_rails_e3cb28f071"
FOREIGN KEY ("order_id")
  REFERENCES "orders" ("id")
)[0m
  â†³ db/migrate/20230201035703_create_order_items.rb:5
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_order_items_on_product_id" ON "order_items"  ("product_id")[0m
  â†³ db/migrate/20230201035703_create_order_items.rb:5
  [1m[35m (0.5ms)[0m  [1m[35mCREATE  INDEX  "index_order_items_on_order_id" ON "order_items"  ("order_id")[0m
  â†³ db/migrate/20230201035703_create_order_items.rb:5
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230201035703"]]
  â†³ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:9
Migrating to CreateActiveStorageTables (20230201074401)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:9
  [1m[35m (2.7ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" bigserial primary key, "key" character varying NOT NULL, "filename" character varying NOT NULL, "content_type" character varying, "metadata" text, "byte_size" bigint NOT NULL, "checksum" character varying NOT NULL, "created_at" timestamp NOT NULL)[0m
  â†³ db/migrate/20230201074401_create_active_storage_tables.active_storage.rb:6
  [1m[35m (0.4ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_active_storage_blobs_on_key" ON "active_storage_blobs"  ("key")[0m
  â†³ db/migrate/20230201074401_create_active_storage_tables.active_storage.rb:6
  [1m[35m (2.5ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" bigserial primary key, "name" character varying NOT NULL, "record_type" character varying NOT NULL, "record_id" bigint NOT NULL, "blob_id" bigint NOT NULL, "created_at" timestamp NOT NULL, CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  â†³ db/migrate/20230201074401_create_active_storage_tables.active_storage.rb:18
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments"  ("blob_id")[0m
  â†³ db/migrate/20230201074401_create_active_storage_tables.active_storage.rb:18
  [1m[35m (0.7ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_active_storage_attachments_uniqueness" ON "active_storage_attachments"  ("record_type", "record_id", "name", "blob_id")[0m
  â†³ db/migrate/20230201074401_create_active_storage_tables.active_storage.rb:18
  [1m[36mActiveRecord::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230201074401"]]
  â†³ bin/rails:9
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:9
Migrating to CreateShippingDetails (20230421141558)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:9
  [1m[35m (3.5ms)[0m  [1m[35mCREATE TABLE "shipping_details" ("id" bigserial primary key, "customer_name" character varying DEFAULT '' NOT NULL, "shipping_address" character varying NOT NULL, "phone_number" character varying NOT NULL, "payment_method" character varying NOT NULL, "user_id" bigint NOT NULL, "order_id" bigint NOT NULL, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_82dfb9b972"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_a83af321d2"
FOREIGN KEY ("order_id")
  REFERENCES "orders" ("id")
)[0m
  â†³ db/migrate/20230421141558_create_shipping_details.rb:3
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_shipping_details_on_user_id" ON "shipping_details"  ("user_id")[0m
  â†³ db/migrate/20230421141558_create_shipping_details.rb:3
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_shipping_details_on_order_id" ON "shipping_details"  ("order_id")[0m
  â†³ db/migrate/20230421141558_create_shipping_details.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230421141558"]]
  â†³ bin/rails:9
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:9
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  â†³ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:9
  [1m[36mActiveRecord::InternalMetadata Create (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-04-21 14:16:41.796053"], ["updated_at", "2023-04-21 14:16:41.796053"]]
  â†³ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(601276535802311985)[0m
  â†³ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
DEPRECATION WARNING: 'include Pundit' is deprecated. Please use 'include Pundit::Authorization' instead.
 (called from include at /Users/dev/Documents/repos/ecommerceApp-main/app/controllers/concerns/authorizable.rb:7)
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  â†³ bin/rails:9
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  â†³ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  â†³ bin/rails:9
  [1m[35m (224.7ms)[0m  [1m[35mDROP DATABASE IF EXISTS "dev"[0m
  â†³ bin/rails:9
  [1m[35m (7.4ms)[0m  [1m[35mDROP DATABASE IF EXISTS "dev"[0m
  â†³ bin/rails:9
  [1m[35m (156.6ms)[0m  [1m[35mCREATE DATABASE "dev" ENCODING = 'unicode'[0m
  â†³ bin/rails:9
  [1m[35m (2.8ms)[0m  [1m[35mCREATE DATABASE "dev" ENCODING = 'unicode'[0m
  â†³ bin/rails:9
  [1m[35m (4.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  â†³ bin/rails:9
  [1m[35m (4.5ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  â†³ bin/rails:9
  [1m[35m (0.5ms)[0m  [1m[34mSELECT pg_try_advisory_lock(601276535802311985)[0m
  â†³ bin/rails:9
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
Migrating to DeviseCreateUsers (20230131165958)
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:9
  [1m[35m (27.6ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "full_name" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "confirmation_token" character varying, "confirmed_at" timestamp, "confirmation_sent_at" timestamp, "unconfirmed_email" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  â†³ db/migrate/20230131165958_devise_create_users.rb:5
  [1m[35m (0.8ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_email" ON "users"  ("email")[0m
  â†³ db/migrate/20230131165958_devise_create_users.rb:39
  [1m[35m (0.6ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users"  ("reset_password_token")[0m
  â†³ db/migrate/20230131165958_devise_create_users.rb:40
  [1m[35m (0.9ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_confirmation_token" ON "users"  ("confirmation_token")[0m
  â†³ db/migrate/20230131165958_devise_create_users.rb:41
  [1m[36mActiveRecord::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230131165958"]]
  â†³ bin/rails:9
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:9
Migrating to CreateProducts (20230131175123)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:9
  [1m[35m (4.1ms)[0m  [1m[35mCREATE TABLE "products" ("id" bigserial primary key, "name" character varying DEFAULT '' NOT NULL, "description" text DEFAULT '' NOT NULL, "price" decimal DEFAULT 1 NOT NULL, "quantity" integer DEFAULT 5 NOT NULL, "user_id" bigint NOT NULL, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_dee2631783"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  â†³ db/migrate/20230131175123_create_products.rb:5
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_products_on_user_id" ON "products"  ("user_id")[0m
  â†³ db/migrate/20230131175123_create_products.rb:5
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230131175123"]]
  â†³ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:9
Migrating to CreateCartItems (20230201035448)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:9
  [1m[35m (3.2ms)[0m  [1m[35mCREATE TABLE "cart_items" ("id" bigserial primary key, "quantity" integer DEFAULT 0 NOT NULL, "user_id" bigint NOT NULL, "product_id" bigint NOT NULL, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_fcb2cbf0bc"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_681a180e84"
FOREIGN KEY ("product_id")
  REFERENCES "products" ("id")
)[0m
  â†³ db/migrate/20230201035448_create_cart_items.rb:5
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_cart_items_on_user_id" ON "cart_items"  ("user_id")[0m
  â†³ db/migrate/20230201035448_create_cart_items.rb:5
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_cart_items_on_product_id" ON "cart_items"  ("product_id")[0m
  â†³ db/migrate/20230201035448_create_cart_items.rb:5
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230201035448"]]
  â†³ bin/rails:9
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:9
Migrating to CreateOrders (20230201035610)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:9
  [1m[35m (3.7ms)[0m  [1m[35mCREATE TABLE "orders" ("id" bigserial primary key, "status" integer DEFAULT 0 NOT NULL, "amount_paid" decimal DEFAULT 0 NOT NULL, "user_id" bigint NOT NULL, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_f868b47f6a"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  â†³ db/migrate/20230201035610_create_orders.rb:5
  [1m[35m (1.1ms)[0m  [1m[35mCREATE  INDEX  "index_orders_on_user_id" ON "orders"  ("user_id")[0m
  â†³ db/migrate/20230201035610_create_orders.rb:5
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230201035610"]]
  â†³ bin/rails:9
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:9
Migrating to CreateOrderItems (20230201035703)
  [1m[35m (2.0ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:9
  [1m[35m (5.1ms)[0m  [1m[35mCREATE TABLE "order_items" ("id" bigserial primary key, "price" decimal DEFAULT 1 NOT NULL, "quantity" integer DEFAULT 1 NOT NULL, "product_id" bigint NOT NULL, "order_id" bigint NOT NULL, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_f1a29ddd47"
FOREIGN KEY ("product_id")
  REFERENCES "products" ("id")
, CONSTRAINT "fk_rails_e3cb28f071"
FOREIGN KEY ("order_id")
  REFERENCES "orders" ("id")
)[0m
  â†³ db/migrate/20230201035703_create_order_items.rb:5
  [1m[35m (1.1ms)[0m  [1m[35mCREATE  INDEX  "index_order_items_on_product_id" ON "order_items"  ("product_id")[0m
  â†³ db/migrate/20230201035703_create_order_items.rb:5
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_order_items_on_order_id" ON "order_items"  ("order_id")[0m
  â†³ db/migrate/20230201035703_create_order_items.rb:5
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230201035703"]]
  â†³ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:9
Migrating to CreateActiveStorageTables (20230201074401)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:9
  [1m[35m (3.9ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" bigserial primary key, "key" character varying NOT NULL, "filename" character varying NOT NULL, "content_type" character varying, "metadata" text, "byte_size" bigint NOT NULL, "checksum" character varying NOT NULL, "created_at" timestamp NOT NULL)[0m
  â†³ db/migrate/20230201074401_create_active_storage_tables.active_storage.rb:6
  [1m[35m (0.9ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_active_storage_blobs_on_key" ON "active_storage_blobs"  ("key")[0m
  â†³ db/migrate/20230201074401_create_active_storage_tables.active_storage.rb:6
  [1m[35m (3.6ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" bigserial primary key, "name" character varying NOT NULL, "record_type" character varying NOT NULL, "record_id" bigint NOT NULL, "blob_id" bigint NOT NULL, "created_at" timestamp NOT NULL, CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  â†³ db/migrate/20230201074401_create_active_storage_tables.active_storage.rb:18
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments"  ("blob_id")[0m
  â†³ db/migrate/20230201074401_create_active_storage_tables.active_storage.rb:18
  [1m[35m (0.9ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_active_storage_attachments_uniqueness" ON "active_storage_attachments"  ("record_type", "record_id", "name", "blob_id")[0m
  â†³ db/migrate/20230201074401_create_active_storage_tables.active_storage.rb:18
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230201074401"]]
  â†³ bin/rails:9
  [1m[35m (0.8ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:9
Migrating to CreateShippingDetails (20230421141558)
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:9
  [1m[35m (4.4ms)[0m  [1m[35mCREATE TABLE "shipping_details" ("id" bigserial primary key, "customer_name" character varying DEFAULT '' NOT NULL, "shipping_address" character varying NOT NULL, "phone_number" character varying NOT NULL, "payment_method" character varying NOT NULL, "user_id" bigint NOT NULL, "order_id" bigint NOT NULL, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_82dfb9b972"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_a83af321d2"
FOREIGN KEY ("order_id")
  REFERENCES "orders" ("id")
)[0m
  â†³ db/migrate/20230421141558_create_shipping_details.rb:3
  [1m[35m (2.7ms)[0m  [1m[35mCREATE  INDEX  "index_shipping_details_on_user_id" ON "shipping_details"  ("user_id")[0m
  â†³ db/migrate/20230421141558_create_shipping_details.rb:3
  [1m[35m (4.5ms)[0m  [1m[35mCREATE  INDEX  "index_shipping_details_on_order_id" ON "shipping_details"  ("order_id")[0m
  â†³ db/migrate/20230421141558_create_shipping_details.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230421141558"]]
  â†³ bin/rails:9
  [1m[35m (2.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:9
  [1m[36mActiveRecord::InternalMetadata Load (0.9ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  â†³ bin/rails:9
  [1m[35m (1.9ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:9
  [1m[36mActiveRecord::InternalMetadata Create (1.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-04-21 14:18:14.251351"], ["updated_at", "2023-04-21 14:18:14.251351"]]
  â†³ bin/rails:9
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:9
  [1m[35m (0.6ms)[0m  [1m[34mSELECT pg_advisory_unlock(601276535802311985)[0m
  â†³ bin/rails:9
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
DEPRECATION WARNING: 'include Pundit' is deprecated. Please use 'include Pundit::Authorization' instead.
 (called from include at /Users/dev/Documents/repos/ecommerceApp-main/app/controllers/concerns/authorizable.rb:7)
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  â†³ bin/rails:9
  [1m[35m (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  â†³ bin/rails:9
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  â†³ bin/rails:9
  [1m[35m (162.6ms)[0m  [1m[35mDROP DATABASE IF EXISTS "dev"[0m
  â†³ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[35mDROP DATABASE IF EXISTS "dev"[0m
  â†³ bin/rails:9
  [1m[35m (238.6ms)[0m  [1m[35mCREATE DATABASE "dev" ENCODING = 'unicode'[0m
  â†³ bin/rails:9
  [1m[35m (1.4ms)[0m  [1m[35mCREATE DATABASE "dev" ENCODING = 'unicode'[0m
  â†³ bin/rails:9
  [1m[35m (4.3ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  â†³ bin/rails:9
  [1m[35m (2.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  â†³ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(601276535802311985)[0m
  â†³ bin/rails:9
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
Migrating to DeviseCreateUsers (20230131165958)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:9
  [1m[35m (3.3ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "full_name" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "confirmation_token" character varying, "confirmed_at" timestamp, "confirmation_sent_at" timestamp, "unconfirmed_email" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  â†³ db/migrate/20230131165958_devise_create_users.rb:5
  [1m[35m (0.6ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_email" ON "users"  ("email")[0m
  â†³ db/migrate/20230131165958_devise_create_users.rb:39
  [1m[35m (0.5ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users"  ("reset_password_token")[0m
  â†³ db/migrate/20230131165958_devise_create_users.rb:40
  [1m[35m (0.6ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_confirmation_token" ON "users"  ("confirmation_token")[0m
  â†³ db/migrate/20230131165958_devise_create_users.rb:41
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230131165958"]]
  â†³ bin/rails:9
  [1m[35m (2.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:9
Migrating to CreateProducts (20230131175123)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:9
  [1m[35m (3.7ms)[0m  [1m[35mCREATE TABLE "products" ("id" bigserial primary key, "name" character varying DEFAULT '' NOT NULL, "description" text DEFAULT '' NOT NULL, "price" decimal DEFAULT 1 NOT NULL, "quantity" integer DEFAULT 5 NOT NULL, "user_id" bigint NOT NULL, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_dee2631783"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  â†³ db/migrate/20230131175123_create_products.rb:5
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_products_on_user_id" ON "products"  ("user_id")[0m
  â†³ db/migrate/20230131175123_create_products.rb:5
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230131175123"]]
  â†³ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:9
Migrating to CreateCartItems (20230201035448)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:9
  [1m[35m (3.3ms)[0m  [1m[35mCREATE TABLE "cart_items" ("id" bigserial primary key, "quantity" integer DEFAULT 0 NOT NULL, "user_id" bigint NOT NULL, "product_id" bigint NOT NULL, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_fcb2cbf0bc"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_681a180e84"
FOREIGN KEY ("product_id")
  REFERENCES "products" ("id")
)[0m
  â†³ db/migrate/20230201035448_create_cart_items.rb:5
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_cart_items_on_user_id" ON "cart_items"  ("user_id")[0m
  â†³ db/migrate/20230201035448_create_cart_items.rb:5
  [1m[35m (0.5ms)[0m  [1m[35mCREATE  INDEX  "index_cart_items_on_product_id" ON "cart_items"  ("product_id")[0m
  â†³ db/migrate/20230201035448_create_cart_items.rb:5
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230201035448"]]
  â†³ bin/rails:9
  [1m[35m (4.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:9
Migrating to CreateOrders (20230201035610)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:9
  [1m[35m (3.8ms)[0m  [1m[35mCREATE TABLE "orders" ("id" bigserial primary key, "amount_paid" decimal DEFAULT 0 NOT NULL, "user_id" bigint NOT NULL, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_f868b47f6a"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  â†³ db/migrate/20230201035610_create_orders.rb:5
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_orders_on_user_id" ON "orders"  ("user_id")[0m
  â†³ db/migrate/20230201035610_create_orders.rb:5
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230201035610"]]
  â†³ bin/rails:9
  [1m[35m (3.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:9
Migrating to CreateOrderItems (20230201035703)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:9
  [1m[35m (3.9ms)[0m  [1m[35mCREATE TABLE "order_items" ("id" bigserial primary key, "price" decimal DEFAULT 1 NOT NULL, "quantity" integer DEFAULT 1 NOT NULL, "product_id" bigint NOT NULL, "order_id" bigint NOT NULL, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_f1a29ddd47"
FOREIGN KEY ("product_id")
  REFERENCES "products" ("id")
, CONSTRAINT "fk_rails_e3cb28f071"
FOREIGN KEY ("order_id")
  REFERENCES "orders" ("id")
)[0m
  â†³ db/migrate/20230201035703_create_order_items.rb:5
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_order_items_on_product_id" ON "order_items"  ("product_id")[0m
  â†³ db/migrate/20230201035703_create_order_items.rb:5
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_order_items_on_order_id" ON "order_items"  ("order_id")[0m
  â†³ db/migrate/20230201035703_create_order_items.rb:5
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230201035703"]]
  â†³ bin/rails:9
  [1m[35m (3.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:9
Migrating to CreateActiveStorageTables (20230201074401)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:9
  [1m[35m (2.5ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" bigserial primary key, "key" character varying NOT NULL, "filename" character varying NOT NULL, "content_type" character varying, "metadata" text, "byte_size" bigint NOT NULL, "checksum" character varying NOT NULL, "created_at" timestamp NOT NULL)[0m
  â†³ db/migrate/20230201074401_create_active_storage_tables.active_storage.rb:6
  [1m[35m (6.0ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_active_storage_blobs_on_key" ON "active_storage_blobs"  ("key")[0m
  â†³ db/migrate/20230201074401_create_active_storage_tables.active_storage.rb:6
  [1m[35m (22.1ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" bigserial primary key, "name" character varying NOT NULL, "record_type" character varying NOT NULL, "record_id" bigint NOT NULL, "blob_id" bigint NOT NULL, "created_at" timestamp NOT NULL, CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  â†³ db/migrate/20230201074401_create_active_storage_tables.active_storage.rb:18
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments"  ("blob_id")[0m
  â†³ db/migrate/20230201074401_create_active_storage_tables.active_storage.rb:18
  [1m[35m (1.6ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_active_storage_attachments_uniqueness" ON "active_storage_attachments"  ("record_type", "record_id", "name", "blob_id")[0m
  â†³ db/migrate/20230201074401_create_active_storage_tables.active_storage.rb:18
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230201074401"]]
  â†³ bin/rails:9
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:9
Migrating to CreateShippingDetails (20230421141558)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:9
  [1m[35m (3.8ms)[0m  [1m[35mCREATE TABLE "shipping_details" ("id" bigserial primary key, "customer_name" character varying DEFAULT '' NOT NULL, "shipping_address" character varying NOT NULL, "phone_number" character varying NOT NULL, "payment_method" character varying NOT NULL, "status" integer DEFAULT 0 NOT NULL, "user_id" bigint NOT NULL, "order_id" bigint NOT NULL, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_82dfb9b972"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_a83af321d2"
FOREIGN KEY ("order_id")
  REFERENCES "orders" ("id")
)[0m
  â†³ db/migrate/20230421141558_create_shipping_details.rb:3
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_shipping_details_on_user_id" ON "shipping_details"  ("user_id")[0m
  â†³ db/migrate/20230421141558_create_shipping_details.rb:3
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_shipping_details_on_order_id" ON "shipping_details"  ("order_id")[0m
  â†³ db/migrate/20230421141558_create_shipping_details.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230421141558"]]
  â†³ bin/rails:9
  [1m[35m (0.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:9
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  â†³ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:9
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-04-21 14:28:26.657486"], ["updated_at", "2023-04-21 14:28:26.657486"]]
  â†³ bin/rails:9
  [1m[35m (0.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(601276535802311985)[0m
  â†³ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
DEPRECATION WARNING: 'include Pundit' is deprecated. Please use 'include Pundit::Authorization' instead.
 (called from include at /Users/dev/Documents/repos/ecommerceApp-main/app/controllers/concerns/authorizable.rb:7)
  [1m[35m (3.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
  [1m[35m (4.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  â†³ bin/rails:9
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
  [1m[35m (1.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  â†³ bin/rails:9
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  â†³ bin/rails:9
  [1m[35m (183.5ms)[0m  [1m[35mDROP DATABASE IF EXISTS "dev"[0m
  â†³ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[35mDROP DATABASE IF EXISTS "dev"[0m
  â†³ bin/rails:9
  [1m[35m (126.3ms)[0m  [1m[35mCREATE DATABASE "dev" ENCODING = 'unicode'[0m
  â†³ bin/rails:9
  [1m[35m (0.9ms)[0m  [1m[35mCREATE DATABASE "dev" ENCODING = 'unicode'[0m
  â†³ bin/rails:9
  [1m[35m (5.6ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  â†³ bin/rails:9
  [1m[35m (2.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  â†³ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(601276535802311985)[0m
  â†³ bin/rails:9
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
Migrating to DeviseCreateUsers (20230131165958)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:9
  [1m[35m (3.3ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "full_name" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "confirmation_token" character varying, "confirmed_at" timestamp, "confirmation_sent_at" timestamp, "unconfirmed_email" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  â†³ db/migrate/20230131165958_devise_create_users.rb:5
  [1m[35m (0.5ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_email" ON "users"  ("email")[0m
  â†³ db/migrate/20230131165958_devise_create_users.rb:39
  [1m[35m (0.5ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users"  ("reset_password_token")[0m
  â†³ db/migrate/20230131165958_devise_create_users.rb:40
  [1m[35m (0.5ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_confirmation_token" ON "users"  ("confirmation_token")[0m
  â†³ db/migrate/20230131165958_devise_create_users.rb:41
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230131165958"]]
  â†³ bin/rails:9
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:9
Migrating to CreateProducts (20230131175123)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:9
  [1m[35m (3.2ms)[0m  [1m[35mCREATE TABLE "products" ("id" bigserial primary key, "name" character varying DEFAULT '' NOT NULL, "description" text DEFAULT '' NOT NULL, "price" decimal DEFAULT 1 NOT NULL, "quantity" integer DEFAULT 5 NOT NULL, "user_id" bigint NOT NULL, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_dee2631783"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  â†³ db/migrate/20230131175123_create_products.rb:5
  [1m[35m (0.5ms)[0m  [1m[35mCREATE  INDEX  "index_products_on_user_id" ON "products"  ("user_id")[0m
  â†³ db/migrate/20230131175123_create_products.rb:5
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230131175123"]]
  â†³ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:9
Migrating to CreateCartItems (20230201035448)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:9
  [1m[35m (2.3ms)[0m  [1m[35mCREATE TABLE "cart_items" ("id" bigserial primary key, "quantity" integer DEFAULT 0 NOT NULL, "user_id" bigint NOT NULL, "product_id" bigint NOT NULL, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_fcb2cbf0bc"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_681a180e84"
FOREIGN KEY ("product_id")
  REFERENCES "products" ("id")
)[0m
  â†³ db/migrate/20230201035448_create_cart_items.rb:5
  [1m[35m (0.5ms)[0m  [1m[35mCREATE  INDEX  "index_cart_items_on_user_id" ON "cart_items"  ("user_id")[0m
  â†³ db/migrate/20230201035448_create_cart_items.rb:5
  [1m[35m (0.4ms)[0m  [1m[35mCREATE  INDEX  "index_cart_items_on_product_id" ON "cart_items"  ("product_id")[0m
  â†³ db/migrate/20230201035448_create_cart_items.rb:5
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230201035448"]]
  â†³ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:9
Migrating to CreateOrders (20230201035610)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:9
  [1m[35m (2.8ms)[0m  [1m[35mCREATE TABLE "orders" ("id" bigserial primary key, "amount_paid" decimal DEFAULT 0 NOT NULL, "user_id" bigint NOT NULL, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_f868b47f6a"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  â†³ db/migrate/20230201035610_create_orders.rb:5
  [1m[35m (0.5ms)[0m  [1m[35mCREATE  INDEX  "index_orders_on_user_id" ON "orders"  ("user_id")[0m
  â†³ db/migrate/20230201035610_create_orders.rb:5
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230201035610"]]
  â†³ bin/rails:9
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:9
Migrating to CreateOrderItems (20230201035703)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:9
  [1m[35m (3.2ms)[0m  [1m[35mCREATE TABLE "order_items" ("id" bigserial primary key, "price" decimal DEFAULT 1 NOT NULL, "quantity" integer DEFAULT 1 NOT NULL, "product_id" bigint NOT NULL, "order_id" bigint NOT NULL, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_f1a29ddd47"
FOREIGN KEY ("product_id")
  REFERENCES "products" ("id")
, CONSTRAINT "fk_rails_e3cb28f071"
FOREIGN KEY ("order_id")
  REFERENCES "orders" ("id")
)[0m
  â†³ db/migrate/20230201035703_create_order_items.rb:5
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_order_items_on_product_id" ON "order_items"  ("product_id")[0m
  â†³ db/migrate/20230201035703_create_order_items.rb:5
  [1m[35m (0.5ms)[0m  [1m[35mCREATE  INDEX  "index_order_items_on_order_id" ON "order_items"  ("order_id")[0m
  â†³ db/migrate/20230201035703_create_order_items.rb:5
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230201035703"]]
  â†³ bin/rails:9
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:9
Migrating to CreateActiveStorageTables (20230201074401)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:9
  [1m[35m (2.2ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" bigserial primary key, "key" character varying NOT NULL, "filename" character varying NOT NULL, "content_type" character varying, "metadata" text, "byte_size" bigint NOT NULL, "checksum" character varying NOT NULL, "created_at" timestamp NOT NULL)[0m
  â†³ db/migrate/20230201074401_create_active_storage_tables.active_storage.rb:6
  [1m[35m (0.6ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_active_storage_blobs_on_key" ON "active_storage_blobs"  ("key")[0m
  â†³ db/migrate/20230201074401_create_active_storage_tables.active_storage.rb:6
  [1m[35m (2.6ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" bigserial primary key, "name" character varying NOT NULL, "record_type" character varying NOT NULL, "record_id" bigint NOT NULL, "blob_id" bigint NOT NULL, "created_at" timestamp NOT NULL, CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  â†³ db/migrate/20230201074401_create_active_storage_tables.active_storage.rb:18
  [1m[35m (0.5ms)[0m  [1m[35mCREATE  INDEX  "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments"  ("blob_id")[0m
  â†³ db/migrate/20230201074401_create_active_storage_tables.active_storage.rb:18
  [1m[35m (0.6ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_active_storage_attachments_uniqueness" ON "active_storage_attachments"  ("record_type", "record_id", "name", "blob_id")[0m
  â†³ db/migrate/20230201074401_create_active_storage_tables.active_storage.rb:18
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230201074401"]]
  â†³ bin/rails:9
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:9
Migrating to CreateShippingDetails (20230421141558)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:9
  [1m[35m (3.3ms)[0m  [1m[35mCREATE TABLE "shipments" ("id" bigserial primary key, "customer_name" character varying DEFAULT '' NOT NULL, "shipping_address" character varying NOT NULL, "phone_number" character varying NOT NULL, "payment_method" character varying NOT NULL, "status" integer DEFAULT 0 NOT NULL, "user_id" bigint NOT NULL, "order_id" bigint NOT NULL, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_71a7b88fec"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_9892d6a938"
FOREIGN KEY ("order_id")
  REFERENCES "orders" ("id")
)[0m
  â†³ db/migrate/20230421141558_create_shipping_details.rb:3
  [1m[35m (2.6ms)[0m  [1m[35mCREATE  INDEX  "index_shipments_on_user_id" ON "shipments"  ("user_id")[0m
  â†³ db/migrate/20230421141558_create_shipping_details.rb:3
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_shipments_on_order_id" ON "shipments"  ("order_id")[0m
  â†³ db/migrate/20230421141558_create_shipping_details.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230421141558"]]
  â†³ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:9
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  â†³ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:9
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-04-21 14:56:03.281377"], ["updated_at", "2023-04-21 14:56:03.281377"]]
  â†³ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(601276535802311985)[0m
  â†³ bin/rails:9
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
DEPRECATION WARNING: 'include Pundit' is deprecated. Please use 'include Pundit::Authorization' instead.
 (called from include at /Users/dev/Documents/repos/ecommerceApp-main/app/controllers/concerns/authorizable.rb:7)
  [1m[36mUser Load (2.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" LIMIT $1[0m  [["LIMIT", 11]]
Started GET "/" for ::1 at 2023-04-21 08:01:06 -0700
  [1m[35m (1.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ /Users/dev/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.6/lib/active_record/log_subscriber.rb:98
DEPRECATION WARNING: 'include Pundit' is deprecated. Please use 'include Pundit::Authorization' instead.
 (called from include at /Users/dev/Documents/repos/ecommerceApp-main/app/controllers/concerns/authorizable.rb:7)
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[35m (3.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  â†³ app/views/products/index.html.erb:5
  Rendered products/index.html.erb within layouts/application (16.2ms)
  Rendered layouts/_header.html.erb (7.0ms)
  Rendered layouts/_alert.html.erb (0.6ms)
Completed 200 OK in 369ms (Views: 340.1ms | ActiveRecord: 14.1ms)


Started GET "/users/sign_up" for ::1 at 2023-04-21 08:01:09 -0700
Processing by Devise::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_error_messages.html.erb (0.3ms)
  Rendered devise/shared/_links.html.erb (0.7ms)
  Rendered devise/registrations/new.html.erb within layouts/application (169.9ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_alert.html.erb (0.3ms)
Completed 200 OK in 314ms (Views: 225.4ms | ActiveRecord: 55.6ms)


Started POST "/users" for ::1 at 2023-04-21 08:01:21 -0700
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"MMTn3jnSZq0HKOGWP9m5U4M6tJC/ef7mSG9BHj1XQ3/ENLohQZi0FLknANcpdVO34a9r9gtl1CdO2ZcMctstyg==", "user"=>{"full_name"=>"hello123", "email"=>"hello123@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "role"=>"0", "commit"=>"Sign up"}
Unpermitted parameter: :password_confirmation
  [1m[35m (4.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/dev/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.6/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Exists (3.7ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "hello123@gmail.com"], ["LIMIT", 1]]
  â†³ /Users/dev/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.6/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Create (3.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "full_name", "confirmation_token", "confirmation_sent_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "hello123@gmail.com"], ["encrypted_password", "$2a$12$g/QMfzUk22QQm.gpH.wSZeJcV0dk75LtpJt.TJiIQ78eRaVbm04pW"], ["full_name", "hello123"], ["confirmation_token", "_oCNFdg6nnJoFW17dWs8"], ["confirmation_sent_at", "2023-04-21 15:01:21.446843"], ["created_at", "2023-04-21 15:01:21.446725"], ["updated_at", "2023-04-21 15:01:21.446725"]]
  â†³ /Users/dev/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.6/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/dev/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.6/lib/active_record/log_subscriber.rb:98
  Rendering devise/mailer/confirmation_instructions.html.erb
  Rendered devise/mailer/confirmation_instructions.html.erb (0.5ms)
Devise::Mailer#confirmation_instructions: processed outbound mail in 132.3ms
Sent mail to hello123@gmail.com (136.9ms)
Date: Fri, 21 Apr 2023 08:01:21 -0700
From: please-change-me-at-config-initializers-devise@example.com
Reply-To: please-change-me-at-config-initializers-devise@example.com
To: hello123@gmail.com
Message-ID: <6442a5419c42c_b1a63fe46253a27476670@the-showdown.mail>
Subject: Confirmation instructions
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Welcome hello123@gmail.com!</p>

<p>You can confirm your account email through the link below:</p>

<p><a href="http://localhost:3000/users/confirmation?confirmation_token=_oCNFdg6nnJoFW17dWs8">Confirm my account</a></p>

  [1m[35m (16.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/concerns/load_cart.rb:37
Redirected to http://localhost:3000/
Completed 302 Found in 660ms (ActiveRecord: 43.1ms)


Started GET "/" for ::1 at 2023-04-21 08:01:21 -0700
Processing by ProductsController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:7
  Rendering products/index.html.erb within layouts/application
  [1m[35m (1.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" WHERE (user_id != 1)[0m
  â†³ app/views/products/index.html.erb:5
  Rendered products/index.html.erb within layouts/application (2.4ms)
  Rendered layouts/_header.html.erb (0.9ms)
  Rendered layouts/_alert.html.erb (0.2ms)
Completed 200 OK in 63ms (Views: 38.8ms | ActiveRecord: 4.9ms)


Started GET "/products/mine" for ::1 at 2023-04-21 08:01:23 -0700
Processing by ProductsController#mine as HTML
  [1m[36mUser Load (3.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:57
  Rendering products/mine.html.erb within layouts/application
  [1m[36mProduct Load (6.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (user_id = 1)[0m
  â†³ app/views/products/mine.html.erb:9
  Rendered products/mine.html.erb within layouts/application (7.4ms)
  Rendered layouts/_header.html.erb (0.8ms)
  Rendered layouts/_alert.html.erb (0.2ms)
Completed 200 OK in 73ms (Views: 55.0ms | ActiveRecord: 9.5ms)


Started GET "/products/mine" for ::1 at 2023-04-21 08:01:26 -0700
Processing by ProductsController#mine as HTML
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:57
  Rendering products/mine.html.erb within layouts/application
  [1m[36mProduct Load (12.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (user_id = 1)[0m
  â†³ app/views/products/mine.html.erb:9
  Rendered products/mine.html.erb within layouts/application (14.4ms)
  Rendered layouts/_header.html.erb (0.8ms)
  Rendered layouts/_alert.html.erb (0.2ms)
Completed 200 OK in 93ms (Views: 72.8ms | ActiveRecord: 13.3ms)


Started GET "/" for ::1 at 2023-04-21 08:01:37 -0700
Processing by ProductsController#index as HTML
  [1m[36mUser Load (20.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:7
  Rendering products/index.html.erb within layouts/application
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" WHERE (user_id != 1)[0m
  â†³ app/views/products/index.html.erb:5
  Rendered products/index.html.erb within layouts/application (2.1ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_alert.html.erb (0.3ms)
Completed 200 OK in 77ms (Views: 48.4ms | ActiveRecord: 21.1ms)


Started GET "/products/mine" for ::1 at 2023-04-21 08:01:38 -0700
Processing by ProductsController#mine as HTML
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:57
  Rendering products/mine.html.erb within layouts/application
  [1m[36mProduct Load (13.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (user_id = 1)[0m
  â†³ app/views/products/mine.html.erb:9
  Rendered products/mine.html.erb within layouts/application (19.3ms)
  Rendered layouts/_header.html.erb (0.8ms)
  Rendered layouts/_alert.html.erb (0.2ms)
Completed 200 OK in 75ms (Views: 53.7ms | ActiveRecord: 15.1ms)


  [1m[35m (3.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mUser Load (16.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (1.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Create (6.1ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "hello p"], ["description", "123123123123123123123"], ["user_id", 1], ["created_at", "2023-04-21 15:02:04.824913"], ["updated_at", "2023-04-21 15:02:04.824913"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Started GET "/products/mine" for ::1 at 2023-04-21 08:02:06 -0700
Processing by ProductsController#mine as HTML
  [1m[36mUser Load (2.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:57
  Rendering products/mine.html.erb within layouts/application
  [1m[36mProduct Load (3.9ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (user_id = 1)[0m
  â†³ app/views/products/mine.html.erb:9
  [1m[36mActiveStorage::Attachment Exists (14.7ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/mine.html.erb:12
  Rendered products/mine.html.erb within layouts/application (65.0ms)
  Rendered layouts/_header.html.erb (0.9ms)
  Rendered layouts/_alert.html.erb (0.2ms)
Completed 200 OK in 116ms (Views: 68.8ms | ActiveRecord: 43.7ms)


Started GET "/products/mine" for ::1 at 2023-04-21 08:02:11 -0700
Processing by ProductsController#mine as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:57
  Rendering products/mine.html.erb within layouts/application
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (user_id = 1)[0m
  â†³ app/views/products/mine.html.erb:9
  [1m[36mActiveStorage::Attachment Exists (1.5ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/mine.html.erb:12
  Rendered products/mine.html.erb within layouts/application (15.9ms)
  Rendered layouts/_header.html.erb (0.9ms)
  Rendered layouts/_alert.html.erb (0.3ms)
Completed 200 OK in 55ms (Views: 50.0ms | ActiveRecord: 2.8ms)


Started GET "/products/mine" for ::1 at 2023-04-21 08:07:15 -0700
  [1m[35m (25.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ /Users/dev/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.6/lib/active_record/log_subscriber.rb:98
DEPRECATION WARNING: 'include Pundit' is deprecated. Please use 'include Pundit::Authorization' instead.
 (called from include at /Users/dev/Documents/repos/ecommerceApp-main/app/controllers/concerns/authorizable.rb:7)
Processing by ProductsController#mine as HTML
  [1m[36mUser Load (11.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:57
  Rendering products/mine.html.erb within layouts/application
  [1m[36mProduct Load (2.9ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (user_id = 1)[0m
  â†³ app/views/products/mine.html.erb:9
  [1m[36mActiveStorage::Attachment Exists (4.0ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/mine.html.erb:13
  Rendered products/mine.html.erb within layouts/application (265.5ms)
  Rendered layouts/_header.html.erb (3.7ms)
  Rendered layouts/_alert.html.erb (0.2ms)
Completed 200 OK in 596ms (Views: 410.2ms | ActiveRecord: 141.4ms)


Started DELETE "/users/sign_out" for ::1 at 2023-04-21 08:07:25 -0700
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"AsmvDqmT/dvShygw4ZBz8tmBHDzJG4ooRhh37iFeSUymE3w4UjCluJWs8+EoS67kbGeVzsAHi2Os2hH9vjCpwA=="}
  [1m[36mUser Load (2.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ /Users/dev/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.6/lib/active_record/log_subscriber.rb:98
  [1m[35m (2.8ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/dev/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.6/lib/active_record/log_subscriber.rb:98
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/dev/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.6/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/
Completed 302 Found in 12ms (ActiveRecord: 6.7ms)


Started GET "/" for ::1 at 2023-04-21 08:07:26 -0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[35m (1.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  â†³ app/views/products/index.html.erb:6
  [1m[36mProduct Load (1.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/views/products/index.html.erb:7
  [1m[36mActiveStorage::Attachment Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/index.html.erb:11
  Rendered products/index.html.erb within layouts/application (5.7ms)
  Rendered layouts/_header.html.erb (1.5ms)
  Rendered layouts/_alert.html.erb (0.3ms)
Completed 200 OK in 69ms (Views: 59.7ms | ActiveRecord: 3.2ms)


Started GET "/users/sign_in" for ::1 at 2023-04-21 08:07:28 -0700
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (1.1ms)
  Rendered devise/sessions/new.html.erb within layouts/application (10.3ms)
  Rendered layouts/_header.html.erb (1.5ms)
  Rendered layouts/_alert.html.erb (0.2ms)
Completed 200 OK in 87ms (Views: 84.1ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for ::1 at 2023-04-21 08:07:30 -0700
Processing by Devise::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_error_messages.html.erb (0.7ms)
  Rendered devise/shared/_links.html.erb (1.3ms)
  Rendered devise/registrations/new.html.erb within layouts/application (8.1ms)
  Rendered layouts/_header.html.erb (1.1ms)
  Rendered layouts/_alert.html.erb (0.2ms)
Completed 200 OK in 54ms (Views: 52.1ms | ActiveRecord: 0.0ms)


Started POST "/users" for ::1 at 2023-04-21 08:07:45 -0700
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"ha05n7TrLvSn2p7EGqATZYBR+uubMSUDBOka3jPxatlxXWRgzKH8TRnVf4UMDPmB4sQljS8tD8ICX8zMfH0EbA==", "user"=>{"full_name"=>"hello12312", "email"=>"hello@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "role"=>"0", "commit"=>"Sign up"}
Unpermitted parameter: :password_confirmation
  [1m[35m (1.4ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/dev/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.6/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "hello@gmail.com"], ["LIMIT", 1]]
  â†³ /Users/dev/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.6/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Create (1.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "full_name", "confirmation_token", "confirmation_sent_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "hello@gmail.com"], ["encrypted_password", "$2a$12$B.aQYSgMSTDPX22E2s4chuouffDXYT0ZoLDCRu3mNX1h5O0GrsUyG"], ["full_name", "hello12312"], ["confirmation_token", "DbBCLmPvNx5dRKGMKiDz"], ["confirmation_sent_at", "2023-04-21 15:07:45.343766"], ["created_at", "2023-04-21 15:07:45.343670"], ["updated_at", "2023-04-21 15:07:45.343670"]]
  â†³ /Users/dev/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.6/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.8ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/dev/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.6/lib/active_record/log_subscriber.rb:98
  Rendering devise/mailer/confirmation_instructions.html.erb
  Rendered devise/mailer/confirmation_instructions.html.erb (0.5ms)
Devise::Mailer#confirmation_instructions: processed outbound mail in 134.1ms
Sent mail to hello@gmail.com (98.9ms)
Date: Fri, 21 Apr 2023 08:07:45 -0700
From: please-change-me-at-config-initializers-devise@example.com
Reply-To: please-change-me-at-config-initializers-devise@example.com
To: hello@gmail.com
Message-ID: <6442a6c1825be_86b83fd080bf4bf04872e@the-showdown.mail>
Subject: Confirmation instructions
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Welcome hello@gmail.com!</p>

<p>You can confirm your account email through the link below:</p>

<p><a href="http://localhost:3000/users/confirmation?confirmation_token=DbBCLmPvNx5dRKGMKiDz">Confirm my account</a></p>

  [1m[35m (1.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/controllers/concerns/load_cart.rb:37
Redirected to http://localhost:3000/
Completed 302 Found in 582ms (ActiveRecord: 11.1ms)


Started GET "/" for ::1 at 2023-04-21 08:07:45 -0700
Processing by ProductsController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:7
  Rendering products/index.html.erb within layouts/application
  [1m[35m (5.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" WHERE (user_id != 2)[0m
  â†³ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (user_id != 2)[0m
  â†³ app/views/products/index.html.erb:7
  [1m[36mActiveStorage::Attachment Exists (1.2ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/index.html.erb:11
  Rendered products/index.html.erb within layouts/application (9.0ms)
  Rendered layouts/_header.html.erb (0.9ms)
  Rendered layouts/_alert.html.erb (0.2ms)
Completed 200 OK in 48ms (Views: 37.6ms | ActiveRecord: 7.8ms)


Started GET "/products/1" for ::1 at 2023-04-21 08:07:47 -0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:68
  [1m[36mUser Load (3.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:69
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/policies/product_policy.rb:23
  Rendering products/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Exists (1.4ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:5
  Rendered cart_items/_form.html.erb (2.0ms)
  Rendered products/show.html.erb within layouts/application (11.9ms)
Completed 500 Internal Server Error in 61ms (ActiveRecord: 16.6ms)


  
ActionView::Template::Error (undefined method `comments' for #<Product:0x00007fa0f7fc21d8>
Did you mean?  committed!):
    44: <div class="row mt-5">
    45:   <div>
    46:     <h2>Comments</h2>
    47:     <% if @product.comments.count > 0 %>
    48:       <%= render @product.comments %>
    49:     <% else %>
    50:       <h5 class="text-center">No comment here</h5>
  
app/views/products/show.html.erb:47:in `_app_views_products_show_html_erb___958678122754204700_70163936441240'
Started GET "/products/1" for ::1 at 2023-04-21 08:08:06 -0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (5.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:68
  [1m[36mUser Load (25.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:69
  [1m[36mUser Load (24.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/policies/product_policy.rb:23
  Rendering products/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Exists (1.5ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:5
  Rendered cart_items/_form.html.erb (1.1ms)
  Rendered products/show.html.erb within layouts/application (5.1ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_alert.html.erb (0.2ms)
Completed 200 OK in 112ms (Views: 40.5ms | ActiveRecord: 56.4ms)


Started POST "/cart_items" for ::1 at 2023-04-21 08:08:08 -0700
Processing by CartItemsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"ZWbsFkEjUKhBZfuEqttnYGupB4bSR+h9RLeH6BlOmUbBvD8guoAIywZOIFVjALp23k+OdNtb6TaudeH7hiB5yg==", "cart_item"=>{"product_id"=>"1", "quantity"=>"1"}, "commit"=>"Add to cart"}
  [1m[36mUser Load (6.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cart_items_controller.rb:21
  [1m[36mCartItem Load (0.5ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."product_id" = $1 AND "cart_items"."user_id" = $2 LIMIT $3[0m  [["product_id", 1], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/helpers/cart_item_helper.rb:5
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/helpers/cart_item_helper.rb:5
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/helpers/cart_item_helper.rb:5
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/helpers/cart_item_helper.rb:5
  [1m[36mCartItem Create (3.0ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 2], ["product_id", 1], ["created_at", "2023-04-21 15:08:08.918035"], ["updated_at", "2023-04-21 15:08:08.918035"]]
  â†³ app/helpers/cart_item_helper.rb:5
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/helpers/cart_item_helper.rb:5
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/helpers/cart_item_helper.rb:12
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/helpers/cart_item_helper.rb:14
  [1m[36mCartItem Update (1.6ms)[0m  [1m[33mUPDATE "cart_items" SET "quantity" = $1, "updated_at" = $2 WHERE "cart_items"."id" = $3[0m  [["quantity", 1], ["updated_at", "2023-04-21 15:08:08.923385"], ["id", 1]]
  â†³ app/helpers/cart_item_helper.rb:14
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/helpers/cart_item_helper.rb:14
Redirected to http://localhost:3000/cart_items
Completed 302 Found in 29ms (ActiveRecord: 14.4ms)


Started GET "/cart_items" for ::1 at 2023-04-21 08:08:08 -0700
Processing by CartItemsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cart_items_controller.rb:7
  Rendering cart_items/index.html.erb within layouts/application
  [1m[35m (2.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:6
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:20
  [1m[36mCartItem Load (9.6ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:23
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:23
  [1m[36mActiveStorage::Attachment Exists (1.7ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:25
  Rendered cart_items/_quantity.html.erb (1.2ms)
  Rendered cart_items/index.html.erb within layouts/application (22.2ms)
  Rendered layouts/_header.html.erb (0.9ms)
  Rendered layouts/_alert.html.erb (0.2ms)
Completed 200 OK in 71ms (Views: 48.8ms | ActiveRecord: 14.9ms)


Started POST "/checkouts" for ::1 at 2023-04-21 08:08:12 -0700
Processing by CheckoutsController#create as JS
  Parameters: {"authenticity_token"=>"MG5OJ1lU/myw9tMAkFQGMwtsKW/VT9gtuNq7miHH1UOUtJ0RovemD/fdCNFZj9slvoqgndxT2WZSGN2Jvqk1zw=="}
  [1m[36mUser Load (7.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/checkouts_controller.rb:5
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/services/order_service.rb:13
  [1m[36mCartItem Load (0.5ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/services/order_service.rb:46
  [1m[36mProduct Load (1.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1[0m  [["id", 1]]
  â†³ app/services/order_service.rb:46
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/services/order_service.rb:13
Completed 500 Internal Server Error in 86ms (ActiveRecord: 51.9ms)


  
NoMethodError (undefined method `status' for #<Order:0x00007fa097f75280>):
  
app/services/order_service.rb:14:in `block in create!'
app/services/order_service.rb:13:in `create!'
app/controllers/checkouts_controller.rb:7:in `create'
Started GET "/cart_items" for ::1 at 2023-04-21 08:08:59 -0700
DEPRECATION WARNING: 'include Pundit' is deprecated. Please use 'include Pundit::Authorization' instead.
 (called from include at /Users/dev/Documents/repos/ecommerceApp-main/app/controllers/concerns/authorizable.rb:7)
Processing by CartItemsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cart_items_controller.rb:7
  Rendering cart_items/index.html.erb within layouts/application
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:6
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:20
  [1m[36mCartItem Load (13.6ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:23
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:23
  [1m[36mActiveStorage::Attachment Exists (1.7ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:25
  Rendered cart_items/_quantity.html.erb (1.7ms)
  Rendered cart_items/index.html.erb within layouts/application (99.5ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_alert.html.erb (0.2ms)
Completed 200 OK in 225ms (Views: 66.6ms | ActiveRecord: 143.0ms)


Started POST "/checkouts" for ::1 at 2023-04-21 08:09:01 -0700
Processing by CheckoutsController#create as JS
  Parameters: {"authenticity_token"=>"giD4s0E1CjOSVZj9Tf+dCTxq1AjzfvpD0XdHWV0rxAQm+iuFupZSUNV+QyyEJEAfiYxd+vpi+wg7tSFKwkUkiA=="}
  [1m[36mUser Load (9.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/checkouts_controller.rb:5
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/services/order_service.rb:13
  [1m[36mCartItem Load (0.5ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/services/order_service.rb:46
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1[0m  [["id", 1]]
  â†³ app/services/order_service.rb:46
  [1m[35m (0.9ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/services/order_service.rb:13
Completed 500 Internal Server Error in 74ms (ActiveRecord: 37.0ms)


  
NoMethodError (undefined method `status' for #<Order:0x00007fa0a0396d70>):
  
app/services/order_service.rb:14:in `block in create!'
app/services/order_service.rb:13:in `create!'
app/controllers/checkouts_controller.rb:7:in `create'
Started GET "/cart_items" for ::1 at 2023-04-21 08:09:10 -0700
DEPRECATION WARNING: 'include Pundit' is deprecated. Please use 'include Pundit::Authorization' instead.
 (called from include at /Users/dev/Documents/repos/ecommerceApp-main/app/controllers/concerns/authorizable.rb:7)
Processing by CartItemsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cart_items_controller.rb:7
  Rendering cart_items/index.html.erb within layouts/application
  [1m[35m (7.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:6
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:20
  [1m[36mCartItem Load (11.2ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:23
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:23
  [1m[36mActiveStorage::Attachment Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:25
  Rendered cart_items/_quantity.html.erb (1.5ms)
  Rendered cart_items/index.html.erb within layouts/application (154.3ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_alert.html.erb (0.4ms)
Completed 200 OK in 256ms (Views: 83.0ms | ActiveRecord: 159.5ms)


Started POST "/checkouts" for ::1 at 2023-04-21 08:09:11 -0700
Processing by CheckoutsController#create as JS
  Parameters: {"authenticity_token"=>"sGSAGKeapAeW0ybecs8zaxztuFd5rnCVqmkXen5ObYIUvlMuXDn8ZNH4/Q+7FO59qQsxpXCycd5Aq3Fp4SCNDg=="}
  [1m[36mUser Load (21.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/checkouts_controller.rb:5
  [1m[35m (0.9ms)[0m  [1m[35mBEGIN[0m
  â†³ app/services/order_service.rb:13
  [1m[36mCartItem Load (0.6ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/services/order_service.rb:47
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1[0m  [["id", 1]]
  â†³ app/services/order_service.rb:47
  [1m[35m (17.4ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/services/order_service.rb:13
Completed 500 Internal Server Error in 30058ms (ActiveRecord: 79.8ms)


  
SystemExit (exit):
  
(byebug):1:in `exit'
(byebug):1:in `block in create!'
app/services/order_service.rb:15:in `block in create!'
app/services/order_service.rb:13:in `create!'
app/controllers/checkouts_controller.rb:7:in `create'
Started GET "/cart_items" for ::1 at 2023-04-21 08:09:43 -0700
DEPRECATION WARNING: 'include Pundit' is deprecated. Please use 'include Pundit::Authorization' instead.
 (called from include at /Users/dev/Documents/repos/ecommerceApp-main/app/controllers/concerns/authorizable.rb:7)
Processing by CartItemsController#index as HTML
  [1m[36mUser Load (3.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cart_items_controller.rb:7
  Rendering cart_items/index.html.erb within layouts/application
  [1m[35m (1.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:6
  [1m[35mCACHE  (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:20
  [1m[36mCartItem Load (3.4ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:23
  [1m[36mProduct Load (4.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:23
  [1m[36mActiveStorage::Attachment Exists (1.5ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:25
  Rendered cart_items/_quantity.html.erb (21.4ms)
  Rendered cart_items/index.html.erb within layouts/application (375.5ms)
  Rendered layouts/_header.html.erb (17.1ms)
  Rendered layouts/_alert.html.erb (2.5ms)
Completed 200 OK in 1591ms (Views: 1288.7ms | ActiveRecord: 140.6ms)


Started POST "/checkouts" for ::1 at 2023-04-21 08:09:47 -0700
Processing by CheckoutsController#create as JS
  Parameters: {"authenticity_token"=>"/r17ABkkioaqBM26t2H4g6RMtOKiO9O07U35RLFQtItaZ6g24ofS5e0vFmt+uiWVEao9EKsn0v8Hj59XLj5UBw=="}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/checkouts_controller.rb:5
  [1m[35m (2.5ms)[0m  [1m[35mBEGIN[0m
  â†³ app/services/order_service.rb:13
  [1m[36mCartItem Load (0.4ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/services/order_service.rb:47
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1[0m  [["id", 1]]
  â†³ app/services/order_service.rb:47
  [1m[36mOrder Create (18.0ms)[0m  [1m[32mINSERT INTO "orders" ("amount_paid", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["amount_paid", "100.0"], ["user_id", 2], ["created_at", "2023-04-21 15:09:48.769061"], ["updated_at", "2023-04-21 15:09:48.769061"]]
  â†³ (byebug):1
  [1m[35m (2.5ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/services/order_service.rb:13
Completed 500 Internal Server Error in 3112ms (ActiveRecord: 51.5ms)


  
SystemExit (exit):
  
(byebug):1:in `exit'
(byebug):1:in `block in create!'
app/services/order_service.rb:15:in `block in create!'
app/services/order_service.rb:13:in `create!'
app/controllers/checkouts_controller.rb:7:in `create'
Started GET "/cart_items" for ::1 at 2023-04-21 08:09:56 -0700
Processing by CartItemsController#index as HTML
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cart_items_controller.rb:7
  Rendering cart_items/index.html.erb within layouts/application
  [1m[35m (2.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:6
  [1m[35mCACHE  (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:20
  [1m[36mCartItem Load (4.9ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:23
  [1m[36mProduct Load (1.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:23
  [1m[36mActiveStorage::Attachment Exists (1.6ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:25
  Rendered cart_items/_quantity.html.erb (26.3ms)
  Rendered cart_items/index.html.erb within layouts/application (129.1ms)
  Rendered layouts/_header.html.erb (18.8ms)
  Rendered layouts/_alert.html.erb (2.7ms)
Completed 200 OK in 1309ms (Views: 1268.0ms | ActiveRecord: 12.6ms)


Started GET "/cart_items" for ::1 at 2023-04-21 08:10:04 -0700
DEPRECATION WARNING: 'include Pundit' is deprecated. Please use 'include Pundit::Authorization' instead.
 (called from include at /Users/dev/Documents/repos/ecommerceApp-main/app/controllers/concerns/authorizable.rb:7)
Processing by CartItemsController#index as HTML
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cart_items_controller.rb:7
  Rendering cart_items/index.html.erb within layouts/application
  [1m[35m (14.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:6
  [1m[35mCACHE  (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:20
  [1m[36mCartItem Load (1.3ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:23
  [1m[36mProduct Load (7.8ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:23
  [1m[36mActiveStorage::Attachment Exists (9.3ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:25
  Rendered cart_items/_quantity.html.erb (31.0ms)
  Rendered cart_items/index.html.erb within layouts/application (503.5ms)
  Rendered layouts/_header.html.erb (15.0ms)
  Rendered layouts/_alert.html.erb (3.1ms)
Completed 200 OK in 2053ms (Views: 1672.9ms | ActiveRecord: 180.6ms)


Started POST "/checkouts" for ::1 at 2023-04-21 08:10:10 -0700
Processing by CheckoutsController#create as JS
  Parameters: {"authenticity_token"=>"g/naIJFHcDJO1KcC8510bLd5bXzHl3brxjgf/1IdSD8nIwkWauQoUQn/fNM6Rql6Ap/kjs6Ld6As+nnszXOosw=="}
  [1m[36mUser Load (2.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/checkouts_controller.rb:5
  [1m[35m (0.9ms)[0m  [1m[35mBEGIN[0m
  â†³ app/services/order_service.rb:13
  [1m[36mCartItem Load (3.7ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/services/order_service.rb:46
  [1m[36mProduct Load (1.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1[0m  [["id", 1]]
  â†³ app/services/order_service.rb:46
  [1m[36mOrder Create (7.3ms)[0m  [1m[32mINSERT INTO "orders" ("amount_paid", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["amount_paid", "100.0"], ["user_id", 2], ["created_at", "2023-04-21 15:10:10.601344"], ["updated_at", "2023-04-21 15:10:10.601344"]]
  â†³ app/services/order_service.rb:14
  [1m[36mOrderItem Create Many (10.0ms)[0m  [1m[32mINSERT INTO "order_items" ("product_id","price","quantity","order_id","created_at","updated_at") VALUES (1,100,1,2,'2023-04-21 15:10:10.701140','2023-04-21 15:10:10.701140') RETURNING "id"[0m
  â†³ app/services/order_service.rb:18
  [1m[36mProduct Create Many (2.1ms)[0m  [1m[32mINSERT INTO "products" ("id","name","description","price","quantity","user_id","created_at","updated_at") VALUES (1,'hello p','123123123123123123123',1.0,4,1,'2023-04-21 15:02:04.824913','2023-04-21 15:10:10.787519') ON CONFLICT (id) DO UPDATE SET "quantity"=EXCLUDED."quantity","updated_at"=EXCLUDED."updated_at"  RETURNING "id"[0m
  â†³ app/services/order_service.rb:68
  [1m[36mCartItem Destroy (9.9ms)[0m  [1m[31mDELETE FROM "cart_items" WHERE "cart_items"."id" = $1[0m  [["id", 1]]
  â†³ app/services/order_service.rb:22
  [1m[35m (1.5ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/services/order_service.rb:13
Completed 500 Internal Server Error in 490ms (ActiveRecord: 104.7ms)


  
NameError (uninitialized constant OrderService::Shipment):
  
app/services/order_service.rb:23:in `block in create!'
app/services/order_service.rb:13:in `create!'
app/controllers/checkouts_controller.rb:7:in `create'
Started GET "/cart_items" for ::1 at 2023-04-21 08:11:05 -0700
DEPRECATION WARNING: 'include Pundit' is deprecated. Please use 'include Pundit::Authorization' instead.
 (called from include at /Users/dev/Documents/repos/ecommerceApp-main/app/controllers/concerns/authorizable.rb:7)
Processing by CartItemsController#index as HTML
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cart_items_controller.rb:7
  Rendering cart_items/index.html.erb within layouts/application
  [1m[35m (16.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:6
  [1m[35mCACHE  (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:20
  [1m[36mCartItem Load (1.4ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:23
  [1m[36mProduct Load (5.6ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:23
  [1m[36mActiveStorage::Attachment Exists (2.4ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:25
  Rendered cart_items/_quantity.html.erb (26.7ms)
  Rendered cart_items/index.html.erb within layouts/application (460.5ms)
  Rendered layouts/_header.html.erb (15.1ms)
  Rendered layouts/_alert.html.erb (3.1ms)
Completed 200 OK in 2023ms (Views: 1651.9ms | ActiveRecord: 163.9ms)


Started POST "/checkouts" for ::1 at 2023-04-21 08:11:11 -0700
Processing by CheckoutsController#create as JS
  Parameters: {"authenticity_token"=>"AL2HM9/xbe5xsOenJhuxrPvgsJwMp9RyABCqLSDmsLykZ1QFJFI1jTabPHbvwGy6TgY5bgW71Tnq0sw+v4hQMA=="}
  [1m[36mUser Load (8.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/checkouts_controller.rb:5
  [1m[35m (7.8ms)[0m  [1m[35mBEGIN[0m
  â†³ app/services/order_service.rb:13
  [1m[36mCartItem Load (5.6ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/services/order_service.rb:46
  [1m[36mProduct Load (9.9ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1[0m  [["id", 1]]
  â†³ app/services/order_service.rb:46
  [1m[36mOrder Create (2.6ms)[0m  [1m[32mINSERT INTO "orders" ("amount_paid", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["amount_paid", "100.0"], ["user_id", 2], ["created_at", "2023-04-21 15:11:11.429783"], ["updated_at", "2023-04-21 15:11:11.429783"]]
  â†³ app/services/order_service.rb:14
  [1m[36mOrderItem Create Many (10.6ms)[0m  [1m[32mINSERT INTO "order_items" ("product_id","price","quantity","order_id","created_at","updated_at") VALUES (1,100,1,3,'2023-04-21 15:11:11.517746','2023-04-21 15:11:11.517746') RETURNING "id"[0m
  â†³ app/services/order_service.rb:18
  [1m[36mProduct Create Many (1.6ms)[0m  [1m[32mINSERT INTO "products" ("id","name","description","price","quantity","user_id","created_at","updated_at") VALUES (1,'hello p','123123123123123123123',1.0,4,1,'2023-04-21 15:02:04.824913','2023-04-21 15:11:11.604645') ON CONFLICT (id) DO UPDATE SET "quantity"=EXCLUDED."quantity","updated_at"=EXCLUDED."updated_at"  RETURNING "id"[0m
  â†³ app/services/order_service.rb:68
  [1m[36mCartItem Destroy (2.0ms)[0m  [1m[31mDELETE FROM "cart_items" WHERE "cart_items"."id" = $1[0m  [["id", 1]]
  â†³ app/services/order_service.rb:22
  [1m[35m (6.0ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/services/order_service.rb:13
  [1m[36mCartItem Load (1.7ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 11]]
  â†³ /Users/dev/.rvm/rubies/ruby-2.5.1/lib/ruby/gems/2.5.0/gems/did_you_mean-1.2.0/lib/did_you_mean/core_ext/name_error.rb:8
  [1m[36mProduct Load (1.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1[0m  [["id", 1]]
  â†³ /Users/dev/.rvm/rubies/ruby-2.5.1/lib/ruby/gems/2.5.0/gems/did_you_mean-1.2.0/lib/did_you_mean/core_ext/name_error.rb:8
  [1m[36mCACHE CartItem Load (0.2ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 11]]
  â†³ /Users/dev/.rvm/rubies/ruby-2.5.1/lib/ruby/gems/2.5.0/gems/did_you_mean-1.2.0/lib/did_you_mean/core_ext/name_error.rb:4
  [1m[36mCACHE Product Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1[0m  [["id", 1]]
  â†³ /Users/dev/.rvm/rubies/ruby-2.5.1/lib/ruby/gems/2.5.0/gems/did_you_mean-1.2.0/lib/did_you_mean/core_ext/name_error.rb:4
Completed 500 Internal Server Error in 889ms (ActiveRecord: 137.1ms)


  
  [1m[36mCACHE CartItem Load (0.2ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 11]]
  â†³ /Users/dev/.rvm/rubies/ruby-2.5.1/lib/ruby/gems/2.5.0/gems/did_you_mean-1.2.0/lib/did_you_mean/core_ext/name_error.rb:8
  [1m[36mCACHE Product Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1[0m  [["id", 1]]
  â†³ /Users/dev/.rvm/rubies/ruby-2.5.1/lib/ruby/gems/2.5.0/gems/did_you_mean-1.2.0/lib/did_you_mean/core_ext/name_error.rb:8
NameError (undefined local variable or method `current_user' for #<OrderService:0x00007fa0a40f7750>
Did you mean?  @current_user):
  
app/services/order_service.rb:23:in `block in create!'
app/services/order_service.rb:13:in `create!'
app/controllers/checkouts_controller.rb:7:in `create'
Started GET "/cart_items" for ::1 at 2023-04-21 08:11:21 -0700
DEPRECATION WARNING: 'include Pundit' is deprecated. Please use 'include Pundit::Authorization' instead.
 (called from include at /Users/dev/Documents/repos/ecommerceApp-main/app/controllers/concerns/authorizable.rb:7)
Processing by CartItemsController#index as HTML
  [1m[36mUser Load (7.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cart_items_controller.rb:7
  Rendering cart_items/index.html.erb within layouts/application
  [1m[35m (5.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:6
  [1m[35mCACHE  (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:20
  [1m[36mCartItem Load (6.0ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:23
  [1m[36mProduct Load (1.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:23
  [1m[36mActiveStorage::Attachment Exists (7.9ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:25
  Rendered cart_items/_quantity.html.erb (30.9ms)
  Rendered cart_items/index.html.erb within layouts/application (467.9ms)
  Rendered layouts/_header.html.erb (15.2ms)
  Rendered layouts/_alert.html.erb (3.2ms)
Completed 200 OK in 2025ms (Views: 1665.3ms | ActiveRecord: 151.8ms)


Started POST "/checkouts" for ::1 at 2023-04-21 08:11:27 -0700
Processing by CheckoutsController#create as JS
  Parameters: {"authenticity_token"=>"STqqiMCSb+1e+MD+ohBw8I5k6GZHuCXsfxqCk5Wo06Xt4Hm+OzE3jhnTGy9ry63mO4JhlE6kJKeV2OSACsYzKQ=="}
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/checkouts_controller.rb:5
  [1m[35m (1.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/services/order_service.rb:13
  [1m[36mCartItem Load (1.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/services/order_service.rb:46
  [1m[36mProduct Load (2.9ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1[0m  [["id", 1]]
  â†³ app/services/order_service.rb:46
  [1m[36mOrder Create (4.8ms)[0m  [1m[32mINSERT INTO "orders" ("amount_paid", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["amount_paid", "100.0"], ["user_id", 2], ["created_at", "2023-04-21 15:11:27.722670"], ["updated_at", "2023-04-21 15:11:27.722670"]]
  â†³ app/services/order_service.rb:14
  [1m[36mOrderItem Create Many (2.2ms)[0m  [1m[32mINSERT INTO "order_items" ("product_id","price","quantity","order_id","created_at","updated_at") VALUES (1,100,1,4,'2023-04-21 15:11:27.814360','2023-04-21 15:11:27.814360') RETURNING "id"[0m
  â†³ app/services/order_service.rb:18
  [1m[36mProduct Create Many (1.9ms)[0m  [1m[32mINSERT INTO "products" ("id","name","description","price","quantity","user_id","created_at","updated_at") VALUES (1,'hello p','123123123123123123123',1.0,4,1,'2023-04-21 15:02:04.824913','2023-04-21 15:11:27.893300') ON CONFLICT (id) DO UPDATE SET "quantity"=EXCLUDED."quantity","updated_at"=EXCLUDED."updated_at"  RETURNING "id"[0m
  â†³ app/services/order_service.rb:68
  [1m[36mCartItem Destroy (7.4ms)[0m  [1m[31mDELETE FROM "cart_items" WHERE "cart_items"."id" = $1[0m  [["id", 1]]
  â†³ app/services/order_service.rb:22
  [1m[36mShipment Create (8.4ms)[0m  [1m[32mINSERT INTO "shipments" ("user_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 2], ["order_id", 4], ["created_at", "2023-04-21 15:11:28.142951"], ["updated_at", "2023-04-21 15:11:28.142951"]]
  â†³ app/services/order_service.rb:23
  [1m[35m (6.4ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/services/order_service.rb:13
Completed 500 Internal Server Error in 682ms (ActiveRecord: 147.6ms)


  
ActiveRecord::NotNullViolation (PG::NotNullViolation: ERROR:  null value in column "shipping_address" violates not-null constraint
DETAIL:  Failing row contains (1, , null, null, null, 0, 2, 4, 2023-04-21 15:11:28.142951, 2023-04-21 15:11:28.142951).
: INSERT INTO "shipments" ("user_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"):
  
app/services/order_service.rb:23:in `block in create!'
app/services/order_service.rb:13:in `create!'
app/controllers/checkouts_controller.rb:7:in `create'
Started GET "/cart_items" for ::1 at 2023-04-21 08:11:58 -0700
  [1m[35m (1.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ /Users/dev/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.6/lib/active_record/log_subscriber.rb:98
Processing by CartItemsController#index as HTML
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cart_items_controller.rb:7
  Rendering cart_items/index.html.erb within layouts/application
  [1m[35m (23.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:6
  [1m[35mCACHE  (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:20
  [1m[36mCartItem Load (1.3ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:23
  [1m[36mProduct Load (1.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:23
  [1m[36mActiveStorage::Attachment Exists (7.6ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:25
  Rendered cart_items/_quantity.html.erb (29.5ms)
  Rendered cart_items/index.html.erb within layouts/application (173.7ms)
  Rendered layouts/_header.html.erb (21.2ms)
  Rendered layouts/_alert.html.erb (3.4ms)
Completed 200 OK in 1576ms (Views: 1504.3ms | ActiveRecord: 35.5ms)


  [1m[35m (7.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  â†³ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
  [1m[35m (2.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  â†³ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  â†³ bin/rails:9
  [1m[35m (155.8ms)[0m  [1m[35mDROP DATABASE IF EXISTS "dev"[0m
  â†³ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[35mDROP DATABASE IF EXISTS "dev"[0m
  â†³ bin/rails:9
  [1m[35m (155.6ms)[0m  [1m[35mCREATE DATABASE "dev" ENCODING = 'unicode'[0m
  â†³ bin/rails:9
  [1m[35m (0.9ms)[0m  [1m[35mCREATE DATABASE "dev" ENCODING = 'unicode'[0m
  â†³ bin/rails:9
  [1m[35m (4.5ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  â†³ bin/rails:9
  [1m[35m (4.7ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  â†³ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(601276535802311985)[0m
  â†³ bin/rails:9
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
Migrating to DeviseCreateUsers (20230131165958)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:9
  [1m[35m (4.3ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "full_name" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "confirmation_token" character varying, "confirmed_at" timestamp, "confirmation_sent_at" timestamp, "unconfirmed_email" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  â†³ db/migrate/20230131165958_devise_create_users.rb:5
  [1m[35m (1.2ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_email" ON "users"  ("email")[0m
  â†³ db/migrate/20230131165958_devise_create_users.rb:39
  [1m[35m (1.0ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users"  ("reset_password_token")[0m
  â†³ db/migrate/20230131165958_devise_create_users.rb:40
  [1m[35m (0.8ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_confirmation_token" ON "users"  ("confirmation_token")[0m
  â†³ db/migrate/20230131165958_devise_create_users.rb:41
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230131165958"]]
  â†³ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:9
Migrating to CreateProducts (20230131175123)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:9
  [1m[35m (4.2ms)[0m  [1m[35mCREATE TABLE "products" ("id" bigserial primary key, "name" character varying DEFAULT '' NOT NULL, "description" text DEFAULT '' NOT NULL, "price" decimal DEFAULT 1 NOT NULL, "quantity" integer DEFAULT 5 NOT NULL, "user_id" bigint NOT NULL, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_dee2631783"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  â†³ db/migrate/20230131175123_create_products.rb:5
  [1m[35m (0.5ms)[0m  [1m[35mCREATE  INDEX  "index_products_on_user_id" ON "products"  ("user_id")[0m
  â†³ db/migrate/20230131175123_create_products.rb:5
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230131175123"]]
  â†³ bin/rails:9
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:9
Migrating to CreateCartItems (20230201035448)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:9
  [1m[35m (2.9ms)[0m  [1m[35mCREATE TABLE "cart_items" ("id" bigserial primary key, "quantity" integer DEFAULT 0 NOT NULL, "user_id" bigint NOT NULL, "product_id" bigint NOT NULL, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_fcb2cbf0bc"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_681a180e84"
FOREIGN KEY ("product_id")
  REFERENCES "products" ("id")
)[0m
  â†³ db/migrate/20230201035448_create_cart_items.rb:5
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_cart_items_on_user_id" ON "cart_items"  ("user_id")[0m
  â†³ db/migrate/20230201035448_create_cart_items.rb:5
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_cart_items_on_product_id" ON "cart_items"  ("product_id")[0m
  â†³ db/migrate/20230201035448_create_cart_items.rb:5
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230201035448"]]
  â†³ bin/rails:9
  [1m[35m (4.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:9
Migrating to CreateOrders (20230201035610)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:9
  [1m[35m (3.1ms)[0m  [1m[35mCREATE TABLE "orders" ("id" bigserial primary key, "amount_paid" decimal DEFAULT 0 NOT NULL, "user_id" bigint NOT NULL, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_f868b47f6a"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  â†³ db/migrate/20230201035610_create_orders.rb:5
  [1m[35m (0.5ms)[0m  [1m[35mCREATE  INDEX  "index_orders_on_user_id" ON "orders"  ("user_id")[0m
  â†³ db/migrate/20230201035610_create_orders.rb:5
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230201035610"]]
  â†³ bin/rails:9
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:9
Migrating to CreateOrderItems (20230201035703)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:9
  [1m[35m (3.8ms)[0m  [1m[35mCREATE TABLE "order_items" ("id" bigserial primary key, "price" decimal DEFAULT 1 NOT NULL, "quantity" integer DEFAULT 1 NOT NULL, "product_id" bigint NOT NULL, "order_id" bigint NOT NULL, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_f1a29ddd47"
FOREIGN KEY ("product_id")
  REFERENCES "products" ("id")
, CONSTRAINT "fk_rails_e3cb28f071"
FOREIGN KEY ("order_id")
  REFERENCES "orders" ("id")
)[0m
  â†³ db/migrate/20230201035703_create_order_items.rb:5
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_order_items_on_product_id" ON "order_items"  ("product_id")[0m
  â†³ db/migrate/20230201035703_create_order_items.rb:5
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_order_items_on_order_id" ON "order_items"  ("order_id")[0m
  â†³ db/migrate/20230201035703_create_order_items.rb:5
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230201035703"]]
  â†³ bin/rails:9
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:9
Migrating to CreateActiveStorageTables (20230201074401)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:9
  [1m[35m (2.5ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" bigserial primary key, "key" character varying NOT NULL, "filename" character varying NOT NULL, "content_type" character varying, "metadata" text, "byte_size" bigint NOT NULL, "checksum" character varying NOT NULL, "created_at" timestamp NOT NULL)[0m
  â†³ db/migrate/20230201074401_create_active_storage_tables.active_storage.rb:6
  [1m[35m (0.4ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_active_storage_blobs_on_key" ON "active_storage_blobs"  ("key")[0m
  â†³ db/migrate/20230201074401_create_active_storage_tables.active_storage.rb:6
  [1m[35m (2.3ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" bigserial primary key, "name" character varying NOT NULL, "record_type" character varying NOT NULL, "record_id" bigint NOT NULL, "blob_id" bigint NOT NULL, "created_at" timestamp NOT NULL, CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  â†³ db/migrate/20230201074401_create_active_storage_tables.active_storage.rb:18
  [1m[35m (0.4ms)[0m  [1m[35mCREATE  INDEX  "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments"  ("blob_id")[0m
  â†³ db/migrate/20230201074401_create_active_storage_tables.active_storage.rb:18
  [1m[35m (0.6ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_active_storage_attachments_uniqueness" ON "active_storage_attachments"  ("record_type", "record_id", "name", "blob_id")[0m
  â†³ db/migrate/20230201074401_create_active_storage_tables.active_storage.rb:18
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230201074401"]]
  â†³ bin/rails:9
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:9
Migrating to CreateShippingDetails (20230421141558)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:9
  [1m[35m (3.9ms)[0m  [1m[35mCREATE TABLE "shipments" ("id" bigserial primary key, "customer_name" character varying DEFAULT '' NOT NULL, "shipping_address" character varying DEFAULT '' NOT NULL, "phone_number" character varying DEFAULT '' NOT NULL, "payment_method" character varying DEFAULT '' NOT NULL, "status" integer DEFAULT 0 NOT NULL, "user_id" bigint NOT NULL, "order_id" bigint NOT NULL, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_71a7b88fec"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_9892d6a938"
FOREIGN KEY ("order_id")
  REFERENCES "orders" ("id")
)[0m
  â†³ db/migrate/20230421141558_create_shipping_details.rb:3
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_shipments_on_user_id" ON "shipments"  ("user_id")[0m
  â†³ db/migrate/20230421141558_create_shipping_details.rb:3
  [1m[35m (0.5ms)[0m  [1m[35mCREATE  INDEX  "index_shipments_on_order_id" ON "shipments"  ("order_id")[0m
  â†³ db/migrate/20230421141558_create_shipping_details.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230421141558"]]
  â†³ bin/rails:9
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:9
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  â†³ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:9
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-04-21 15:12:20.440646"], ["updated_at", "2023-04-21 15:12:20.440646"]]
  â†³ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(601276535802311985)[0m
  â†³ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
DEPRECATION WARNING: 'include Pundit' is deprecated. Please use 'include Pundit::Authorization' instead.
 (called from include at /Users/dev/Documents/repos/ecommerceApp-main/app/controllers/concerns/authorizable.rb:7)
  [1m[36mUser Load (2.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (2.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (1.8ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "123@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "123@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (3.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "full_name", "confirmation_token", "confirmation_sent_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "123@gmail.com"], ["encrypted_password", "$2a$12$73ujjrUCjkAkt6hohph.4eBCjGtsXxNVJrsBJUhGvekUGCbxQRbfi"], ["full_name", "12123123"], ["confirmation_token", "8KCDszbWCctCVyeMJD_S"], ["confirmation_sent_at", "2023-04-21 15:13:02.615767"], ["created_at", "2023-04-21 15:13:02.615419"], ["updated_at", "2023-04-21 15:13:02.615419"]]
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  Rendering devise/mailer/confirmation_instructions.html.erb
  Rendered devise/mailer/confirmation_instructions.html.erb (1.7ms)
Devise::Mailer#confirmation_instructions: processed outbound mail in 144.6ms
Sent mail to 123@gmail.com (105.9ms)
Date: Fri, 21 Apr 2023 08:13:02 -0700
From: please-change-me-at-config-initializers-devise@example.com
Reply-To: please-change-me-at-config-initializers-devise@example.com
To: 123@gmail.com
Message-ID: <6442a7feccfea_179e3ff661836e301873f@the-showdown.mail>
Subject: Confirmation instructions
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Welcome 123@gmail.com!</p>

<p>You can confirm your account email through the link below:</p>

<p><a href="http://localhost:3000/users/confirmation?confirmation_token=8KCDszbWCctCVyeMJD_S">Confirm my account</a></p>

  [1m[35m (5.8ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "1234@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (1.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "full_name", "confirmation_token", "confirmation_sent_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "1234@gmail.com"], ["encrypted_password", "$2a$12$.Ktufo//I5p0Zpx6GIeBa.Qb5y76EWhhsTr2Z/hElH5KZjSOr7VYK"], ["full_name", "121231234"], ["confirmation_token", "upLSXBdbfd_EUwGS1v4m"], ["confirmation_sent_at", "2023-04-21 15:13:15.750183"], ["created_at", "2023-04-21 15:13:15.749905"], ["updated_at", "2023-04-21 15:13:15.749905"]]
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
  Rendering devise/mailer/confirmation_instructions.html.erb
  Rendered devise/mailer/confirmation_instructions.html.erb (0.3ms)
Devise::Mailer#confirmation_instructions: processed outbound mail in 40.8ms
Sent mail to 1234@gmail.com (5.0ms)
Date: Fri, 21 Apr 2023 08:13:15 -0700
From: please-change-me-at-config-initializers-devise@example.com
Reply-To: please-change-me-at-config-initializers-devise@example.com
To: 1234@gmail.com
Message-ID: <6442a80bc2438_179e3ff661836e3018899@the-showdown.mail>
Subject: Confirmation instructions
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Welcome 1234@gmail.com!</p>

<p>You can confirm your account email through the link below:</p>

<p><a href="http://localhost:3000/users/confirmation?confirmation_token=upLSXBdbfd_EUwGS1v4m">Confirm my account</a></p>

  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (13.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Create (3.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "hello"], ["description", "12312312312321"], ["user_id", 1], ["created_at", "2023-04-21 15:13:43.593588"], ["updated_at", "2023-04-21 15:13:43.593588"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Started GET "/cart_items" for ::1 at 2023-04-21 08:13:56 -0700
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ /Users/dev/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.6/lib/active_record/log_subscriber.rb:98
DEPRECATION WARNING: 'include Pundit' is deprecated. Please use 'include Pundit::Authorization' instead.
 (called from include at /Users/dev/Documents/repos/ecommerceApp-main/app/controllers/concerns/authorizable.rb:7)
Processing by CartItemsController#index as HTML
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cart_items_controller.rb:7
  Rendering cart_items/index.html.erb within layouts/application
  Rendered cart_items/index.html.erb within layouts/application (1.1ms)
  Rendered layouts/_header.html.erb (5.4ms)
  Rendered layouts/_alert.html.erb (0.3ms)
Completed 200 OK in 284ms (Views: 242.9ms | ActiveRecord: 24.0ms)


Started GET "/users/sign_in" for ::1 at 2023-04-21 08:13:58 -0700
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (0.7ms)
  Rendered devise/sessions/new.html.erb within layouts/application (129.3ms)
  Rendered layouts/_header.html.erb (1.1ms)
  Rendered layouts/_alert.html.erb (0.2ms)
Completed 200 OK in 179ms (Views: 175.8ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for ::1 at 2023-04-21 08:14:07 -0700
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"eNID6ydly7BlP5jK4OWeN28l1yGPz6RlSx1BYrHo45VxXeQWsC1KWyPSqeZBqn1yHaKBPWG67HNg8ayJ1mbrxg==", "user"=>{"email"=>"1234@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (4.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "1234@gmail.com"], ["LIMIT", 1]]
  â†³ /Users/dev/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.6/lib/active_record/log_subscriber.rb:98
  [1m[35m (14.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/controllers/concerns/load_cart.rb:37
Redirected to http://localhost:3000/
Completed 302 Found in 313ms (ActiveRecord: 30.5ms)


Started GET "/" for ::1 at 2023-04-21 08:14:08 -0700
Processing by ProductsController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:7
  Rendering products/index.html.erb within layouts/application
  [1m[35m (1.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" WHERE (user_id != 2)[0m
  â†³ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (user_id != 2)[0m
  â†³ app/views/products/index.html.erb:7
  [1m[36mActiveStorage::Attachment Exists (23.8ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/index.html.erb:11
  Rendered products/index.html.erb within layouts/application (75.4ms)
  Rendered layouts/_header.html.erb (0.9ms)
  Rendered layouts/_alert.html.erb (0.2ms)
Completed 200 OK in 117ms (Views: 48.6ms | ActiveRecord: 62.7ms)


Started GET "/products/1" for ::1 at 2023-04-21 08:14:09 -0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:68
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:69
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/policies/product_policy.rb:23
  Rendering products/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Exists (4.8ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:5
  Rendered cart_items/_form.html.erb (1.9ms)
  Rendered products/show.html.erb within layouts/application (9.7ms)
  Rendered layouts/_header.html.erb (1.2ms)
  Rendered layouts/_alert.html.erb (0.3ms)
Completed 200 OK in 100ms (Views: 40.5ms | ActiveRecord: 17.7ms)


Started POST "/cart_items" for ::1 at 2023-04-21 08:14:10 -0700
Processing by CartItemsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"P7d4GqxvWBJYCaQfTjS/OtCxomeXCVjSYBV4u4Mj9actaYQ0KtqGW2fJg/RmEyQkZ5VZgNzuKpfpkdzI1xs55w==", "cart_item"=>{"product_id"=>"1", "quantity"=>"1"}, "commit"=>"Add to cart"}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cart_items_controller.rb:21
  [1m[36mCartItem Load (0.5ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."product_id" = $1 AND "cart_items"."user_id" = $2 LIMIT $3[0m  [["product_id", 1], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/helpers/cart_item_helper.rb:5
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/helpers/cart_item_helper.rb:5
  [1m[36mUser Load (3.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/helpers/cart_item_helper.rb:5
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/helpers/cart_item_helper.rb:5
  [1m[36mCartItem Create (14.2ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 2], ["product_id", 1], ["created_at", "2023-04-21 15:14:10.924941"], ["updated_at", "2023-04-21 15:14:10.924941"]]
  â†³ app/helpers/cart_item_helper.rb:5
  [1m[35m (7.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/helpers/cart_item_helper.rb:5
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/helpers/cart_item_helper.rb:12
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/helpers/cart_item_helper.rb:14
  [1m[36mCartItem Update (4.4ms)[0m  [1m[33mUPDATE "cart_items" SET "quantity" = $1, "updated_at" = $2 WHERE "cart_items"."id" = $3[0m  [["quantity", 1], ["updated_at", "2023-04-21 15:14:10.952460"], ["id", 1]]
  â†³ app/helpers/cart_item_helper.rb:14
  [1m[35m (3.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/helpers/cart_item_helper.rb:14
Redirected to http://localhost:3000/cart_items
Completed 302 Found in 63ms (ActiveRecord: 35.9ms)


Started GET "/cart_items" for ::1 at 2023-04-21 08:14:10 -0700
Processing by CartItemsController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cart_items_controller.rb:7
  Rendering cart_items/index.html.erb within layouts/application
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:6
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:20
  [1m[36mCartItem Load (0.8ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:23
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:23
  [1m[36mActiveStorage::Attachment Exists (1.5ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:25
  Rendered cart_items/_quantity.html.erb (1.2ms)
  Rendered cart_items/index.html.erb within layouts/application (10.8ms)
  Rendered layouts/_header.html.erb (0.9ms)
  Rendered layouts/_alert.html.erb (0.2ms)
Completed 200 OK in 56ms (Views: 46.2ms | ActiveRecord: 4.6ms)


Started POST "/checkouts" for ::1 at 2023-04-21 08:14:12 -0700
Processing by CheckoutsController#create as JS
  Parameters: {"authenticity_token"=>"cSh3OzTParbD3es6aJfCypdBF9h4cRAePd5jurncDIJGd/5kRrTrg4c/UmWVWpB3U/j1Bnrn4S2WqkimTSmHKw=="}
  [1m[36mUser Load (3.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/checkouts_controller.rb:5
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/services/order_service.rb:13
  [1m[36mCartItem Load (2.5ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/services/order_service.rb:46
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1[0m  [["id", 1]]
  â†³ app/services/order_service.rb:46
  [1m[36mOrder Create (6.7ms)[0m  [1m[32mINSERT INTO "orders" ("amount_paid", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["amount_paid", "100.0"], ["user_id", 2], ["created_at", "2023-04-21 15:14:12.617361"], ["updated_at", "2023-04-21 15:14:12.617361"]]
  â†³ app/services/order_service.rb:14
  [1m[36mOrderItem Create Many (5.3ms)[0m  [1m[32mINSERT INTO "order_items" ("product_id","price","quantity","order_id","created_at","updated_at") VALUES (1,100,1,1,'2023-04-21 15:14:12.698905','2023-04-21 15:14:12.698905') RETURNING "id"[0m
  â†³ app/services/order_service.rb:18
  [1m[36mProduct Create Many (1.0ms)[0m  [1m[32mINSERT INTO "products" ("id","name","description","price","quantity","user_id","created_at","updated_at") VALUES (1,'hello','12312312312321',1.0,4,1,'2023-04-21 15:13:43.593588','2023-04-21 15:14:12.713756') ON CONFLICT (id) DO UPDATE SET "quantity"=EXCLUDED."quantity","updated_at"=EXCLUDED."updated_at"  RETURNING "id"[0m
  â†³ app/services/order_service.rb:68
  [1m[36mCartItem Destroy (0.8ms)[0m  [1m[31mDELETE FROM "cart_items" WHERE "cart_items"."id" = $1[0m  [["id", 1]]
  â†³ app/services/order_service.rb:22
  [1m[36mShipment Create (5.8ms)[0m  [1m[32mINSERT INTO "shipments" ("user_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 2], ["order_id", 1], ["created_at", "2023-04-21 15:14:12.759067"], ["updated_at", "2023-04-21 15:14:12.759067"]]
  â†³ app/services/order_service.rb:23
  [1m[35m (0.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/services/order_service.rb:13
Redirected to http://localhost:3000/shipments/1
Completed 200 OK in 197ms (ActiveRecord: 143.0ms)


Started GET "/shipments/1" for ::1 at 2023-04-21 08:14:12 -0700
Processing by ShipmentsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mShipment Load (0.8ms)[0m  [1m[34mSELECT  "shipments".* FROM "shipments" WHERE "shipments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/shipments_controller.rb:15
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/shipments_controller.rb:15
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 1]]
  â†³ app/controllers/shipments_controller.rb:15
  Rendering shipments/show.html.erb within layouts/application
  Rendered shipments/show.html.erb within layouts/application (19.0ms)
  [1m[36mUser Load (12.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/layouts/_header.html.erb:24
  Rendered layouts/_header.html.erb (14.7ms)
  Rendered layouts/_alert.html.erb (0.3ms)
Completed 200 OK in 80ms (Views: 62.2ms | ActiveRecord: 14.1ms)


Started PATCH "/shipments/1" for ::1 at 2023-04-21 08:14:26 -0700
Processing by ShipmentsController#update as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"3TP0OmPg8B8xnQIAAkm1VjX7SqPUSpwZ7CrpdKuvqUlbHkVuo+SGOvnvwpCGmN0RVazjGKOP6T/r6yZLiJ7pyA==", "shipment"=>{"customer_name"=>"", "shipping_address"=>"", "phone_number"=>"", "payment_method"=>"", "status"=>"", "user_id"=>"2", "order_id"=>"1"}, "commit"=>"Update Shipment", "id"=>"1"}
  [1m[36mShipment Load (25.2ms)[0m  [1m[34mSELECT  "shipments".* FROM "shipments" WHERE "shipments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/shipments_controller.rb:15
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/shipments_controller.rb:15
  [1m[36mOrder Load (1.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 1]]
  â†³ app/controllers/shipments_controller.rb:15
No template found for ShipmentsController#update, rendering head :no_content
Completed 204 No Content in 122ms (ActiveRecord: 27.8ms)


Started GET "/shipments/1" for ::1 at 2023-04-21 08:15:07 -0700
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ /Users/dev/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.6/lib/active_record/log_subscriber.rb:98
Processing by ShipmentsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mShipment Load (1.0ms)[0m  [1m[34mSELECT  "shipments".* FROM "shipments" WHERE "shipments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/shipments_controller.rb:15
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/shipments_controller.rb:15
  [1m[36mOrder Load (1.0ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 1]]
  â†³ app/controllers/shipments_controller.rb:15
  Rendering shipments/show.html.erb within layouts/application
  Rendered shipments/show.html.erb within layouts/application (5.1ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/layouts/_header.html.erb:24
  Rendered layouts/_header.html.erb (2.3ms)
  Rendered layouts/_alert.html.erb (0.2ms)
Completed 200 OK in 58ms (Views: 47.7ms | ActiveRecord: 2.9ms)


Started GET "/" for ::1 at 2023-04-21 08:16:36 -0700
Processing by ProductsController#index as HTML
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:7
  Rendering products/index.html.erb within layouts/application
  [1m[35m (1.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" WHERE (user_id != 2)[0m
  â†³ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (user_id != 2)[0m
  â†³ app/views/products/index.html.erb:7
  [1m[36mActiveStorage::Attachment Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/index.html.erb:11
  Rendered products/index.html.erb within layouts/application (7.1ms)
  Rendered layouts/_header.html.erb (1.6ms)
  Rendered layouts/_alert.html.erb (0.3ms)
Completed 200 OK in 77ms (Views: 61.7ms | ActiveRecord: 3.5ms)


Started GET "/products/1" for ::1 at 2023-04-21 08:16:38 -0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:68
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:69
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/policies/product_policy.rb:23
  Rendering products/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:5
  Rendered cart_items/_form.html.erb (3.9ms)
  Rendered products/show.html.erb within layouts/application (14.6ms)
  Rendered layouts/_header.html.erb (1.1ms)
  Rendered layouts/_alert.html.erb (0.3ms)
Completed 200 OK in 84ms (Views: 70.8ms | ActiveRecord: 4.1ms)


Started POST "/cart_items" for ::1 at 2023-04-21 08:16:39 -0700
Processing by CartItemsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"f4K+tFIJahcecrF0epTMglOoB8bMi0dh4d5PWEEBFGJtXEKa1Ly0XiGylp9Ss1ec5Iz8IYdsNSRoWusrFTnYIg==", "cart_item"=>{"product_id"=>"1", "quantity"=>"1"}, "commit"=>"Add to cart"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cart_items_controller.rb:21
  [1m[36mCartItem Load (9.9ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."product_id" = $1 AND "cart_items"."user_id" = $2 LIMIT $3[0m  [["product_id", 1], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/helpers/cart_item_helper.rb:5
  [1m[35m (17.8ms)[0m  [1m[35mBEGIN[0m
  â†³ app/helpers/cart_item_helper.rb:5
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/helpers/cart_item_helper.rb:5
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/helpers/cart_item_helper.rb:5
  [1m[36mCartItem Create (5.8ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 2], ["product_id", 1], ["created_at", "2023-04-21 15:16:39.249857"], ["updated_at", "2023-04-21 15:16:39.249857"]]
  â†³ app/helpers/cart_item_helper.rb:5
  [1m[35m (2.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/helpers/cart_item_helper.rb:5
  [1m[36mProduct Load (11.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/helpers/cart_item_helper.rb:12
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/helpers/cart_item_helper.rb:14
  [1m[36mCartItem Update (4.4ms)[0m  [1m[33mUPDATE "cart_items" SET "quantity" = $1, "updated_at" = $2 WHERE "cart_items"."id" = $3[0m  [["quantity", 1], ["updated_at", "2023-04-21 15:16:39.275856"], ["id", 2]]
  â†³ app/helpers/cart_item_helper.rb:14
  [1m[35m (5.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/helpers/cart_item_helper.rb:14
Redirected to http://localhost:3000/cart_items
Completed 302 Found in 145ms (ActiveRecord: 58.6ms)


Started GET "/cart_items" for ::1 at 2023-04-21 08:16:39 -0700
Processing by CartItemsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cart_items_controller.rb:7
  Rendering cart_items/index.html.erb within layouts/application
  [1m[35m (1.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:6
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:20
  [1m[36mCartItem Load (0.4ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:23
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:23
  [1m[36mActiveStorage::Attachment Exists (1.2ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:25
  Rendered cart_items/_quantity.html.erb (4.0ms)
  Rendered cart_items/index.html.erb within layouts/application (14.4ms)
  Rendered layouts/_header.html.erb (0.9ms)
  Rendered layouts/_alert.html.erb (0.2ms)
Completed 200 OK in 71ms (Views: 63.5ms | ActiveRecord: 4.3ms)


Started POST "/checkouts" for ::1 at 2023-04-21 08:16:40 -0700
Processing by CheckoutsController#create as JS
  Parameters: {"authenticity_token"=>"gaLeFvAgdiZDhhxfPr1foDfr6zYIN0z2YBZIt5IsD0S2/VdJglv3EwdkpQDDcA0d81IJ6AqhvcXLYmOrZtmE7Q=="}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/checkouts_controller.rb:5
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/services/order_service.rb:13
  [1m[36mCartItem Load (0.5ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/services/order_service.rb:46
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1[0m  [["id", 1]]
  â†³ app/services/order_service.rb:46
  [1m[36mOrder Create (5.8ms)[0m  [1m[32mINSERT INTO "orders" ("amount_paid", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["amount_paid", "100.0"], ["user_id", 2], ["created_at", "2023-04-21 15:16:40.787658"], ["updated_at", "2023-04-21 15:16:40.787658"]]
  â†³ app/services/order_service.rb:14
  [1m[36mOrderItem Create Many (6.3ms)[0m  [1m[32mINSERT INTO "order_items" ("product_id","price","quantity","order_id","created_at","updated_at") VALUES (1,100,1,2,'2023-04-21 15:16:40.795874','2023-04-21 15:16:40.795874') RETURNING "id"[0m
  â†³ app/services/order_service.rb:18
  [1m[36mProduct Create Many (5.3ms)[0m  [1m[32mINSERT INTO "products" ("id","name","description","price","quantity","user_id","created_at","updated_at") VALUES (1,'hello','12312312312321',1.0,3,1,'2023-04-21 15:13:43.593588','2023-04-21 15:16:40.804546') ON CONFLICT (id) DO UPDATE SET "quantity"=EXCLUDED."quantity","updated_at"=EXCLUDED."updated_at"  RETURNING "id"[0m
  â†³ app/services/order_service.rb:68
  [1m[36mCartItem Destroy (0.8ms)[0m  [1m[31mDELETE FROM "cart_items" WHERE "cart_items"."id" = $1[0m  [["id", 2]]
  â†³ app/services/order_service.rb:22
  [1m[36mShipment Create (4.2ms)[0m  [1m[32mINSERT INTO "shipments" ("user_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 2], ["order_id", 2], ["created_at", "2023-04-21 15:16:40.817032"], ["updated_at", "2023-04-21 15:16:40.817032"]]
  â†³ app/services/order_service.rb:23
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/services/order_service.rb:13
Redirected to http://localhost:3000/shipments/2
Completed 200 OK in 58ms (ActiveRecord: 25.3ms)


Started GET "/shipments/2" for ::1 at 2023-04-21 08:16:40 -0700
Processing by ShipmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mShipment Load (1.7ms)[0m  [1m[34mSELECT  "shipments".* FROM "shipments" WHERE "shipments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/shipments_controller.rb:15
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/shipments_controller.rb:15
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/shipments_controller.rb:15
  Rendering shipments/show.html.erb within layouts/application
  Rendered shipments/show.html.erb within layouts/application (17.6ms)
  [1m[36mUser Load (5.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/layouts/_header.html.erb:24
  Rendered layouts/_header.html.erb (7.2ms)
  Rendered layouts/_alert.html.erb (0.2ms)
Completed 200 OK in 95ms (Views: 71.1ms | ActiveRecord: 8.0ms)


Started GET "/shipments/2" for ::1 at 2023-04-21 08:19:36 -0700
DEPRECATION WARNING: 'include Pundit' is deprecated. Please use 'include Pundit::Authorization' instead.
 (called from include at /Users/dev/Documents/repos/ecommerceApp-main/app/controllers/concerns/authorizable.rb:7)
Processing by ShipmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mShipment Load (0.4ms)[0m  [1m[34mSELECT  "shipments".* FROM "shipments" WHERE "shipments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/shipments_controller.rb:15
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/shipments_controller.rb:15
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/shipments_controller.rb:15
  Rendering shipments/show.html.erb within layouts/application
  Rendered shipments/show.html.erb within layouts/application (0.6ms)
Completed 500 Internal Server Error in 148ms (ActiveRecord: 117.0ms)


  
SyntaxError (/Users/dev/Documents/repos/ecommerceApp-main/app/views/shipments/show.html.erb:5: syntax error, unexpected ',', expecting '}'
...ent_method}"), payment_method], include_blank: false, input_...
...                              ^
/Users/dev/Documents/repos/ecommerceApp-main/app/views/shipments/show.html.erb:5: Can't assign to false
..._method], include_blank: false, input_html: { class: 'form-c...
...                              ^):
  
app/views/shipments/show.html.erb:5: syntax error, unexpected ',', expecting '}'
app/views/shipments/show.html.erb:5: Can't assign to false
Started GET "/shipments/2" for ::1 at 2023-04-21 08:19:53 -0700
Processing by ShipmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mShipment Load (14.1ms)[0m  [1m[34mSELECT  "shipments".* FROM "shipments" WHERE "shipments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/shipments_controller.rb:15
  [1m[36mUser Load (4.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/shipments_controller.rb:15
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/shipments_controller.rb:15
  Rendering shipments/show.html.erb within layouts/application
  Rendered shipments/show.html.erb within layouts/application (8.6ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/layouts/_header.html.erb:24
  Rendered layouts/_header.html.erb (2.5ms)
  Rendered layouts/_alert.html.erb (0.2ms)
Completed 200 OK in 87ms (Views: 60.8ms | ActiveRecord: 19.1ms)


Started GET "/shipments/2" for ::1 at 2023-04-21 08:20:07 -0700
DEPRECATION WARNING: 'include Pundit' is deprecated. Please use 'include Pundit::Authorization' instead.
 (called from include at /Users/dev/Documents/repos/ecommerceApp-main/app/controllers/concerns/authorizable.rb:7)
Processing by ShipmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mShipment Load (0.5ms)[0m  [1m[34mSELECT  "shipments".* FROM "shipments" WHERE "shipments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/shipments_controller.rb:15
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/shipments_controller.rb:15
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/shipments_controller.rb:15
  Rendering shipments/show.html.erb within layouts/application
  Rendered shipments/show.html.erb within layouts/application (6.9ms)
  [1m[36mUser Load (9.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/layouts/_header.html.erb:24
  Rendered layouts/_header.html.erb (11.2ms)
  Rendered layouts/_alert.html.erb (0.3ms)
Completed 200 OK in 163ms (Views: 67.1ms | ActiveRecord: 64.4ms)


Started GET "/shipments/2" for ::1 at 2023-04-21 08:20:12 -0700
DEPRECATION WARNING: 'include Pundit' is deprecated. Please use 'include Pundit::Authorization' instead.
 (called from include at /Users/dev/Documents/repos/ecommerceApp-main/app/controllers/concerns/authorizable.rb:7)
Processing by ShipmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mShipment Load (1.4ms)[0m  [1m[34mSELECT  "shipments".* FROM "shipments" WHERE "shipments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/shipments_controller.rb:15
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/shipments_controller.rb:15
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/shipments_controller.rb:15
  Rendering shipments/show.html.erb within layouts/application
  Rendered shipments/show.html.erb within layouts/application (5.5ms)
  [1m[36mUser Load (32.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/layouts/_header.html.erb:24
  Rendered layouts/_header.html.erb (34.7ms)
  Rendered layouts/_alert.html.erb (0.3ms)
Completed 200 OK in 243ms (Views: 48.8ms | ActiveRecord: 151.0ms)


Started GET "/shipments/2" for ::1 at 2023-04-21 08:20:25 -0700
Processing by ShipmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mShipment Load (4.9ms)[0m  [1m[34mSELECT  "shipments".* FROM "shipments" WHERE "shipments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/shipments_controller.rb:15
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/shipments_controller.rb:15
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/shipments_controller.rb:15
  Rendering shipments/show.html.erb within layouts/application
  Rendered shipments/show.html.erb within layouts/application (5.1ms)
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/layouts/_header.html.erb:24
  Rendered layouts/_header.html.erb (2.6ms)
  Rendered layouts/_alert.html.erb (0.3ms)
Completed 200 OK in 64ms (Views: 53.7ms | ActiveRecord: 6.4ms)


Started GET "/shipments/2" for ::1 at 2023-04-21 08:21:24 -0700
Processing by ShipmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mShipment Load (1.1ms)[0m  [1m[34mSELECT  "shipments".* FROM "shipments" WHERE "shipments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/shipments_controller.rb:15
  [1m[36mUser Load (3.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/shipments_controller.rb:15
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/shipments_controller.rb:15
  Rendering shipments/show.html.erb within layouts/application
  Rendered shipments/show.html.erb within layouts/application (6.5ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/layouts/_header.html.erb:24
  Rendered layouts/_header.html.erb (2.7ms)
  Rendered layouts/_alert.html.erb (0.3ms)
Completed 200 OK in 70ms (Views: 60.4ms | ActiveRecord: 5.7ms)


Started GET "/shipments/2" for ::1 at 2023-04-21 08:21:25 -0700
Processing by ShipmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mShipment Load (0.6ms)[0m  [1m[34mSELECT  "shipments".* FROM "shipments" WHERE "shipments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/shipments_controller.rb:15
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/shipments_controller.rb:15
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/shipments_controller.rb:15
  Rendering shipments/show.html.erb within layouts/application
  Rendered shipments/show.html.erb within layouts/application (10.7ms)
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/layouts/_header.html.erb:24
  Rendered layouts/_header.html.erb (2.6ms)
  Rendered layouts/_alert.html.erb (0.3ms)
Completed 200 OK in 77ms (Views: 64.0ms | ActiveRecord: 2.5ms)


Started GET "/shipments/2" for ::1 at 2023-04-21 08:21:41 -0700
Processing by ShipmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mShipment Load (1.2ms)[0m  [1m[34mSELECT  "shipments".* FROM "shipments" WHERE "shipments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/shipments_controller.rb:15
  [1m[36mUser Load (2.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/shipments_controller.rb:15
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/shipments_controller.rb:15
  Rendering shipments/show.html.erb within layouts/application
  Rendered shipments/show.html.erb within layouts/application (5.6ms)
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/layouts/_header.html.erb:24
  Rendered layouts/_header.html.erb (2.8ms)
  Rendered layouts/_alert.html.erb (0.2ms)
Completed 200 OK in 67ms (Views: 48.9ms | ActiveRecord: 5.4ms)


Started GET "/shipments/2" for ::1 at 2023-04-21 08:21:42 -0700
Processing by ShipmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mShipment Load (6.7ms)[0m  [1m[34mSELECT  "shipments".* FROM "shipments" WHERE "shipments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/shipments_controller.rb:15
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/shipments_controller.rb:15
  [1m[36mOrder Load (0.7ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/shipments_controller.rb:15
  Rendering shipments/show.html.erb within layouts/application
  Rendered shipments/show.html.erb within layouts/application (7.7ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/layouts/_header.html.erb:24
  Rendered layouts/_header.html.erb (2.3ms)
  Rendered layouts/_alert.html.erb (0.2ms)
Completed 200 OK in 73ms (Views: 50.5ms | ActiveRecord: 8.4ms)


Started GET "/shipments/2" for ::1 at 2023-04-21 08:21:42 -0700
Processing by ShipmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mShipment Load (0.4ms)[0m  [1m[34mSELECT  "shipments".* FROM "shipments" WHERE "shipments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/shipments_controller.rb:15
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/shipments_controller.rb:15
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/shipments_controller.rb:15
  Rendering shipments/show.html.erb within layouts/application
  Rendered shipments/show.html.erb within layouts/application (5.1ms)
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/layouts/_header.html.erb:24
  Rendered layouts/_header.html.erb (2.6ms)
  Rendered layouts/_alert.html.erb (0.3ms)
Completed 200 OK in 63ms (Views: 41.5ms | ActiveRecord: 2.1ms)


Started GET "/shipments/2" for ::1 at 2023-04-21 08:22:03 -0700
Processing by ShipmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mShipment Load (1.2ms)[0m  [1m[34mSELECT  "shipments".* FROM "shipments" WHERE "shipments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/shipments_controller.rb:15
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/shipments_controller.rb:15
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/shipments_controller.rb:15
  Rendering shipments/show.html.erb within layouts/application
  Rendered shipments/show.html.erb within layouts/application (5.2ms)
  [1m[36mUser Load (3.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/layouts/_header.html.erb:24
  Rendered layouts/_header.html.erb (5.5ms)
  Rendered layouts/_alert.html.erb (0.4ms)
Completed 200 OK in 62ms (Views: 51.3ms | ActiveRecord: 5.4ms)


Started GET "/shipments/2" for ::1 at 2023-04-21 08:22:04 -0700
Processing by ShipmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mShipment Load (0.4ms)[0m  [1m[34mSELECT  "shipments".* FROM "shipments" WHERE "shipments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/shipments_controller.rb:15
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/shipments_controller.rb:15
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/shipments_controller.rb:15
  Rendering shipments/show.html.erb within layouts/application
  Rendered shipments/show.html.erb within layouts/application (17.7ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/layouts/_header.html.erb:24
  Rendered layouts/_header.html.erb (2.6ms)
  Rendered layouts/_alert.html.erb (0.3ms)
Completed 200 OK in 59ms (Views: 54.9ms | ActiveRecord: 1.3ms)


Started GET "/shipments/2" for ::1 at 2023-04-21 08:23:17 -0700
Processing by ShipmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mShipment Load (0.6ms)[0m  [1m[34mSELECT  "shipments".* FROM "shipments" WHERE "shipments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/shipments_controller.rb:15
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/shipments_controller.rb:15
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/shipments_controller.rb:15
  Rendering shipments/show.html.erb within layouts/application
  Rendered shipments/show.html.erb within layouts/application (8.2ms)
  [1m[36mUser Load (2.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/layouts/_header.html.erb:24
  Rendered layouts/_header.html.erb (8.6ms)
  Rendered layouts/_alert.html.erb (0.3ms)
Completed 200 OK in 83ms (Views: 75.0ms | ActiveRecord: 3.5ms)


Started GET "/shipments/2" for ::1 at 2023-04-21 08:23:18 -0700
Processing by ShipmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mShipment Load (3.7ms)[0m  [1m[34mSELECT  "shipments".* FROM "shipments" WHERE "shipments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/shipments_controller.rb:15
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/shipments_controller.rb:15
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/shipments_controller.rb:15
  Rendering shipments/show.html.erb within layouts/application
  Rendered shipments/show.html.erb within layouts/application (9.9ms)
  [1m[36mUser Load (6.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/layouts/_header.html.erb:24
  Rendered layouts/_header.html.erb (7.9ms)
  Rendered layouts/_alert.html.erb (0.3ms)
Completed 200 OK in 69ms (Views: 55.0ms | ActiveRecord: 10.6ms)


Started GET "/shipments/2" for ::1 at 2023-04-21 08:23:28 -0700
  [1m[35m (3.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ /Users/dev/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.6/lib/active_record/log_subscriber.rb:98
DEPRECATION WARNING: 'include Pundit' is deprecated. Please use 'include Pundit::Authorization' instead.
 (called from include at /Users/dev/Documents/repos/ecommerceApp-main/app/controllers/concerns/authorizable.rb:7)
Processing by ShipmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mShipment Load (1.4ms)[0m  [1m[34mSELECT  "shipments".* FROM "shipments" WHERE "shipments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/shipments_controller.rb:15
  [1m[36mUser Load (12.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/shipments_controller.rb:15
  [1m[36mOrder Load (0.9ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/shipments_controller.rb:15
  Rendering shipments/show.html.erb within layouts/application
  Rendered shipments/show.html.erb within layouts/application (210.4ms)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/layouts/_header.html.erb:24
  Rendered layouts/_header.html.erb (19.5ms)
  Rendered layouts/_alert.html.erb (0.3ms)
Completed 200 OK in 673ms (Views: 403.0ms | ActiveRecord: 167.3ms)


Started GET "/shipments/2" for ::1 at 2023-04-21 08:24:12 -0700
Processing by ShipmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mShipment Load (2.8ms)[0m  [1m[34mSELECT  "shipments".* FROM "shipments" WHERE "shipments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/shipments_controller.rb:15
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/shipments_controller.rb:15
  [1m[36mOrder Load (1.0ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/shipments_controller.rb:15
  Rendering shipments/show.html.erb within layouts/application
  Rendered shipments/show.html.erb within layouts/application (4.7ms)
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/layouts/_header.html.erb:24
  Rendered layouts/_header.html.erb (3.4ms)
  Rendered layouts/_alert.html.erb (0.2ms)
Completed 200 OK in 86ms (Views: 68.7ms | ActiveRecord: 5.9ms)


Started GET "/shipments/2" for ::1 at 2023-04-21 08:24:21 -0700
Processing by ShipmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mShipment Load (1.9ms)[0m  [1m[34mSELECT  "shipments".* FROM "shipments" WHERE "shipments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/shipments_controller.rb:15
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/shipments_controller.rb:15
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/shipments_controller.rb:15
  Rendering shipments/show.html.erb within layouts/application
  Rendered shipments/show.html.erb within layouts/application (8.5ms)
  [1m[36mUser Load (10.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/layouts/_header.html.erb:24
  Rendered layouts/_header.html.erb (12.5ms)
  Rendered layouts/_alert.html.erb (0.4ms)
Completed 200 OK in 91ms (Views: 67.1ms | ActiveRecord: 14.3ms)


Started GET "/shipments/2" for ::1 at 2023-04-21 08:24:22 -0700
Processing by ShipmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mShipment Load (0.5ms)[0m  [1m[34mSELECT  "shipments".* FROM "shipments" WHERE "shipments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/shipments_controller.rb:15
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/shipments_controller.rb:15
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/shipments_controller.rb:15
  Rendering shipments/show.html.erb within layouts/application
  Rendered shipments/show.html.erb within layouts/application (17.0ms)
  [1m[36mUser Load (3.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/layouts/_header.html.erb:24
  Rendered layouts/_header.html.erb (5.0ms)
  Rendered layouts/_alert.html.erb (0.3ms)
Completed 200 OK in 75ms (Views: 65.5ms | ActiveRecord: 4.7ms)


Started GET "/shipments/2" for ::1 at 2023-04-21 08:24:24 -0700
Processing by ShipmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mShipment Load (4.3ms)[0m  [1m[34mSELECT  "shipments".* FROM "shipments" WHERE "shipments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/shipments_controller.rb:15
  [1m[36mUser Load (14.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/shipments_controller.rb:15
  [1m[36mOrder Load (7.9ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/shipments_controller.rb:15
  Rendering shipments/show.html.erb within layouts/application
  Rendered shipments/show.html.erb within layouts/application (4.9ms)
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/layouts/_header.html.erb:24
  Rendered layouts/_header.html.erb (17.6ms)
  Rendered layouts/_alert.html.erb (0.3ms)
Completed 200 OK in 177ms (Views: 95.6ms | ActiveRecord: 27.8ms)


Started GET "/shipments/2" for ::1 at 2023-04-21 08:24:33 -0700
Processing by ShipmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mShipment Load (0.7ms)[0m  [1m[34mSELECT  "shipments".* FROM "shipments" WHERE "shipments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/shipments_controller.rb:15
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/shipments_controller.rb:15
  [1m[36mOrder Load (4.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/shipments_controller.rb:15
  Rendering shipments/show.html.erb within layouts/application
  Rendered shipments/show.html.erb within layouts/application (11316.9ms)
Completed 500 Internal Server Error in 11364ms (ActiveRecord: 5.5ms)


  
SystemExit (exit):
  
(byebug):1:in `exit'
(byebug):1:in `block in _app_views_shipments_show_html_erb___2099407199649463671_70165224173760'
app/views/shipments/show.html.erb:3:in `block in _app_views_shipments_show_html_erb___2099407199649463671_70165224173760'
app/views/shipments/show.html.erb:1:in `_app_views_shipments_show_html_erb___2099407199649463671_70165224173760'
Started GET "/shipments/2" for ::1 at 2023-04-21 08:24:48 -0700
Processing by ShipmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mShipment Load (3.3ms)[0m  [1m[34mSELECT  "shipments".* FROM "shipments" WHERE "shipments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/shipments_controller.rb:15
  [1m[36mUser Load (7.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/shipments_controller.rb:15
  [1m[36mOrder Load (2.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/shipments_controller.rb:15
  Rendering shipments/show.html.erb within layouts/application
  Rendered shipments/show.html.erb within layouts/application (88.5ms)
  [1m[36mUser Load (9.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/layouts/_header.html.erb:24
  Rendered layouts/_header.html.erb (31.8ms)
  Rendered layouts/_alert.html.erb (1.7ms)
Completed 200 OK in 866ms (Views: 808.3ms | ActiveRecord: 22.5ms)


Started GET "/shipments/2" for ::1 at 2023-04-21 08:25:44 -0700
Processing by ShipmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mShipment Load (3.9ms)[0m  [1m[34mSELECT  "shipments".* FROM "shipments" WHERE "shipments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/shipments_controller.rb:15
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/shipments_controller.rb:15
  [1m[36mOrder Load (7.9ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/shipments_controller.rb:15
  Rendering shipments/show.html.erb within layouts/application
  Rendered shipments/show.html.erb within layouts/application (125.6ms)
  [1m[36mUser Load (9.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/layouts/_header.html.erb:24
  Rendered layouts/_header.html.erb (40.4ms)
  Rendered layouts/_alert.html.erb (6.9ms)
Completed 200 OK in 1238ms (Views: 1159.0ms | ActiveRecord: 22.7ms)


Started GET "/shipments/2" for ::1 at 2023-04-21 08:25:53 -0700
Processing by ShipmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mShipment Load (1.4ms)[0m  [1m[34mSELECT  "shipments".* FROM "shipments" WHERE "shipments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/shipments_controller.rb:15
  [1m[36mUser Load (12.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/shipments_controller.rb:15
  [1m[36mOrder Load (10.8ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/shipments_controller.rb:15
  Rendering shipments/show.html.erb within layouts/application
  Rendered shipments/show.html.erb within layouts/application (127.9ms)
  [1m[36mUser Load (4.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/layouts/_header.html.erb:24
  Rendered layouts/_header.html.erb (31.3ms)
  Rendered layouts/_alert.html.erb (2.5ms)
Completed 200 OK in 1235ms (Views: 1157.8ms | ActiveRecord: 29.8ms)


Started GET "/shipments/2" for ::1 at 2023-04-21 08:26:24 -0700
Processing by ShipmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mShipment Load (20.1ms)[0m  [1m[34mSELECT  "shipments".* FROM "shipments" WHERE "shipments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/shipments_controller.rb:15
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/shipments_controller.rb:15
  [1m[36mOrder Load (1.1ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/shipments_controller.rb:15
  Rendering shipments/show.html.erb within layouts/application
  Rendered shipments/show.html.erb within layouts/application (123.1ms)
  [1m[36mUser Load (8.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/layouts/_header.html.erb:24
  Rendered layouts/_header.html.erb (39.1ms)
  Rendered layouts/_alert.html.erb (2.6ms)
Completed 200 OK in 1264ms (Views: 1186.8ms | ActiveRecord: 30.9ms)


Started GET "/shipments/2" for ::1 at 2023-04-21 08:27:49 -0700
Processing by ShipmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mShipment Load (1.2ms)[0m  [1m[34mSELECT  "shipments".* FROM "shipments" WHERE "shipments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/shipments_controller.rb:15
  [1m[36mUser Load (7.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/shipments_controller.rb:15
  [1m[36mOrder Load (1.6ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/shipments_controller.rb:15
  Rendering shipments/show.html.erb within layouts/application
  Rendered shipments/show.html.erb within layouts/application (128.2ms)
  [1m[36mUser Load (4.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/layouts/_header.html.erb:24
  Rendered layouts/_header.html.erb (34.9ms)
  Rendered layouts/_alert.html.erb (2.5ms)
Completed 200 OK in 1226ms (Views: 1161.1ms | ActiveRecord: 15.3ms)


Started PATCH "/shipments/2" for ::1 at 2023-04-21 08:27:53 -0700
Processing by ShipmentsController#update as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"0HlZKtGKRUZGnyMH4pdjBHlTjQC9zMpEetQ37ZxphyHnJtB1o/HEcwJ9mlgfWjG5vepv3r9aO3fRoBzxaJwMiA==", "shipment"=>{"customer_name"=>"121231234", "shipping_address"=>"", "phone_number"=>"", "payment_method"=>"cash_on_delivery", "order_id"=>"2"}, "commit"=>"Confirm Order", "id"=>"2"}
  [1m[36mShipment Load (1.2ms)[0m  [1m[34mSELECT  "shipments".* FROM "shipments" WHERE "shipments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/shipments_controller.rb:15
  [1m[36mUser Load (8.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/shipments_controller.rb:15
  [1m[36mOrder Load (1.0ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/shipments_controller.rb:15
No template found for ShipmentsController#update, rendering head :no_content
Completed 204 No Content in 159ms (ActiveRecord: 10.1ms)


Started GET "/shipments/2" for ::1 at 2023-04-21 08:29:55 -0700
DEPRECATION WARNING: 'include Pundit' is deprecated. Please use 'include Pundit::Authorization' instead.
 (called from include at /Users/dev/Documents/repos/ecommerceApp-main/app/controllers/concerns/authorizable.rb:7)
Processing by ShipmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mShipment Load (1.4ms)[0m  [1m[34mSELECT  "shipments".* FROM "shipments" WHERE "shipments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/shipments_controller.rb:15
  [1m[36mUser Load (4.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/shipments_controller.rb:15
  [1m[36mOrder Load (1.7ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/shipments_controller.rb:15
  Rendering shipments/show.html.erb within layouts/application
  Rendered shipments/show.html.erb within layouts/application (172.4ms)
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/layouts/_header.html.erb:24
  Rendered layouts/_header.html.erb (41.1ms)
  Rendered layouts/_alert.html.erb (2.8ms)
Completed 200 OK in 1975ms (Views: 1435.1ms | ActiveRecord: 138.0ms)


Started PATCH "/shipments/2" for ::1 at 2023-04-21 08:30:00 -0700
Processing by ShipmentsController#update as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"HVpZnHQIN5y4Q7NZyTkBCCuxHXHwsoVzM16xa07dpm8qBdDDBnO2qfyhCgY09FO17wj/r/IkdECYKpp3uigtxg==", "shipment"=>{"customer_name"=>"121231234", "shipping_address"=>"", "phone_number"=>"", "payment_method"=>"cash_on_delivery", "order_id"=>"2"}, "commit"=>"Confirm Order", "id"=>"2"}
  [1m[36mShipment Load (7.5ms)[0m  [1m[34mSELECT  "shipments".* FROM "shipments" WHERE "shipments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/shipments_controller.rb:15
  [1m[36mUser Load (5.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/shipments_controller.rb:15
  [1m[36mOrder Load (1.1ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/shipments_controller.rb:15
No template found for ShipmentsController#update, rendering head :no_content
Completed 204 No Content in 188ms (ActiveRecord: 14.5ms)


Started GET "/shipments/2" for ::1 at 2023-04-21 08:31:44 -0700
DEPRECATION WARNING: 'include Pundit' is deprecated. Please use 'include Pundit::Authorization' instead.
 (called from include at /Users/dev/Documents/repos/ecommerceApp-main/app/controllers/concerns/authorizable.rb:7)
Processing by ShipmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mShipment Load (12.0ms)[0m  [1m[34mSELECT  "shipments".* FROM "shipments" WHERE "shipments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/shipments_controller.rb:16
  [1m[36mUser Load (10.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/shipments_controller.rb:16
  [1m[36mOrder Load (5.0ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/shipments_controller.rb:16
  Rendering shipments/show.html.erb within layouts/application
  Rendered shipments/show.html.erb within layouts/application (187.8ms)
  [1m[36mUser Load (7.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/layouts/_header.html.erb:24
  Rendered layouts/_header.html.erb (43.8ms)
  Rendered layouts/_alert.html.erb (3.1ms)
Completed 200 OK in 2137ms (Views: 1515.6ms | ActiveRecord: 184.1ms)


Started PATCH "/shipments/2" for ::1 at 2023-04-21 08:31:49 -0700
Processing by ShipmentsController#update as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"03grkwhtsNhJBbxul1KMRbp3dpzy+pVLnBqZ4qzJojPkJ6LMehYx7Q3nBTFqn974fs6UQvBsZHg3brL+WDwpmg==", "shipment"=>{"customer_name"=>"121231234", "shipping_address"=>"", "phone_number"=>"", "payment_method"=>"cash_on_delivery", "order_id"=>"2"}, "commit"=>"Confirm Order", "id"=>"2"}
  [1m[36mShipment Load (1.5ms)[0m  [1m[34mSELECT  "shipments".* FROM "shipments" WHERE "shipments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/shipments_controller.rb:16
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/shipments_controller.rb:16
  [1m[36mOrder Load (4.0ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/shipments_controller.rb:16
Completed 500 Internal Server Error in 274646ms (ActiveRecord: 6.7ms)


  
SystemExit (exit):
  
(byebug):1:in `exit'
(byebug):1:in `shipment_params'
app/controllers/shipments_controller.rb:21:in `shipment_params'
app/controllers/shipments_controller.rb:8:in `update'
Started GET "/shipments/2" for ::1 at 2023-04-21 08:36:29 -0700
DEPRECATION WARNING: 'include Pundit' is deprecated. Please use 'include Pundit::Authorization' instead.
 (called from include at /Users/dev/Documents/repos/ecommerceApp-main/app/controllers/concerns/authorizable.rb:7)
Processing by ShipmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mShipment Load (1.6ms)[0m  [1m[34mSELECT  "shipments".* FROM "shipments" WHERE "shipments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/shipments_controller.rb:19
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/shipments_controller.rb:19
  [1m[36mOrder Load (3.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/shipments_controller.rb:19
  Rendering shipments/show.html.erb within layouts/application
  Rendered shipments/show.html.erb within layouts/application (181.0ms)
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/layouts/_header.html.erb:24
  Rendered layouts/_header.html.erb (38.8ms)
  Rendered layouts/_alert.html.erb (3.2ms)
Completed 200 OK in 2030ms (Views: 1451.3ms | ActiveRecord: 158.7ms)


Started PATCH "/shipments/2" for ::1 at 2023-04-21 08:36:34 -0700
Processing by ShipmentsController#update as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"sNXprjXDjYwmUrWKnwEtTjDzEsSwaoEmTUkjsitoRvyHimDxR7gMuWKwDNVizH/z9ErwGrL8cBXmPQiu353NVQ==", "shipment"=>{"customer_name"=>"121231234", "shipping_address"=>"", "phone_number"=>"", "payment_method"=>"cash_on_delivery", "order_id"=>"2", "user_id"=>"2"}, "commit"=>"Confirm Order", "id"=>"2"}
  [1m[36mShipment Load (6.0ms)[0m  [1m[34mSELECT  "shipments".* FROM "shipments" WHERE "shipments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/shipments_controller.rb:19
  [1m[36mUser Load (2.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/shipments_controller.rb:19
  [1m[36mOrder Load (7.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/shipments_controller.rb:19
Completed 500 Internal Server Error in 133ms (ActiveRecord: 15.8ms)


  
NoMethodError (undefined method `pry' for #<Binding:0x00007fa119c6b8f0>
Did you mean?  try):
  
app/controllers/shipments_controller.rb:8:in `update'
Started PATCH "/shipments/2" for ::1 at 2023-04-21 08:36:42 -0700
DEPRECATION WARNING: 'include Pundit' is deprecated. Please use 'include Pundit::Authorization' instead.
 (called from include at /Users/dev/Documents/repos/ecommerceApp-main/app/controllers/concerns/authorizable.rb:7)
Processing by ShipmentsController#update as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"sNXprjXDjYwmUrWKnwEtTjDzEsSwaoEmTUkjsitoRvyHimDxR7gMuWKwDNVizH/z9ErwGrL8cBXmPQiu353NVQ==", "shipment"=>{"customer_name"=>"121231234", "shipping_address"=>"", "phone_number"=>"", "payment_method"=>"cash_on_delivery", "order_id"=>"2", "user_id"=>"2"}, "commit"=>"Confirm Order", "id"=>"2"}
  [1m[36mShipment Load (1.1ms)[0m  [1m[34mSELECT  "shipments".* FROM "shipments" WHERE "shipments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/shipments_controller.rb:19
  [1m[36mUser Load (3.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/shipments_controller.rb:19
  [1m[36mOrder Load (9.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/shipments_controller.rb:19
Unpermitted parameter: :user_id
Completed 500 Internal Server Error in 104674ms (ActiveRecord: 140.8ms)


  
SystemExit (exit):
  
(byebug):1:in `exit'
(byebug):1:in `update'
app/controllers/shipments_controller.rb:9:in `update'
Started PATCH "/shipments/2" for ::1 at 2023-04-21 08:38:31 -0700
DEPRECATION WARNING: 'include Pundit' is deprecated. Please use 'include Pundit::Authorization' instead.
 (called from include at /Users/dev/Documents/repos/ecommerceApp-main/app/controllers/concerns/authorizable.rb:7)
Processing by ShipmentsController#update as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"sNXprjXDjYwmUrWKnwEtTjDzEsSwaoEmTUkjsitoRvyHimDxR7gMuWKwDNVizH/z9ErwGrL8cBXmPQiu353NVQ==", "shipment"=>{"customer_name"=>"121231234", "shipping_address"=>"", "phone_number"=>"", "payment_method"=>"cash_on_delivery", "order_id"=>"2", "user_id"=>"2"}, "commit"=>"Confirm Order", "id"=>"2"}
  [1m[36mShipment Load (5.3ms)[0m  [1m[34mSELECT  "shipments".* FROM "shipments" WHERE "shipments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/shipments_controller.rb:19
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/shipments_controller.rb:19
  [1m[36mOrder Load (1.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/shipments_controller.rb:19
Unpermitted parameter: :user_id
Completed 500 Internal Server Error in 10646ms (ActiveRecord: 141.1ms)


  
SystemExit (exit):
  
(byebug):1:in `exit'
(byebug):1:in `update'
app/controllers/shipments_controller.rb:9:in `update'
Started PATCH "/shipments/2" for ::1 at 2023-04-21 08:38:51 -0700
DEPRECATION WARNING: 'include Pundit' is deprecated. Please use 'include Pundit::Authorization' instead.
 (called from include at /Users/dev/Documents/repos/ecommerceApp-main/app/controllers/concerns/authorizable.rb:7)
Processing by ShipmentsController#update as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"sNXprjXDjYwmUrWKnwEtTjDzEsSwaoEmTUkjsitoRvyHimDxR7gMuWKwDNVizH/z9ErwGrL8cBXmPQiu353NVQ==", "shipment"=>{"customer_name"=>"121231234", "shipping_address"=>"", "phone_number"=>"", "payment_method"=>"cash_on_delivery", "order_id"=>"2", "user_id"=>"2"}, "commit"=>"Confirm Order", "id"=>"2"}
  [1m[36mShipment Load (1.1ms)[0m  [1m[34mSELECT  "shipments".* FROM "shipments" WHERE "shipments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/shipments_controller.rb:18
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/shipments_controller.rb:18
  [1m[36mOrder Load (2.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/shipments_controller.rb:18
Unpermitted parameter: :user_id
  [1m[35m (6.7ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/shipments_controller.rb:8
  [1m[35m (1.0ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/controllers/shipments_controller.rb:8
Redirected to http://localhost:3000/shipments/2
Completed 302 Found in 601ms (ActiveRecord: 105.4ms)


Started GET "/shipments/2" for ::1 at 2023-04-21 08:38:53 -0700
Processing by ShipmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mShipment Load (1.1ms)[0m  [1m[34mSELECT  "shipments".* FROM "shipments" WHERE "shipments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/shipments_controller.rb:18
  [1m[36mUser Load (10.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/shipments_controller.rb:18
  [1m[36mOrder Load (1.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/shipments_controller.rb:18
  Rendering shipments/show.html.erb within layouts/application
  Rendered shipments/show.html.erb within layouts/application (187.7ms)
  [1m[36mUser Load (14.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/layouts/_header.html.erb:24
  Rendered layouts/_header.html.erb (56.0ms)
  Rendered layouts/_alert.html.erb (3.2ms)
Completed 200 OK in 1635ms (Views: 1545.1ms | ActiveRecord: 27.7ms)


Started GET "/shipments/2" for ::1 at 2023-04-21 08:39:39 -0700
Processing by ShipmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mShipment Load (4.9ms)[0m  [1m[34mSELECT  "shipments".* FROM "shipments" WHERE "shipments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/shipments_controller.rb:18
  [1m[36mUser Load (8.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/shipments_controller.rb:18
  [1m[36mOrder Load (3.8ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/shipments_controller.rb:18
  Rendering shipments/show.html.erb within layouts/application
  Rendered shipments/show.html.erb within layouts/application (181.6ms)
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/layouts/_header.html.erb:24
  Rendered layouts/_header.html.erb (38.6ms)
  Rendered layouts/_alert.html.erb (3.5ms)
Completed 200 OK in 1607ms (Views: 1520.0ms | ActiveRecord: 18.4ms)


Started PATCH "/shipments/2" for ::1 at 2023-04-21 08:39:43 -0700
Processing by ShipmentsController#update as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"OsGVjt3c3wzwkJHG0Too2vR9ch5/UangL6TzS8XMorANnhzRr6deObRyKJks93pnMMSQwH3HWNOE0NhXMTkpGQ==", "shipment"=>{"customer_name"=>"121231234", "shipping_address"=>"", "phone_number"=>"", "payment_method"=>"cash_on_delivery", "order_id"=>"2", "user_id"=>"2"}, "commit"=>"Confirm Order", "id"=>"2"}
  [1m[36mShipment Load (1.2ms)[0m  [1m[34mSELECT  "shipments".* FROM "shipments" WHERE "shipments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/shipments_controller.rb:18
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/shipments_controller.rb:18
  [1m[36mOrder Load (14.7ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/shipments_controller.rb:18
Unpermitted parameter: :user_id
  [1m[35m (1.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/shipments_controller.rb:8
  [1m[35m (1.0ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/controllers/shipments_controller.rb:8
Redirected to http://localhost:3000/shipments/2
Completed 302 Found in 136ms (ActiveRecord: 19.4ms)


Started GET "/shipments/2" for ::1 at 2023-04-21 08:39:43 -0700
Processing by ShipmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mShipment Load (1.5ms)[0m  [1m[34mSELECT  "shipments".* FROM "shipments" WHERE "shipments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/shipments_controller.rb:18
  [1m[36mUser Load (5.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/shipments_controller.rb:18
  [1m[36mOrder Load (9.0ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/shipments_controller.rb:18
  Rendering shipments/show.html.erb within layouts/application
  Rendered shipments/show.html.erb within layouts/application (182.0ms)
  [1m[36mUser Load (31.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/layouts/_header.html.erb:24
  Rendered layouts/_header.html.erb (73.9ms)
  Rendered layouts/_alert.html.erb (3.4ms)
Completed 200 OK in 1645ms (Views: 1535.9ms | ActiveRecord: 47.2ms)


Started PATCH "/shipments/2" for ::1 at 2023-04-21 08:39:53 -0700
DEPRECATION WARNING: 'include Pundit' is deprecated. Please use 'include Pundit::Authorization' instead.
 (called from include at /Users/dev/Documents/repos/ecommerceApp-main/app/controllers/concerns/authorizable.rb:7)
Processing by ShipmentsController#update as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"YUp2NQbyeMQpdR9XMNQfUhMYjUZ4U/vgqzUK7A+YjoNWFf9qdIn58W2XpgjNGU3v16FvmHrFCtMAQSHw+20FKg==", "shipment"=>{"customer_name"=>"121231234", "shipping_address"=>"", "phone_number"=>"", "payment_method"=>"cash_on_delivery", "order_id"=>"2", "user_id"=>"2"}, "commit"=>"Confirm Order", "id"=>"2"}
  [1m[36mShipment Load (1.2ms)[0m  [1m[34mSELECT  "shipments".* FROM "shipments" WHERE "shipments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/shipments_controller.rb:18
  [1m[36mUser Load (9.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/shipments_controller.rb:18
  [1m[36mOrder Load (1.0ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/shipments_controller.rb:18
Unpermitted parameter: :user_id
  [1m[35m (5.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/shipments_controller.rb:8
  [1m[35m (1.0ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/controllers/shipments_controller.rb:8
Redirected to http://localhost:3000/shipments/2
Completed 302 Found in 664ms (ActiveRecord: 165.0ms)


Started GET "/shipments/2" for ::1 at 2023-04-21 08:39:56 -0700
Processing by ShipmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mShipment Load (2.5ms)[0m  [1m[34mSELECT  "shipments".* FROM "shipments" WHERE "shipments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/shipments_controller.rb:18
  [1m[36mUser Load (14.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/shipments_controller.rb:18
  [1m[36mOrder Load (1.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/shipments_controller.rb:18
  Rendering shipments/show.html.erb within layouts/application
  Rendered shipments/show.html.erb within layouts/application (192.4ms)
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/layouts/_header.html.erb:24
  Rendered layouts/_header.html.erb (45.0ms)
  Rendered layouts/_alert.html.erb (3.4ms)
Completed 200 OK in 1649ms (Views: 1566.1ms | ActiveRecord: 19.5ms)


Started PATCH "/shipments/2" for ::1 at 2023-04-21 08:43:29 -0700
DEPRECATION WARNING: 'include Pundit' is deprecated. Please use 'include Pundit::Authorization' instead.
 (called from include at /Users/dev/Documents/repos/ecommerceApp-main/app/controllers/concerns/authorizable.rb:7)
Processing by ShipmentsController#update as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"mT/jLuLoM2Ova1PCyuWX/HvTzxXgloBb+FuWlys208quYGpxkJOyVuuJ6p03KMVBv2oty+IAcWhTL72L38NYYw==", "shipment"=>{"customer_name"=>"121231234", "shipping_address"=>"", "phone_number"=>"", "payment_method"=>"cash_on_delivery", "order_id"=>"2", "user_id"=>"2"}, "commit"=>"Confirm Order", "id"=>"2"}
  [1m[36mShipment Load (3.0ms)[0m  [1m[34mSELECT  "shipments".* FROM "shipments" WHERE "shipments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/shipments_controller.rb:19
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/shipments_controller.rb:19
  [1m[36mOrder Load (1.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/shipments_controller.rb:19
Unpermitted parameter: :user_id
  [1m[35m (1.0ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/shipments_controller.rb:8
  [1m[35m (2.4ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/controllers/shipments_controller.rb:8
Completed 500 Internal Server Error in 687ms (ActiveRecord: 125.1ms)


  
ActiveRecord::RecordInvalid (Validation failed: Shipping address can't be blank, Phone number can't be blank):
  
app/controllers/shipments_controller.rb:8:in `update'
Started PATCH "/shipments/2" for ::1 at 2023-04-21 08:43:49 -0700
DEPRECATION WARNING: 'include Pundit' is deprecated. Please use 'include Pundit::Authorization' instead.
 (called from include at /Users/dev/Documents/repos/ecommerceApp-main/app/controllers/concerns/authorizable.rb:7)
Processing by ShipmentsController#update as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"mT/jLuLoM2Ova1PCyuWX/HvTzxXgloBb+FuWlys208quYGpxkJOyVuuJ6p03KMVBv2oty+IAcWhTL72L38NYYw==", "shipment"=>{"customer_name"=>"121231234", "shipping_address"=>"", "phone_number"=>"", "payment_method"=>"cash_on_delivery", "order_id"=>"2", "user_id"=>"2"}, "commit"=>"Confirm Order", "id"=>"2"}
  [1m[36mShipment Load (1.3ms)[0m  [1m[34mSELECT  "shipments".* FROM "shipments" WHERE "shipments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/shipments_controller.rb:21
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/shipments_controller.rb:21
  [1m[36mOrder Load (1.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/shipments_controller.rb:21
Unpermitted parameter: :user_id
  [1m[35m (1.0ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/shipments_controller.rb:9
  [1m[35m (16.6ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/controllers/shipments_controller.rb:9
Completed 500 Internal Server Error in 683ms (ActiveRecord: 130.0ms)


  
ActiveRecord::RecordInvalid (Validation failed: Shipping address can't be blank, Phone number can't be blank):
  
app/controllers/shipments_controller.rb:9:in `update'
Started GET "/shipments/2" for ::1 at 2023-04-21 08:44:21 -0700
DEPRECATION WARNING: 'include Pundit' is deprecated. Please use 'include Pundit::Authorization' instead.
 (called from include at /Users/dev/Documents/repos/ecommerceApp-main/app/controllers/concerns/authorizable.rb:7)
Processing by ShipmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mShipment Load (12.0ms)[0m  [1m[34mSELECT  "shipments".* FROM "shipments" WHERE "shipments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/shipments_controller.rb:21
  [1m[36mUser Load (9.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/shipments_controller.rb:21
  [1m[36mOrder Load (1.6ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/shipments_controller.rb:21
  Rendering shipments/show.html.erb within layouts/application
  Rendered shipments/show.html.erb within layouts/application (74.4ms)
Completed 500 Internal Server Error in 694ms (ActiveRecord: 132.2ms)


  
ActionView::Template::Error (undefined method `any?' for nil:NilClass):
    1: <% if @errors.any? %>
    2:   <div id="error_explanation" class="alert alert-danger">
    3:     <h4><%= pluralize(@errors.count, "error") %> prohibited this shipment from being saved:</h4>
    4:     <ul>
  
app/views/shipments/show.html.erb:1:in `_app_views_shipments_show_html_erb___2099407199649463671_70164938096880'
Started GET "/shipments/2" for ::1 at 2023-04-21 08:44:38 -0700
Processing by ShipmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mShipment Load (3.4ms)[0m  [1m[34mSELECT  "shipments".* FROM "shipments" WHERE "shipments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/shipments_controller.rb:21
  [1m[36mUser Load (17.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/shipments_controller.rb:21
  [1m[36mOrder Load (1.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/shipments_controller.rb:21
  Rendering shipments/show.html.erb within layouts/application
  Rendered shipments/show.html.erb within layouts/application (207.6ms)
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/layouts/_header.html.erb:24
  Rendered layouts/_header.html.erb (45.4ms)
  Rendered layouts/_alert.html.erb (3.1ms)
Completed 200 OK in 1789ms (Views: 1693.8ms | ActiveRecord: 23.0ms)


Started PATCH "/shipments/2" for ::1 at 2023-04-21 08:44:42 -0700
Processing by ShipmentsController#update as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"FOY3q8MokkPR26HJG6PFnfY6b/34UjJ46WU3NGCLnQQjub70sVMTdpU5GJbmbpcgMoONI/rEw0tCERwolH4WrQ==", "shipment"=>{"customer_name"=>"121231234", "shipping_address"=>"", "phone_number"=>"", "payment_method"=>"cash_on_delivery", "order_id"=>"2", "user_id"=>"2"}, "commit"=>"Confirm Order", "id"=>"2"}
  [1m[36mShipment Load (6.3ms)[0m  [1m[34mSELECT  "shipments".* FROM "shipments" WHERE "shipments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/shipments_controller.rb:21
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/shipments_controller.rb:21
  [1m[36mOrder Load (12.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/shipments_controller.rb:21
Unpermitted parameter: :user_id
  [1m[35m (5.5ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/shipments_controller.rb:9
  [1m[35m (1.1ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/controllers/shipments_controller.rb:9
Completed 500 Internal Server Error in 199ms (ActiveRecord: 26.6ms)


  
ActiveRecord::RecordInvalid (Validation failed: Shipping address can't be blank, Phone number can't be blank):
  
app/controllers/shipments_controller.rb:9:in `update'
Started PATCH "/shipments/2" for ::1 at 2023-04-21 08:45:36 -0700
DEPRECATION WARNING: 'include Pundit' is deprecated. Please use 'include Pundit::Authorization' instead.
 (called from include at /Users/dev/Documents/repos/ecommerceApp-main/app/controllers/concerns/authorizable.rb:7)
Processing by ShipmentsController#update as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"FOY3q8MokkPR26HJG6PFnfY6b/34UjJ46WU3NGCLnQQjub70sVMTdpU5GJbmbpcgMoONI/rEw0tCERwolH4WrQ==", "shipment"=>{"customer_name"=>"121231234", "shipping_address"=>"", "phone_number"=>"", "payment_method"=>"cash_on_delivery", "order_id"=>"2", "user_id"=>"2"}, "commit"=>"Confirm Order", "id"=>"2"}
  [1m[36mShipment Load (8.5ms)[0m  [1m[34mSELECT  "shipments".* FROM "shipments" WHERE "shipments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/shipments_controller.rb:21
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/shipments_controller.rb:21
  [1m[36mOrder Load (1.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/shipments_controller.rb:21
Unpermitted parameter: :user_id
  [1m[35m (1.0ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/shipments_controller.rb:9
  [1m[35m (1.0ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/controllers/shipments_controller.rb:9
Completed 500 Internal Server Error in 740ms (ActiveRecord: 137.4ms)


  
ActiveRecord::RecordInvalid (Validation failed: Shipping address can't be blank, Phone number can't be blank):
  
app/controllers/shipments_controller.rb:9:in `update'
Started PATCH "/shipments/2" for ::1 at 2023-04-21 08:46:01 -0700
DEPRECATION WARNING: 'include Pundit' is deprecated. Please use 'include Pundit::Authorization' instead.
 (called from include at /Users/dev/Documents/repos/ecommerceApp-main/app/controllers/concerns/authorizable.rb:7)
Processing by ShipmentsController#update as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"FOY3q8MokkPR26HJG6PFnfY6b/34UjJ46WU3NGCLnQQjub70sVMTdpU5GJbmbpcgMoONI/rEw0tCERwolH4WrQ==", "shipment"=>{"customer_name"=>"121231234", "shipping_address"=>"", "phone_number"=>"", "payment_method"=>"cash_on_delivery", "order_id"=>"2", "user_id"=>"2"}, "commit"=>"Confirm Order", "id"=>"2"}
  [1m[36mShipment Load (14.6ms)[0m  [1m[34mSELECT  "shipments".* FROM "shipments" WHERE "shipments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/shipments_controller.rb:21
  [1m[36mUser Load (3.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/shipments_controller.rb:21
  [1m[36mOrder Load (11.9ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/shipments_controller.rb:21
Unpermitted parameter: :user_id
  [1m[35m (1.0ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/shipments_controller.rb:9
  [1m[35m (3.0ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/controllers/shipments_controller.rb:9
Completed 500 Internal Server Error in 767ms (ActiveRecord: 153.3ms)


  
ActiveRecord::RecordInvalid (Validation failed: Shipping address can't be blank, Phone number can't be blank):
  
app/controllers/shipments_controller.rb:9:in `update'
Started PATCH "/shipments/2" for ::1 at 2023-04-21 08:48:07 -0700
  [1m[35m (12.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ /Users/dev/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.6/lib/active_record/log_subscriber.rb:98
DEPRECATION WARNING: 'include Pundit' is deprecated. Please use 'include Pundit::Authorization' instead.
 (called from include at /Users/dev/Documents/repos/ecommerceApp-main/app/controllers/concerns/authorizable.rb:7)
Processing by ShipmentsController#update as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"FOY3q8MokkPR26HJG6PFnfY6b/34UjJ46WU3NGCLnQQjub70sVMTdpU5GJbmbpcgMoONI/rEw0tCERwolH4WrQ==", "shipment"=>{"customer_name"=>"121231234", "shipping_address"=>"", "phone_number"=>"", "payment_method"=>"cash_on_delivery", "order_id"=>"2", "user_id"=>"2"}, "commit"=>"Confirm Order", "id"=>"2"}
  [1m[36mShipment Load (9.1ms)[0m  [1m[34mSELECT  "shipments".* FROM "shipments" WHERE "shipments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/shipments_controller.rb:19
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/shipments_controller.rb:19
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/shipments_controller.rb:19
Unpermitted parameter: :user_id
  [1m[35m (3.7ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/shipments_controller.rb:8
  [1m[35m (6.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/controllers/shipments_controller.rb:8
Completed 500 Internal Server Error in 368ms (ActiveRecord: 117.9ms)


  
ActiveRecord::RecordInvalid (Validation failed: Shipping address can't be blank, Phone number can't be blank):
  
app/controllers/shipments_controller.rb:8:in `update'
Started GET "/shipments/2" for ::1 at 2023-04-21 08:48:29 -0700
DEPRECATION WARNING: 'include Pundit' is deprecated. Please use 'include Pundit::Authorization' instead.
 (called from include at /Users/dev/Documents/repos/ecommerceApp-main/app/controllers/concerns/authorizable.rb:7)
Processing by ShipmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mShipment Load (0.4ms)[0m  [1m[34mSELECT  "shipments".* FROM "shipments" WHERE "shipments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/shipments_controller.rb:19
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/shipments_controller.rb:19
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/shipments_controller.rb:19
  Rendering shipments/show.html.erb within layouts/application
  Rendered shipments/show.html.erb within layouts/application (25.5ms)
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/layouts/_header.html.erb:24
  Rendered layouts/_header.html.erb (8.1ms)
  Rendered layouts/_alert.html.erb (0.3ms)
Completed 200 OK in 368ms (Views: 248.1ms | ActiveRecord: 95.6ms)


Started PATCH "/shipments/2" for ::1 at 2023-04-21 08:48:32 -0700
Processing by ShipmentsController#update as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"OILSGsCW6FddSEeRg4swfNt2JQyAJ7scIdwmNbdJ1VYP3VtFsu1pYhmq/s5+RmLBH8/H0oKxSi+KqA0pQ7xe/w==", "shipment"=>{"customer_name"=>"121231234", "shipping_address"=>"", "phone_number"=>"", "payment_method"=>"cash_on_delivery", "order_id"=>"2", "user_id"=>"2"}, "commit"=>"Confirm Order", "id"=>"2"}
  [1m[36mShipment Load (12.0ms)[0m  [1m[34mSELECT  "shipments".* FROM "shipments" WHERE "shipments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/shipments_controller.rb:19
  [1m[36mUser Load (12.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/shipments_controller.rb:19
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/shipments_controller.rb:19
Unpermitted parameter: :user_id
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/shipments_controller.rb:8
  [1m[35m (10.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/controllers/shipments_controller.rb:8
Redirected to http://localhost:3000/products
Completed 302 Found in 44ms (ActiveRecord: 35.1ms)


Started GET "/products" for ::1 at 2023-04-21 08:48:32 -0700
Processing by ProductsController#index as HTML
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:7
  Rendering products/index.html.erb within layouts/application
  [1m[35m (1.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" WHERE (user_id != 2)[0m
  â†³ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (user_id != 2)[0m
  â†³ app/views/products/index.html.erb:7
  [1m[36mActiveStorage::Attachment Exists (16.9ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/index.html.erb:11
  Rendered products/index.html.erb within layouts/application (84.6ms)
  Rendered layouts/_header.html.erb (0.9ms)
  Rendered layouts/_alert.html.erb (0.2ms)
Completed 200 OK in 151ms (Views: 72.4ms | ActiveRecord: 64.8ms)


Started GET "/shipments/2" for ::1 at 2023-04-21 08:48:46 -0700
DEPRECATION WARNING: 'include Pundit' is deprecated. Please use 'include Pundit::Authorization' instead.
 (called from include at /Users/dev/Documents/repos/ecommerceApp-main/app/controllers/concerns/authorizable.rb:7)
Processing by ShipmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mShipment Load (11.2ms)[0m  [1m[34mSELECT  "shipments".* FROM "shipments" WHERE "shipments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/shipments_controller.rb:18
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/shipments_controller.rb:18
  [1m[36mOrder Load (1.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/shipments_controller.rb:18
  Rendering shipments/show.html.erb within layouts/application
  Rendered shipments/show.html.erb within layouts/application (10.0ms)
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/layouts/_header.html.erb:24
  Rendered layouts/_header.html.erb (3.1ms)
  Rendered layouts/_alert.html.erb (0.4ms)
Completed 200 OK in 228ms (Views: 78.7ms | ActiveRecord: 124.3ms)


Started PATCH "/shipments/2" for ::1 at 2023-04-21 08:48:48 -0700
Processing by ShipmentsController#update as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"+93c0x4lCjeC6e8qcHT1JEqH5r8ZXyamhUHN8RinaGHMglWMbF6LAsYLVnWNuaeZjj4EYRvJ15UuNebt7FLjyA==", "shipment"=>{"customer_name"=>"121231234", "shipping_address"=>"", "phone_number"=>"", "payment_method"=>"cash_on_delivery", "order_id"=>"2", "user_id"=>"2"}, "commit"=>"Confirm Order", "id"=>"2"}
  [1m[36mShipment Load (0.9ms)[0m  [1m[34mSELECT  "shipments".* FROM "shipments" WHERE "shipments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/shipments_controller.rb:18
  [1m[36mUser Load (8.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/shipments_controller.rb:18
  [1m[36mOrder Load (0.9ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/shipments_controller.rb:18
Unpermitted parameter: :user_id
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/shipments_controller.rb:8
  [1m[35m (9.6ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/controllers/shipments_controller.rb:8
Completed 422 Unprocessable Entity in 40ms (ActiveRecord: 20.2ms)


  
ActiveRecord::RecordInvalid (Validation failed: Shipping address can't be blank, Phone number can't be blank):
  
app/controllers/shipments_controller.rb:8:in `update'
Started PATCH "/shipments/2" for ::1 at 2023-04-21 08:48:54 -0700
DEPRECATION WARNING: 'include Pundit' is deprecated. Please use 'include Pundit::Authorization' instead.
 (called from include at /Users/dev/Documents/repos/ecommerceApp-main/app/controllers/concerns/authorizable.rb:7)
Processing by ShipmentsController#update as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"+93c0x4lCjeC6e8qcHT1JEqH5r8ZXyamhUHN8RinaGHMglWMbF6LAsYLVnWNuaeZjj4EYRvJ15UuNebt7FLjyA==", "shipment"=>{"customer_name"=>"121231234", "shipping_address"=>"", "phone_number"=>"", "payment_method"=>"cash_on_delivery", "order_id"=>"2", "user_id"=>"2"}, "commit"=>"Confirm Order", "id"=>"2"}
  [1m[36mShipment Load (0.8ms)[0m  [1m[34mSELECT  "shipments".* FROM "shipments" WHERE "shipments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/shipments_controller.rb:18
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/shipments_controller.rb:18
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/shipments_controller.rb:18
Unpermitted parameter: :user_id
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/shipments_controller.rb:8
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/controllers/shipments_controller.rb:8
Redirected to http://localhost:3000/shipments/2
Completed 302 Found in 108ms (ActiveRecord: 80.6ms)


Started GET "/shipments/2" for ::1 at 2023-04-21 08:48:54 -0700
Processing by ShipmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mShipment Load (2.1ms)[0m  [1m[34mSELECT  "shipments".* FROM "shipments" WHERE "shipments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/shipments_controller.rb:18
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/shipments_controller.rb:18
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/shipments_controller.rb:18
  Rendering shipments/show.html.erb within layouts/application
  Rendered shipments/show.html.erb within layouts/application (4.7ms)
  [1m[36mUser Load (6.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/layouts/_header.html.erb:24
  Rendered layouts/_header.html.erb (8.5ms)
  Rendered layouts/_alert.html.erb (0.3ms)
Completed 200 OK in 63ms (Views: 50.4ms | ActiveRecord: 9.4ms)


Started PATCH "/shipments/2" for ::1 at 2023-04-21 08:48:58 -0700
Processing by ShipmentsController#update as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"TlfWAtHFfMJ6NGjC0s2etaka3UVNlWlMTYV5q1dAbtp5CF9do7799z7W0Z0vAMwIbaM/m08DmH/m8VK3o7Xlcw==", "shipment"=>{"customer_name"=>"121231234", "shipping_address"=>"123", "phone_number"=>"123123", "payment_method"=>"cash_on_delivery", "order_id"=>"2", "user_id"=>"2"}, "commit"=>"Confirm Order", "id"=>"2"}
  [1m[36mShipment Load (0.4ms)[0m  [1m[34mSELECT  "shipments".* FROM "shipments" WHERE "shipments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/shipments_controller.rb:18
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/shipments_controller.rb:18
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/shipments_controller.rb:18
Unpermitted parameter: :user_id
  [1m[35m (7.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/shipments_controller.rb:8
  [1m[36mShipment Update (1.5ms)[0m  [1m[33mUPDATE "shipments" SET "customer_name" = $1, "shipping_address" = $2, "phone_number" = $3, "payment_method" = $4, "status" = $5, "updated_at" = $6 WHERE "shipments"."id" = $7[0m  [["customer_name", "121231234"], ["shipping_address", "123"], ["phone_number", "123123"], ["payment_method", "Cash On Delivery"], ["status", 1], ["updated_at", "2023-04-21 15:48:58.675937"], ["id", 2]]
  â†³ app/controllers/shipments_controller.rb:8
  [1m[35m (1.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/shipments_controller.rb:8
Redirected to http://localhost:3000/products
Completed 302 Found in 15ms (ActiveRecord: 10.8ms)


Started GET "/products" for ::1 at 2023-04-21 08:48:58 -0700
Processing by ProductsController#index as HTML
  [1m[36mUser Load (6.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:7
  Rendering products/index.html.erb within layouts/application
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" WHERE (user_id != 2)[0m
  â†³ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (user_id != 2)[0m
  â†³ app/views/products/index.html.erb:7
  [1m[36mActiveStorage::Attachment Exists (18.6ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/index.html.erb:11
  Rendered products/index.html.erb within layouts/application (76.7ms)
  Rendered layouts/_header.html.erb (0.8ms)
  Rendered layouts/_alert.html.erb (0.2ms)
Completed 200 OK in 142ms (Views: 59.6ms | ActiveRecord: 66.9ms)


Started GET "/products/1" for ::1 at 2023-04-21 08:49:08 -0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (1.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:68
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:69
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/policies/product_policy.rb:23
  Rendering products/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:5
  Rendered cart_items/_form.html.erb (2.8ms)
  Rendered products/show.html.erb within layouts/application (7.0ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_alert.html.erb (0.3ms)
Completed 200 OK in 137ms (Views: 50.3ms | ActiveRecord: 52.7ms)


Started GET "/products" for ::1 at 2023-04-21 08:57:17 -0700
  [1m[35m (4.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ /Users/dev/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.6/lib/active_record/log_subscriber.rb:98
DEPRECATION WARNING: 'include Pundit' is deprecated. Please use 'include Pundit::Authorization' instead.
 (called from include at /Users/dev/Documents/repos/ecommerceApp-main/app/controllers/concerns/authorizable.rb:7)
Processing by ProductsController#index as HTML
  [1m[36mUser Load (2.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:7
  Rendering products/index.html.erb within layouts/application
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" WHERE (user_id != 2)[0m
  â†³ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (user_id != 2)[0m
  â†³ app/views/products/index.html.erb:7
  [1m[36mActiveStorage::Attachment Exists (6.2ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/index.html.erb:11
  Rendered products/index.html.erb within layouts/application (282.2ms)
  Rendered layouts/_header.html.erb (3.4ms)
  Rendered layouts/_alert.html.erb (0.2ms)
Completed 200 OK in 573ms (Views: 388.2ms | ActiveRecord: 138.7ms)


Started GET "/orders" for ::1 at 2023-04-21 08:57:19 -0700
Processing by OrdersController#index as HTML
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/orders_controller.rb:3
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (1.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/orders/index.html.erb:18
  Rendered orders/index.html.erb within layouts/application (28.0ms)
Completed 500 Internal Server Error in 72ms (ActiveRecord: 46.5ms)


  
ActionView::Template::Error (Association named 'shipments' was not found on Order; perhaps you misspelled it?):
    15:       </tr>
    16:     </thead>
    17:     <tbody>
    18:       <% @orders.each do |order| %>
    19:         <tr>
    20:           <td><%= order.id %></td>
    21:           <td><%= number_to_currency(order.amount_paid) %></td>
  
app/views/orders/index.html.erb:18:in `_app_views_orders_index_html_erb__1168689992898387564_70318322139280'
Started GET "/orders" for ::1 at 2023-04-21 08:57:34 -0700
DEPRECATION WARNING: 'include Pundit' is deprecated. Please use 'include Pundit::Authorization' instead.
 (called from include at /Users/dev/Documents/repos/ecommerceApp-main/app/controllers/concerns/authorizable.rb:7)
Processing by OrdersController#index as HTML
  [1m[36mUser Load (6.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/orders_controller.rb:3
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/orders/index.html.erb:18
  [1m[36mShipment Load (2.0ms)[0m  [1m[34mSELECT "shipments".* FROM "shipments" WHERE "shipments"."order_id" IN ($1, $2)[0m  [["order_id", 1], ["order_id", 2]]
  â†³ app/views/orders/index.html.erb:18
  Rendered orders/index.html.erb within layouts/application (162.3ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_alert.html.erb (0.3ms)
Completed 200 OK in 322ms (Views: 88.5ms | ActiveRecord: 200.8ms)


Started GET "/orders/2" for ::1 at 2023-04-21 08:57:37 -0700
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/orders_controller.rb:7
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/orders_controller.rb:7
  [1m[36mShipment Load (0.3ms)[0m  [1m[34mSELECT "shipments".* FROM "shipments" WHERE "shipments"."order_id" = $1[0m  [["order_id", 2]]
  â†³ app/controllers/orders_controller.rb:7
  Rendering orders/show.html.erb within layouts/application
  Rendered orders/show.html.erb within layouts/application (6.0ms)
Completed 500 Internal Server Error in 15ms (ActiveRecord: 1.3ms)


  
ActionView::Template::Error (undefined method `shipments' for #<Order:0x00007fe884164198>
Did you mean?  shipment
               shipment=):
    16:       </tr>
    17:       <tr>
    18:         <td><strong>Shipping Address:</strong></td>
    19:         <td><%= @order.shipments.first.shipping_address %></td>
    20:       </tr>
    21:       <tr>
    22:         <td><strong>Phone Number:</strong></td>
  
app/views/orders/show.html.erb:19:in `_app_views_orders_show_html_erb___3404613110162657997_70318312579600'
Started GET "/orders/2" for ::1 at 2023-04-21 08:57:57 -0700
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (11.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/orders_controller.rb:7
  [1m[36mOrder Load (1.8ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/orders_controller.rb:7
  [1m[36mShipment Load (1.0ms)[0m  [1m[34mSELECT "shipments".* FROM "shipments" WHERE "shipments"."order_id" = $1[0m  [["order_id", 2]]
  â†³ app/controllers/orders_controller.rb:7
  Rendering orders/show.html.erb within layouts/application
  Rendered orders/show.html.erb within layouts/application (0.8ms)
  Rendered layouts/_header.html.erb (1.2ms)
  Rendered layouts/_alert.html.erb (0.3ms)
Completed 200 OK in 101ms (Views: 66.8ms | ActiveRecord: 14.3ms)


Started GET "/orders" for ::1 at 2023-04-21 08:58:00 -0700
Processing by OrdersController#index as HTML
  [1m[36mUser Load (25.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/orders_controller.rb:3
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/orders/index.html.erb:18
  [1m[36mShipment Load (1.5ms)[0m  [1m[34mSELECT "shipments".* FROM "shipments" WHERE "shipments"."order_id" IN ($1, $2)[0m  [["order_id", 1], ["order_id", 2]]
  â†³ app/views/orders/index.html.erb:18
  Rendered orders/index.html.erb within layouts/application (5.6ms)
  Rendered layouts/_header.html.erb (1.1ms)
  Rendered layouts/_alert.html.erb (0.4ms)
Completed 200 OK in 99ms (Views: 63.1ms | ActiveRecord: 27.4ms)


Started GET "/orders/1" for ::1 at 2023-04-21 08:58:01 -0700
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/orders_controller.rb:7
  [1m[36mOrder Load (23.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/orders_controller.rb:7
  [1m[36mShipment Load (0.4ms)[0m  [1m[34mSELECT "shipments".* FROM "shipments" WHERE "shipments"."order_id" = $1[0m  [["order_id", 1]]
  â†³ app/controllers/orders_controller.rb:7
  Rendering orders/show.html.erb within layouts/application
  Rendered orders/show.html.erb within layouts/application (1.1ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_alert.html.erb (0.2ms)
Completed 200 OK in 78ms (Views: 41.8ms | ActiveRecord: 24.0ms)


Started GET "/orders" for ::1 at 2023-04-21 08:58:03 -0700
Processing by OrdersController#index as HTML
  [1m[36mUser Load (4.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/orders_controller.rb:3
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (1.0ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/orders/index.html.erb:18
  [1m[36mShipment Load (0.7ms)[0m  [1m[34mSELECT "shipments".* FROM "shipments" WHERE "shipments"."order_id" IN ($1, $2)[0m  [["order_id", 1], ["order_id", 2]]
  â†³ app/views/orders/index.html.erb:18
  Rendered orders/index.html.erb within layouts/application (7.6ms)
  Rendered layouts/_header.html.erb (1.3ms)
  Rendered layouts/_alert.html.erb (0.3ms)
Completed 200 OK in 85ms (Views: 70.1ms | ActiveRecord: 6.0ms)


Started GET "/cart_items" for ::1 at 2023-04-21 08:58:04 -0700
Processing by CartItemsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cart_items_controller.rb:7
  Rendering cart_items/index.html.erb within layouts/application
  [1m[35m (6.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:6
  Rendered cart_items/index.html.erb within layouts/application (7.2ms)
  Rendered layouts/_header.html.erb (1.2ms)
  Rendered layouts/_alert.html.erb (0.2ms)
Completed 200 OK in 66ms (Views: 48.6ms | ActiveRecord: 11.4ms)


Started GET "/products/mine" for ::1 at 2023-04-21 08:58:05 -0700
Processing by ProductsController#mine as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:57
  Rendering products/mine.html.erb within layouts/application
  [1m[36mProduct Load (6.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (user_id = 2)[0m
  â†³ app/views/products/mine.html.erb:9
  Rendered products/mine.html.erb within layouts/application (31.9ms)
  Rendered layouts/_header.html.erb (0.9ms)
  Rendered layouts/_alert.html.erb (0.3ms)
Completed 200 OK in 89ms (Views: 45.0ms | ActiveRecord: 30.3ms)


Started GET "/products/mine" for ::1 at 2023-04-21 09:02:38 -0700
Processing by ProductsController#mine as HTML
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:57
  Rendering products/mine.html.erb within layouts/application
  [1m[36mProduct Load (1.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (user_id = 2)[0m
  â†³ app/views/products/mine.html.erb:9
  Rendered products/mine.html.erb within layouts/application (4.3ms)
  Rendered layouts/_header.html.erb (1.8ms)
  Rendered layouts/_alert.html.erb (0.3ms)
Completed 200 OK in 110ms (Views: 91.8ms | ActiveRecord: 2.2ms)


Started GET "/products/new" for ::1 at 2023-04-21 09:02:40 -0700
Processing by ProductsController#new as HTML
  [1m[36mUser Load (4.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:12
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (72.9ms)
  Rendered products/new.html.erb within layouts/application (74.5ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_alert.html.erb (0.2ms)
Completed 200 OK in 221ms (Views: 113.6ms | ActiveRecord: 73.2ms)


Started POST "/products" for ::1 at 2023-04-21 09:02:45 -0700
Processing by ProductsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"IGYhv2qm4pJaic4Ss8DdSV32+jxtKAMAIzFWocLhsxaZYiqUE6IEZu4zipKMDoucBGln1mpA5rN4aPj9WfFMew==", "product"=>{"name"=>"123", "description"=>"123123123", "price"=>"1.0", "quantity"=>"5"}, "commit"=>"Create"}
Unpermitted parameters: :utf8, :authenticity_token, :product, :commit
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:17
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/products_controller.rb:19
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/controllers/products_controller.rb:19
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (2.7ms)
  Rendered products/new.html.erb within layouts/application (3.9ms)
  Rendered layouts/_header.html.erb (0.9ms)
  Rendered layouts/_alert.html.erb (0.2ms)
Completed 200 OK in 51ms (Views: 45.2ms | ActiveRecord: 0.8ms)


Started POST "/products" for ::1 at 2023-04-21 09:02:51 -0700
Processing by ProductsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"IjtXxneymTh7DXFhzB5AJ15Z+G4Q/9aXPo5J5mTbaKoVZN6ZBckYDT/vyD4x0xKamuAasBJpJ6SV+mL6kC7jAw==", "product"=>{"name"=>"asdasds", "description"=>"12312312312", "price"=>"1.0", "quantity"=>"5"}, "commit"=>"Create"}
Unpermitted parameters: :utf8, :authenticity_token, :product, :commit
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:17
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/products_controller.rb:19
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/controllers/products_controller.rb:19
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (2.7ms)
  Rendered products/new.html.erb within layouts/application (4.0ms)
  Rendered layouts/_header.html.erb (0.9ms)
  Rendered layouts/_alert.html.erb (0.2ms)
Completed 200 OK in 65ms (Views: 52.3ms | ActiveRecord: 1.1ms)


Started POST "/products" for ::1 at 2023-04-21 09:03:30 -0700
DEPRECATION WARNING: 'include Pundit' is deprecated. Please use 'include Pundit::Authorization' instead.
 (called from include at /Users/dev/Documents/repos/ecommerceApp-main/app/controllers/concerns/authorizable.rb:7)
Processing by ProductsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"4ADOdyRuRUrv2nC/UBp+1sGNoeqWs1vIFdfOVwmXvJDXX0coVhXEf6s4yeCt1yxrBTRDNJQlqvu+o+VL/WI3OQ==", "product"=>{"name"=>"12312312", "description"=>"12312312\r\n", "price"=>"1.0", "quantity"=>"5"}, "commit"=>"Create"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:17
  [1m[35m (7.5ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/products_controller.rb:19
  [1m[36mProduct Create (3.5ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "12312312"], ["description", "12312312\r\n"], ["user_id", 2], ["created_at", "2023-04-21 16:03:30.346371"], ["updated_at", "2023-04-21 16:03:30.346371"]]
  â†³ app/controllers/products_controller.rb:19
  [1m[35m (5.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/products_controller.rb:19
Redirected to http://localhost:3000/products/mine
Completed 302 Found in 128ms (ActiveRecord: 96.2ms)


Started GET "/products/mine" for ::1 at 2023-04-21 09:03:30 -0700
Processing by ProductsController#mine as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:57
  Rendering products/mine.html.erb within layouts/application
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (user_id = 2)[0m
  â†³ app/views/products/mine.html.erb:9
  [1m[36mActiveStorage::Attachment Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/mine.html.erb:13
  Rendered products/mine.html.erb within layouts/application (11.3ms)
  Rendered layouts/_header.html.erb (1.1ms)
  Rendered layouts/_alert.html.erb (0.3ms)
Completed 200 OK in 74ms (Views: 61.7ms | ActiveRecord: 6.3ms)


Started GET "/products/mine" for ::1 at 2023-04-21 09:04:58 -0700
Processing by ProductsController#mine as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:57
  Rendering products/mine.html.erb within layouts/application
  [1m[36mProduct Load (1.9ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (user_id = 2)[0m
  â†³ app/views/products/mine.html.erb:9
  [1m[36mActiveStorage::Attachment Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/mine.html.erb:13
  Rendered products/mine.html.erb within layouts/application (6.4ms)
  Rendered layouts/_header.html.erb (2.0ms)
  Rendered layouts/_alert.html.erb (0.3ms)
Completed 200 OK in 72ms (Views: 64.1ms | ActiveRecord: 3.5ms)


Started GET "/products/mine" for ::1 at 2023-04-21 09:04:59 -0700
Processing by ProductsController#mine as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:57
  Rendering products/mine.html.erb within layouts/application
  [1m[36mProduct Load (6.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (user_id = 2)[0m
  â†³ app/views/products/mine.html.erb:9
  [1m[36mActiveStorage::Attachment Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/mine.html.erb:13
  Rendered products/mine.html.erb within layouts/application (11.2ms)
  Rendered layouts/_header.html.erb (1.1ms)
  Rendered layouts/_alert.html.erb (0.2ms)
Completed 200 OK in 75ms (Views: 62.5ms | ActiveRecord: 7.4ms)


Started GET "/products/mine" for ::1 at 2023-04-21 09:06:16 -0700
Processing by ProductsController#mine as HTML
  [1m[36mUser Load (4.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:57
  Rendering products/mine.html.erb within layouts/application
  [1m[36mProduct Load (19.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (user_id = 2)[0m
  â†³ app/views/products/mine.html.erb:9
  [1m[36mActiveStorage::Attachment Exists (10.9ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/mine.html.erb:13
  Rendered products/mine.html.erb within layouts/application (36.0ms)
  Rendered layouts/_header.html.erb (1.3ms)
  Rendered layouts/_alert.html.erb (0.2ms)
Completed 200 OK in 164ms (Views: 107.7ms | ActiveRecord: 34.7ms)


Started GET "/products/mine" for ::1 at 2023-04-21 09:06:17 -0700
Processing by ProductsController#mine as HTML
  [1m[36mUser Load (5.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:57
  Rendering products/mine.html.erb within layouts/application
  [1m[36mProduct Load (10.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (user_id = 2)[0m
  â†³ app/views/products/mine.html.erb:9
  [1m[36mActiveStorage::Attachment Exists (2.2ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/mine.html.erb:13
  Rendered products/mine.html.erb within layouts/application (20.8ms)
  Rendered layouts/_header.html.erb (1.3ms)
  Rendered layouts/_alert.html.erb (0.3ms)
Completed 200 OK in 89ms (Views: 57.5ms | ActiveRecord: 18.3ms)


Started GET "/products/mine" for ::1 at 2023-04-21 09:06:23 -0700
Processing by ProductsController#mine as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:57
  Rendering products/mine.html.erb within layouts/application
  [1m[36mProduct Load (2.8ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (user_id = 2)[0m
  â†³ app/views/products/mine.html.erb:9
  [1m[36mActiveStorage::Attachment Exists (1.2ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/mine.html.erb:13
  Rendered products/mine.html.erb within layouts/application (10.7ms)
  Rendered layouts/_header.html.erb (0.9ms)
  Rendered layouts/_alert.html.erb (0.2ms)
Completed 200 OK in 66ms (Views: 55.4ms | ActiveRecord: 4.4ms)


Started GET "/products/mine" for ::1 at 2023-04-21 09:07:33 -0700
Processing by ProductsController#mine as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:57
  Rendering products/mine.html.erb within layouts/application
  [1m[36mProduct Load (1.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (user_id = 2)[0m
  â†³ app/views/products/mine.html.erb:9
  [1m[36mActiveStorage::Attachment Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/mine.html.erb:13
  Rendered products/mine.html.erb within layouts/application (7.2ms)
  Rendered layouts/_header.html.erb (1.6ms)
  Rendered layouts/_alert.html.erb (0.5ms)
Completed 200 OK in 112ms (Views: 90.0ms | ActiveRecord: 2.6ms)


Started GET "/products/mine" for ::1 at 2023-04-21 09:07:38 -0700
Processing by ProductsController#mine as HTML
  [1m[36mUser Load (10.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:57
  Rendering products/mine.html.erb within layouts/application
  [1m[36mProduct Load (6.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (user_id = 2)[0m
  â†³ app/views/products/mine.html.erb:9
  [1m[36mActiveStorage::Attachment Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/mine.html.erb:13
  Rendered products/mine.html.erb within layouts/application (9.9ms)
  Rendered layouts/_header.html.erb (1.6ms)
  Rendered layouts/_alert.html.erb (0.2ms)
Completed 200 OK in 95ms (Views: 63.9ms | ActiveRecord: 18.0ms)


Started GET "/products/mine" for ::1 at 2023-04-21 09:08:31 -0700
Processing by ProductsController#mine as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:57
  Rendering products/mine.html.erb within layouts/application
  [1m[36mProduct Load (1.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (user_id = 2)[0m
  â†³ app/views/products/mine.html.erb:8
  Rendered products/mine.html.erb within layouts/application (3.4ms)
  Rendered layouts/_header.html.erb (1.4ms)
  Rendered layouts/_alert.html.erb (0.3ms)
Completed 200 OK in 64ms (Views: 57.9ms | ActiveRecord: 2.0ms)


Started GET "/products/mine" for ::1 at 2023-04-21 09:09:48 -0700
Processing by ProductsController#mine as HTML
  [1m[36mUser Load (6.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:57
  Rendering products/mine.html.erb within layouts/application
  [1m[36mProduct Load (19.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (user_id = 2)[0m
  â†³ app/views/products/mine.html.erb:8
  Rendered products/mine.html.erb within layouts/application (23.7ms)
  Rendered layouts/_header.html.erb (1.6ms)
  Rendered layouts/_alert.html.erb (0.4ms)
Completed 200 OK in 127ms (Views: 79.3ms | ActiveRecord: 25.7ms)


Started GET "/products/mine" for ::1 at 2023-04-21 09:09:49 -0700
Processing by ProductsController#mine as HTML
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:57
  Rendering products/mine.html.erb within layouts/application
  [1m[36mProduct Load (3.7ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (user_id = 2)[0m
  â†³ app/views/products/mine.html.erb:8
  Rendered products/mine.html.erb within layouts/application (6.9ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_alert.html.erb (0.3ms)
Completed 200 OK in 90ms (Views: 78.1ms | ActiveRecord: 4.5ms)


Started GET "/products/mine" for ::1 at 2023-04-21 09:09:52 -0700
Processing by ProductsController#mine as HTML
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:57
  Rendering products/mine.html.erb within layouts/application
  [1m[36mProduct Load (1.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (user_id = 2)[0m
  â†³ app/views/products/mine.html.erb:8
  Rendered products/mine.html.erb within layouts/application (2.5ms)
  Rendered layouts/_header.html.erb (1.1ms)
  Rendered layouts/_alert.html.erb (0.2ms)
Completed 200 OK in 52ms (Views: 46.8ms | ActiveRecord: 2.6ms)


Started GET "/products/mine" for ::1 at 2023-04-21 09:11:47 -0700
Processing by ProductsController#mine as HTML
  [1m[36mUser Load (3.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:57
  Rendering products/mine.html.erb within layouts/application
  [1m[36mProduct Load (14.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (user_id = 2)[0m
  â†³ app/views/products/mine.html.erb:8
  Rendered products/mine.html.erb within layouts/application (18.4ms)
  Rendered layouts/_header.html.erb (2.2ms)
  Rendered layouts/_alert.html.erb (0.4ms)
Completed 200 OK in 100ms (Views: 67.4ms | ActiveRecord: 18.4ms)


Started GET "/products/mine" for ::1 at 2023-04-21 09:12:56 -0700
Processing by ProductsController#mine as HTML
  [1m[36mUser Load (5.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:57
  Rendering products/mine.html.erb within layouts/application
  [1m[36mProduct Load (2.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (user_id = 2)[0m
  â†³ app/views/products/mine.html.erb:8
  Rendered products/mine.html.erb within layouts/application (4.4ms)
  Rendered layouts/_header.html.erb (1.2ms)
  Rendered layouts/_alert.html.erb (0.3ms)
Completed 200 OK in 65ms (Views: 51.9ms | ActiveRecord: 7.9ms)


Started GET "/products/search.json?keyword=12" for ::1 at 2023-04-21 09:13:12 -0700
Processing by ProductsController#search as JSON
  Parameters: {"keyword"=>"12"}
Completed 406 Not Acceptable in 47ms (ActiveRecord: 0.0ms)


  
ActionController::UnknownFormat (ProductsController#search is missing a template for this request format and variant.

request.formats: ["application/json"]
request.variant: []):
  
actionpack (5.2.6) lib/action_controller/metal/implicit_render.rb:42:in `default_render'
actionpack (5.2.6) lib/action_controller/metal/basic_implicit_render.rb:6:in `block in send_action'
actionpack (5.2.6) lib/action_controller/metal/basic_implicit_render.rb:6:in `tap'
actionpack (5.2.6) lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
actionpack (5.2.6) lib/abstract_controller/base.rb:194:in `process_action'
actionpack (5.2.6) lib/action_controller/metal/rendering.rb:30:in `process_action'
actionpack (5.2.6) lib/abstract_controller/callbacks.rb:42:in `block in process_action'
activesupport (5.2.6) lib/active_support/callbacks.rb:132:in `run_callbacks'
actionpack (5.2.6) lib/abstract_controller/callbacks.rb:41:in `process_action'
actionpack (5.2.6) lib/action_controller/metal/rescue.rb:22:in `process_action'
actionpack (5.2.6) lib/action_controller/metal/instrumentation.rb:34:in `block in process_action'
activesupport (5.2.6) lib/active_support/notifications.rb:168:in `block in instrument'
activesupport (5.2.6) lib/active_support/notifications/instrumenter.rb:23:in `instrument'
activesupport (5.2.6) lib/active_support/notifications.rb:168:in `instrument'
actionpack (5.2.6) lib/action_controller/metal/instrumentation.rb:32:in `process_action'
actionpack (5.2.6) lib/action_controller/metal/params_wrapper.rb:256:in `process_action'
activerecord (5.2.6) lib/active_record/railties/controller_runtime.rb:24:in `process_action'
actionpack (5.2.6) lib/abstract_controller/base.rb:134:in `process'
actionview (5.2.6) lib/action_view/rendering.rb:32:in `process'
actionpack (5.2.6) lib/action_controller/metal.rb:191:in `dispatch'
actionpack (5.2.6) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (5.2.6) lib/action_dispatch/routing/route_set.rb:52:in `dispatch'
actionpack (5.2.6) lib/action_dispatch/routing/route_set.rb:34:in `serve'
actionpack (5.2.6) lib/action_dispatch/journey/router.rb:52:in `block in serve'
actionpack (5.2.6) lib/action_dispatch/journey/router.rb:35:in `each'
actionpack (5.2.6) lib/action_dispatch/journey/router.rb:35:in `serve'
actionpack (5.2.6) lib/action_dispatch/routing/route_set.rb:840:in `call'
warden (1.2.9) lib/warden/manager.rb:36:in `block in call'
warden (1.2.9) lib/warden/manager.rb:34:in `catch'
warden (1.2.9) lib/warden/manager.rb:34:in `call'
rack (2.2.3) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.2.3) lib/rack/etag.rb:27:in `call'
rack (2.2.3) lib/rack/conditional_get.rb:27:in `call'
rack (2.2.3) lib/rack/head.rb:12:in `call'
actionpack (5.2.6) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.2.3) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.3) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (5.2.6) lib/action_dispatch/middleware/cookies.rb:670:in `call'
activerecord (5.2.6) lib/active_record/migration.rb:559:in `call'
actionpack (5.2.6) lib/action_dispatch/middleware/callbacks.rb:28:in `block in call'
activesupport (5.2.6) lib/active_support/callbacks.rb:98:in `run_callbacks'
actionpack (5.2.6) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (5.2.6) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.6) lib/action_dispatch/middleware/debug_exceptions.rb:61:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.6) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.6) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.6) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.6) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.6) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.6) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.6) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.6) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.6) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.6) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.6) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.6) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
railties (5.2.6) lib/rails/engine.rb:524:in `call'
puma (3.12.6) lib/puma/configuration.rb:227:in `call'
puma (3.12.6) lib/puma/server.rb:706:in `handle_request'
puma (3.12.6) lib/puma/server.rb:476:in `process_client'
puma (3.12.6) lib/puma/server.rb:334:in `block in run'
puma (3.12.6) lib/puma/thread_pool.rb:135:in `block in spawn_thread'
Started GET "/products/search.json?keyword=121" for ::1 at 2023-04-21 09:13:12 -0700
Processing by ProductsController#search as JSON
  Parameters: {"keyword"=>"121"}
Completed 406 Not Acceptable in 35ms (ActiveRecord: 0.0ms)


  
ActionController::UnknownFormat (ProductsController#search is missing a template for this request format and variant.

request.formats: ["application/json"]
request.variant: []):
  
actionpack (5.2.6) lib/action_controller/metal/implicit_render.rb:42:in `default_render'
actionpack (5.2.6) lib/action_controller/metal/basic_implicit_render.rb:6:in `block in send_action'
actionpack (5.2.6) lib/action_controller/metal/basic_implicit_render.rb:6:in `tap'
actionpack (5.2.6) lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
actionpack (5.2.6) lib/abstract_controller/base.rb:194:in `process_action'
actionpack (5.2.6) lib/action_controller/metal/rendering.rb:30:in `process_action'
actionpack (5.2.6) lib/abstract_controller/callbacks.rb:42:in `block in process_action'
activesupport (5.2.6) lib/active_support/callbacks.rb:132:in `run_callbacks'
actionpack (5.2.6) lib/abstract_controller/callbacks.rb:41:in `process_action'
actionpack (5.2.6) lib/action_controller/metal/rescue.rb:22:in `process_action'
actionpack (5.2.6) lib/action_controller/metal/instrumentation.rb:34:in `block in process_action'
activesupport (5.2.6) lib/active_support/notifications.rb:168:in `block in instrument'
activesupport (5.2.6) lib/active_support/notifications/instrumenter.rb:23:in `instrument'
activesupport (5.2.6) lib/active_support/notifications.rb:168:in `instrument'
actionpack (5.2.6) lib/action_controller/metal/instrumentation.rb:32:in `process_action'
actionpack (5.2.6) lib/action_controller/metal/params_wrapper.rb:256:in `process_action'
activerecord (5.2.6) lib/active_record/railties/controller_runtime.rb:24:in `process_action'
actionpack (5.2.6) lib/abstract_controller/base.rb:134:in `process'
actionview (5.2.6) lib/action_view/rendering.rb:32:in `process'
actionpack (5.2.6) lib/action_controller/metal.rb:191:in `dispatch'
actionpack (5.2.6) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (5.2.6) lib/action_dispatch/routing/route_set.rb:52:in `dispatch'
actionpack (5.2.6) lib/action_dispatch/routing/route_set.rb:34:in `serve'
actionpack (5.2.6) lib/action_dispatch/journey/router.rb:52:in `block in serve'
actionpack (5.2.6) lib/action_dispatch/journey/router.rb:35:in `each'
actionpack (5.2.6) lib/action_dispatch/journey/router.rb:35:in `serve'
actionpack (5.2.6) lib/action_dispatch/routing/route_set.rb:840:in `call'
warden (1.2.9) lib/warden/manager.rb:36:in `block in call'
warden (1.2.9) lib/warden/manager.rb:34:in `catch'
warden (1.2.9) lib/warden/manager.rb:34:in `call'
rack (2.2.3) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.2.3) lib/rack/etag.rb:27:in `call'
rack (2.2.3) lib/rack/conditional_get.rb:27:in `call'
rack (2.2.3) lib/rack/head.rb:12:in `call'
actionpack (5.2.6) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.2.3) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.3) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (5.2.6) lib/action_dispatch/middleware/cookies.rb:670:in `call'
activerecord (5.2.6) lib/active_record/migration.rb:559:in `call'
actionpack (5.2.6) lib/action_dispatch/middleware/callbacks.rb:28:in `block in call'
activesupport (5.2.6) lib/active_support/callbacks.rb:98:in `run_callbacks'
actionpack (5.2.6) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (5.2.6) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.6) lib/action_dispatch/middleware/debug_exceptions.rb:61:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.6) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.6) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.6) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.6) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.6) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.6) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.6) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.6) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.6) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.6) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.6) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.6) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
railties (5.2.6) lib/rails/engine.rb:524:in `call'
puma (3.12.6) lib/puma/configuration.rb:227:in `call'
puma (3.12.6) lib/puma/server.rb:706:in `handle_request'
puma (3.12.6) lib/puma/server.rb:476:in `process_client'
puma (3.12.6) lib/puma/server.rb:334:in `block in run'
puma (3.12.6) lib/puma/thread_pool.rb:135:in `block in spawn_thread'
Started GET "/products/search?utf8=%E2%9C%93&keyword=121&button=" for ::1 at 2023-04-21 09:13:12 -0700
Started GET "/products/search.json?keyword=121" for ::1 at 2023-04-21 09:13:12 -0700
Processing by ProductsController#search as HTML
  Parameters: {"utf8"=>"âœ“", "keyword"=>"121", "button"=>""}
  Rendering products/search.html.erb within layouts/application
Processing by ProductsController#search as JSON
  Parameters: {"keyword"=>"121"}
  [1m[35m (17.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" WHERE (name ILIKE '%121%')[0m
  â†³ app/views/products/search.html.erb:6
  Rendered products/search.html.erb within layouts/application (19.0ms)
Completed 406 Not Acceptable in 57ms (ActiveRecord: 0.0ms)


  
ActionController::UnknownFormat (ProductsController#search is missing a template for this request format and variant.

request.formats: ["application/json"]
request.variant: []):
  
actionpack (5.2.6) lib/action_controller/metal/implicit_render.rb:42:in `default_render'
actionpack (5.2.6) lib/action_controller/metal/basic_implicit_render.rb:6:in `block in send_action'
actionpack (5.2.6) lib/action_controller/metal/basic_implicit_render.rb:6:in `tap'
actionpack (5.2.6) lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
actionpack (5.2.6) lib/abstract_controller/base.rb:194:in `process_action'
actionpack (5.2.6) lib/action_controller/metal/rendering.rb:30:in `process_action'
actionpack (5.2.6) lib/abstract_controller/callbacks.rb:42:in `block in process_action'
activesupport (5.2.6) lib/active_support/callbacks.rb:132:in `run_callbacks'
actionpack (5.2.6) lib/abstract_controller/callbacks.rb:41:in `process_action'
actionpack (5.2.6) lib/action_controller/metal/rescue.rb:22:in `process_action'
actionpack (5.2.6) lib/action_controller/metal/instrumentation.rb:34:in `block in process_action'
activesupport (5.2.6) lib/active_support/notifications.rb:168:in `block in instrument'
activesupport (5.2.6) lib/active_support/notifications/instrumenter.rb:23:in `instrument'
activesupport (5.2.6) lib/active_support/notifications.rb:168:in `instrument'
actionpack (5.2.6) lib/action_controller/metal/instrumentation.rb:32:in `process_action'
actionpack (5.2.6) lib/action_controller/metal/params_wrapper.rb:256:in `process_action'
activerecord (5.2.6) lib/active_record/railties/controller_runtime.rb:24:in `process_action'
actionpack (5.2.6) lib/abstract_controller/base.rb:134:in `process'
actionview (5.2.6) lib/action_view/rendering.rb:32:in `process'
actionpack (5.2.6) lib/action_controller/metal.rb:191:in `dispatch'
actionpack (5.2.6) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (5.2.6) lib/action_dispatch/routing/route_set.rb:52:in `dispatch'
actionpack (5.2.6) lib/action_dispatch/routing/route_set.rb:34:in `serve'
actionpack (5.2.6) lib/action_dispatch/journey/router.rb:52:in `block in serve'
actionpack (5.2.6) lib/action_dispatch/journey/router.rb:35:in `each'
actionpack (5.2.6) lib/action_dispatch/journey/router.rb:35:in `serve'
actionpack (5.2.6) lib/action_dispatch/routing/route_set.rb:840:in `call'
warden (1.2.9) lib/warden/manager.rb:36:in `block in call'
warden (1.2.9) lib/warden/manager.rb:34:in `catch'
warden (1.2.9) lib/warden/manager.rb:34:in `call'
rack (2.2.3) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.2.3) lib/rack/etag.rb:27:in `call'
rack (2.2.3) lib/rack/conditional_get.rb:27:in `call'
rack (2.2.3) lib/rack/head.rb:12:in `call'
actionpack (5.2.6) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.2.3) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.3) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (5.2.6) lib/action_dispatch/middleware/cookies.rb:670:in `call'
activerecord (5.2.6) lib/active_record/migration.rb:559:in `call'
actionpack (5.2.6) lib/action_dispatch/middleware/callbacks.rb:28:in `block in call'
activesupport (5.2.6) lib/active_support/callbacks.rb:98:in `run_callbacks'
actionpack (5.2.6) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (5.2.6) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.6) lib/action_dispatch/middleware/debug_exceptions.rb:61:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.6) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.6) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.6) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.6) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.6) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.6) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.6) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.6) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.6) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.6) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.6) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.6) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
railties (5.2.6) lib/rails/engine.rb:524:in `call'
puma (3.12.6) lib/puma/configuration.rb:227:in `call'
puma (3.12.6) lib/puma/server.rb:706:in `handle_request'
puma (3.12.6) lib/puma/server.rb:476:in `process_client'
puma (3.12.6) lib/puma/server.rb:334:in `block in run'
puma (3.12.6) lib/puma/thread_pool.rb:135:in `block in spawn_thread'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/layouts/_header.html.erb:24
  Rendered layouts/_header.html.erb (2.6ms)
  Rendered layouts/_alert.html.erb (0.3ms)
Completed 200 OK in 177ms (Views: 157.4ms | ActiveRecord: 17.9ms)


Started DELETE "/users/sign_out" for ::1 at 2023-04-21 09:13:29 -0700
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"/7aDXMJK/vY0bepbKp3jyw+XOhCaCgKgUpJgMBjWqbzI6QoDsDF/w3CPUwTXULF2yy7Yzpic85P55kss7CMiFQ=="}
  [1m[36mUser Load (14.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ /Users/dev/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.6/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/dev/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.6/lib/active_record/log_subscriber.rb:98
  [1m[35m (18.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/dev/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.6/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/
Completed 302 Found in 41ms (ActiveRecord: 32.9ms)


Started GET "/" for ::1 at 2023-04-21 09:13:29 -0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[35m (2.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  â†³ app/views/products/index.html.erb:6
  [1m[36mProduct Load (9.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/views/products/index.html.erb:7
  [1m[36mActiveStorage::Attachment Exists (22.7ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/index.html.erb:12
  Rendered products/index.html.erb within layouts/application (40.9ms)
Completed 500 Internal Server Error in 47ms (ActiveRecord: 34.1ms)


  
ActionView::Template::Error (The asset "no-image-available.png" is not present in the asset pipeline.
):
    17:                 <% end %>
    18:               <% else %>
    19:                 <div class="carousel-item active">
    20:                   <%= image_tag 'no-image-available.png', class: 'd-block w-100', alt: 'No Image Available' %>
    21:                 </div>
    22:               <% end %>
    23:             </div>
  
app/views/products/index.html.erb:20:in `block in _app_views_products_index_html_erb___345285953139769522_70318586886280'
app/views/products/index.html.erb:7:in `_app_views_products_index_html_erb___345285953139769522_70318586886280'
Started GET "/" for ::1 at 2023-04-21 09:14:22 -0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[35m (3.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  â†³ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/views/products/index.html.erb:7
  [1m[36mActiveStorage::Attachment Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/index.html.erb:11
  [1m[36mActiveStorage::Attachment Exists (12.8ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/index.html.erb:11
  Rendered products/index.html.erb within layouts/application (25.4ms)
  Rendered layouts/_header.html.erb (2.3ms)
  Rendered layouts/_alert.html.erb (0.4ms)
Completed 200 OK in 96ms (Views: 74.2ms | ActiveRecord: 17.1ms)


Started GET "/" for ::1 at 2023-04-21 09:15:29 -0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[35m (1.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  â†³ app/views/products/index.html.erb:6
  [1m[36mProduct Load (23.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/views/products/index.html.erb:7
  [1m[36mActiveStorage::Attachment Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/index.html.erb:12
  [1m[36mCACHE ActiveStorage::Attachment Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/index.html.erb:20
  [1m[36mActiveStorage::Attachment Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/index.html.erb:12
  [1m[36mCACHE ActiveStorage::Attachment Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/index.html.erb:20
  Rendered products/index.html.erb within layouts/application (40.8ms)
  Rendered layouts/_header.html.erb (1.6ms)
  Rendered layouts/_alert.html.erb (0.3ms)
Completed 200 OK in 114ms (Views: 83.5ms | ActiveRecord: 26.4ms)


Started GET "/products/1" for ::1 at 2023-04-21 09:15:33 -0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (1.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:68
  Rendering products/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:5
  Rendered cart_items/_form.html.erb (31.4ms)
  Rendered products/show.html.erb within layouts/application (37.3ms)
  Rendered layouts/_header.html.erb (1.1ms)
  Rendered layouts/_alert.html.erb (0.2ms)
Completed 200 OK in 221ms (Views: 80.0ms | ActiveRecord: 85.3ms)


Started GET "/products/1" for ::1 at 2023-04-21 09:17:56 -0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (12.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:68
  Rendering products/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Exists (1.5ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:9
  Rendered cart_items/_form.html.erb (13.0ms)
  Rendered products/show.html.erb within layouts/application (21.0ms)
  Rendered layouts/_header.html.erb (1.3ms)
  Rendered layouts/_alert.html.erb (0.3ms)
Completed 200 OK in 115ms (Views: 94.0ms | ActiveRecord: 13.4ms)


Started GET "/products/1" for ::1 at 2023-04-21 09:19:06 -0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (1.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:68
  Rendering products/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Exists (14.2ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:9
  Rendered cart_items/_form.html.erb (5.8ms)
  Rendered products/show.html.erb within layouts/application (28.9ms)
  Rendered layouts/_header.html.erb (1.6ms)
  Rendered layouts/_alert.html.erb (0.4ms)
Completed 200 OK in 118ms (Views: 90.6ms | ActiveRecord: 15.2ms)


Started POST "/cart_items" for ::1 at 2023-04-21 09:19:23 -0700
Processing by CartItemsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"SSb8z2PJG8rp/6b9qEdJWO/y7G8qzXHw7rn+RvK995h+eXWQEbKa/60dH6JVihvlK0sOsShbgMNFzdVaBkh8MQ==", "cart_item"=>{"product_id"=>"1", "quantity"=>"3"}, "commit"=>"Add to cart"}
  [1m[36mProduct Load (1.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/helpers/cart_item_helper.rb:23
Redirected to http://localhost:3000/cart_items
Completed 302 Found in 3ms (ActiveRecord: 1.1ms)


Started GET "/cart_items" for ::1 at 2023-04-21 09:19:24 -0700
Processing by CartItemsController#index as HTML
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/cart_items_controller.rb:13
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/cart_items_controller.rb:14
  Rendering cart_items/index.html.erb within layouts/application
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:21
  [1m[36mActiveStorage::Attachment Exists (7.1ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:23
  Rendered cart_items/_quantity.html.erb (1.9ms)
  Rendered cart_items/index.html.erb within layouts/application (14.3ms)
  Rendered layouts/_header.html.erb (1.3ms)
  Rendered layouts/_alert.html.erb (0.4ms)
Completed 200 OK in 76ms (Views: 65.1ms | ActiveRecord: 7.7ms)


Started PUT "/cart_items/1" for ::1 at 2023-04-21 09:19:25 -0700
Started GET "/cart_items/" for ::1 at 2023-04-21 09:19:25 -0700
Processing by CartItemsController#update as JS
  Parameters: {"utf8"=>"âœ“", "cart_item"=>{"product_id"=>"1", "quantity"=>"4"}, "button"=>"", "id"=>"1"}
No template found for CartItemsController#update, rendering head :no_content
Completed 204 No Content in 132ms (ActiveRecord: 0.0ms)


Processing by CartItemsController#index as TEXT
  [1m[36mProduct Load (1.9ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/cart_items_controller.rb:13
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/cart_items_controller.rb:14
  Rendering cart_items/index.html.erb within layouts/application
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:21
  [1m[36mActiveStorage::Attachment Exists (13.9ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:23
  Rendered cart_items/_quantity.html.erb (1.9ms)
  Rendered cart_items/index.html.erb within layouts/application (30.1ms)
  Rendered layouts/_header.html.erb (1.1ms)
  Rendered layouts/_alert.html.erb (0.3ms)
Completed 200 OK in 153ms (Views: 85.8ms | ActiveRecord: 16.6ms)


Started PUT "/cart_items/1" for ::1 at 2023-04-21 09:19:26 -0700
Started GET "/cart_items/" for ::1 at 2023-04-21 09:19:26 -0700
Processing by CartItemsController#update as JS
  Parameters: {"utf8"=>"âœ“", "cart_item"=>{"product_id"=>"1", "quantity"=>"4"}, "button"=>"", "id"=>"1"}
Processing by CartItemsController#index as TEXT
  [1m[36mProduct Load (16.9ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/cart_items_controller.rb:13
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/cart_items_controller.rb:14
  Rendering cart_items/index.html.erb within layouts/application
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:21
  [1m[36mActiveStorage::Attachment Exists (1.8ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:23
  Rendered cart_items/_quantity.html.erb (2.4ms)
  Rendered cart_items/index.html.erb within layouts/application (18.8ms)
No template found for CartItemsController#update, rendering head :no_content
Completed 204 No Content in 191ms (ActiveRecord: 0.0ms)


Started PUT "/cart_items/1" for ::1 at 2023-04-21 09:19:26 -0700
Processing by CartItemsController#update as JS
  Parameters: {"utf8"=>"âœ“", "cart_item"=>{"product_id"=>"1", "quantity"=>"4"}, "button"=>"", "id"=>"1"}
  Rendered layouts/_header.html.erb (1.1ms)
  Rendered layouts/_alert.html.erb (0.4ms)
Completed 200 OK in 226ms (Views: 195.1ms | ActiveRecord: 18.7ms)


Started GET "/cart_items/" for ::1 at 2023-04-21 09:19:26 -0700
Processing by CartItemsController#index as TEXT
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/cart_items_controller.rb:13
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/cart_items_controller.rb:14
  Rendering cart_items/index.html.erb within layouts/application
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:21
Started PUT "/cart_items/1" for ::1 at 2023-04-21 09:19:26 -0700
  [1m[36mActiveStorage::Attachment Exists (13.8ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:23
  Rendered cart_items/_quantity.html.erb (2.8ms)
  Rendered cart_items/index.html.erb within layouts/application (31.1ms)
No template found for CartItemsController#update, rendering head :no_content
Completed 204 No Content in 193ms (ActiveRecord: 0.0ms)


  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_alert.html.erb (0.3ms)
Completed 200 OK in 177ms (Views: 150.0ms | ActiveRecord: 14.4ms)


Started GET "/cart_items/" for ::1 at 2023-04-21 09:19:26 -0700
Processing by CartItemsController#index as TEXT
  [1m[36mProduct Load (1.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/cart_items_controller.rb:13
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/cart_items_controller.rb:14
  Rendering cart_items/index.html.erb within layouts/application
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:21
Processing by CartItemsController#update as JS
  Parameters: {"utf8"=>"âœ“", "cart_item"=>{"product_id"=>"1", "quantity"=>"4"}, "button"=>"", "id"=>"1"}
  [1m[36mActiveStorage::Attachment Exists (9.6ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:23
  Rendered cart_items/_quantity.html.erb (3.2ms)
  Rendered cart_items/index.html.erb within layouts/application (53.3ms)
  Rendered layouts/_header.html.erb (1.1ms)
  Rendered layouts/_alert.html.erb (0.4ms)
Completed 200 OK in 170ms (Views: 147.1ms | ActiveRecord: 11.0ms)


No template found for CartItemsController#update, rendering head :no_content
Completed 204 No Content in 196ms (ActiveRecord: 0.0ms)


Started POST "/checkouts" for ::1 at 2023-04-21 09:19:33 -0700
Processing by CheckoutsController#create as JS
  Parameters: {"authenticity_token"=>"zUPNz20Pji8ku43aG0Jzzo2cIoB32FmT6pTfpOkGs3v6HESQH3QPGmBZNIXmjyFzSSXAXnVOqKBB4PS4HfM40g=="}
Redirected to http://localhost:3000/users/sign_in
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/services/order_service.rb:13
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/services/order_service.rb:13
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.4ms)


  
NoMethodError (undefined method `id' for nil:NilClass):
  
app/services/order_service.rb:45:in `line_items'
app/services/order_service.rb:57:in `amount_paid'
app/services/order_service.rb:15:in `block in create!'
app/services/order_service.rb:13:in `create!'
app/controllers/checkouts_controller.rb:7:in `create'
Started POST "/checkouts" for ::1 at 2023-04-21 09:24:57 -0700
DEPRECATION WARNING: 'include Pundit' is deprecated. Please use 'include Pundit::Authorization' instead.
 (called from include at /Users/dev/Documents/repos/ecommerceApp-main/app/controllers/concerns/authorizable.rb:7)
Processing by CheckoutsController#create as JS
  Parameters: {"authenticity_token"=>"zUPNz20Pji8ku43aG0Jzzo2cIoB32FmT6pTfpOkGs3v6HESQH3QPGmBZNIXmjyFzSSXAXnVOqKBB4PS4HfM40g=="}
Redirected to http://localhost:3000/users/sign_in
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/services/order_service.rb:13
  [1m[35m (9.1ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/services/order_service.rb:13
Completed 500 Internal Server Error in 80231ms (ActiveRecord: 9.3ms)


  
SystemExit (exit):
  
(byebug):1:in `exit'
(byebug):1:in `block in create!'
app/services/order_service.rb:15:in `block in create!'
app/services/order_service.rb:13:in `create!'
app/controllers/checkouts_controller.rb:7:in `create'
Started GET "/cart_items" for ::1 at 2023-04-21 09:26:18 -0700
Processing by CartItemsController#index as HTML
  [1m[36mProduct Load (1.8ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/cart_items_controller.rb:13
  [1m[36mCACHE Product Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/cart_items_controller.rb:14
  Rendering cart_items/index.html.erb within layouts/application
  [1m[36mCACHE Product Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:21
  [1m[36mActiveStorage::Attachment Exists (11.4ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:23
  Rendered cart_items/_quantity.html.erb (26.0ms)
  Rendered cart_items/index.html.erb within layouts/application (134.5ms)
  Rendered layouts/_header.html.erb (18.9ms)
  Rendered layouts/_alert.html.erb (2.2ms)
Completed 200 OK in 1331ms (Views: 1019.6ms | ActiveRecord: 141.8ms)


Started POST "/checkouts" for ::1 at 2023-04-21 09:26:23 -0700
Processing by CheckoutsController#create as JS
  Parameters: {"authenticity_token"=>"JOAMp6GHlNtwRnRoE+0XZJEYzdYiRFNXm4zgwIohuWcTv4X40/wV7jSkzTfuIEXZVaEvCCDSomQw+MvcftQyzg=="}
Redirected to http://localhost:3000/users/sign_in
  [1m[35m (0.9ms)[0m  [1m[35mBEGIN[0m
  â†³ app/services/order_service.rb:13
  [1m[35m (0.9ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/services/order_service.rb:13
Completed 500 Internal Server Error in 3485ms (ActiveRecord: 1.8ms)


  
SystemExit (exit):
  
(byebug):1:in `exit'
(byebug):1:in `block in create!'
app/services/order_service.rb:15:in `block in create!'
app/services/order_service.rb:13:in `create!'
app/controllers/checkouts_controller.rb:7:in `create'
Started GET "/cart_items" for ::1 at 2023-04-21 09:26:41 -0700
DEPRECATION WARNING: 'include Pundit' is deprecated. Please use 'include Pundit::Authorization' instead.
 (called from include at /Users/dev/Documents/repos/ecommerceApp-main/app/controllers/concerns/authorizable.rb:7)
Processing by CartItemsController#index as HTML
  [1m[36mProduct Load (22.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/cart_items_controller.rb:13
  [1m[36mCACHE Product Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/cart_items_controller.rb:14
  Rendering cart_items/index.html.erb within layouts/application
  [1m[36mCACHE Product Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:21
  [1m[36mActiveStorage::Attachment Exists (1.6ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:23
  Rendered cart_items/_quantity.html.erb (48.8ms)
  Rendered cart_items/index.html.erb within layouts/application (222.8ms)
  Rendered layouts/_header.html.erb (18.9ms)
  Rendered layouts/_alert.html.erb (3.0ms)
Completed 200 OK in 1906ms (Views: 1491.1ms | ActiveRecord: 144.0ms)


Started POST "/checkouts" for ::1 at 2023-04-21 09:26:46 -0700
Processing by CheckoutsController#create as JS
  Parameters: {"authenticity_token"=>"/uLm+8cYlWDg1syBaZ81VRtQ2hQdc3pC50sPWCTW9G/JvW+ktWMUVaQ0dd6UUmfo3+k4yh/li3FMPyRE0CN/xg=="}
Redirected to http://localhost:3000/users/sign_in
Completed 500 Internal Server Error in 46354ms (ActiveRecord: 0.0ms)


  
SystemExit (exit):
  
(byebug):1:in `exit'
(byebug):1:in `create'
app/controllers/checkouts_controller.rb:7:in `create'
Started GET "/cart_items" for ::1 at 2023-04-21 09:27:34 -0700
DEPRECATION WARNING: 'include Pundit' is deprecated. Please use 'include Pundit::Authorization' instead.
 (called from include at /Users/dev/Documents/repos/ecommerceApp-main/app/controllers/concerns/authorizable.rb:7)
Processing by CartItemsController#index as HTML
  [1m[36mProduct Load (1.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/cart_items_controller.rb:13
  [1m[36mCACHE Product Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/cart_items_controller.rb:14
  Rendering cart_items/index.html.erb within layouts/application
  [1m[36mCACHE Product Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:21
  [1m[36mActiveStorage::Attachment Exists (3.9ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:23
  Rendered cart_items/_quantity.html.erb (35.0ms)
  Rendered cart_items/index.html.erb within layouts/application (190.8ms)
  Rendered layouts/_header.html.erb (19.2ms)
  Rendered layouts/_alert.html.erb (3.0ms)
Completed 200 OK in 1937ms (Views: 1548.3ms | ActiveRecord: 123.3ms)


Started POST "/checkouts" for ::1 at 2023-04-21 09:27:39 -0700
Processing by CheckoutsController#create as JS
  Parameters: {"authenticity_token"=>"W9AqIzzqtuYY5+YelEFnHoDXCC/91NRAUUWpHsfTmDJsj6N8TpE301wFX0FpjDWjRG7q8f9CJXP6MYICMyYTmw=="}
Redirected to http://localhost:3000/users/sign_in
Completed 200 OK in 20ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for ::1 at 2023-04-21 09:27:39 -0700
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (15.5ms)
  Rendered devise/sessions/new.html.erb within layouts/application (69.0ms)
  Rendered layouts/_header.html.erb (15.4ms)
  Rendered layouts/_alert.html.erb (8.2ms)
Completed 200 OK in 1617ms (Views: 1434.6ms | ActiveRecord: 36.4ms)


Started POST "/users/sign_in" for ::1 at 2023-04-21 09:27:49 -0700
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"yw6qQtDVk5sMChvyCmzGLoEacNF6XQzQJ+5m54BXnRdVUWHxaKagq7CVYE+zuoXpGAQ7lhcCDvN1StjlIYQajg==", "user"=>{"email"=>"hello@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (17.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "hello@gmail.com"], ["LIMIT", 1]]
  â†³ /Users/dev/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.6/lib/active_record/log_subscriber.rb:98
Completed 401 Unauthorized in 63ms (ActiveRecord: 17.3ms)


Processing by Devise::SessionsController#new as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"yw6qQtDVk5sMChvyCmzGLoEacNF6XQzQJ+5m54BXnRdVUWHxaKagq7CVYE+zuoXpGAQ7lhcCDvN1StjlIYQajg==", "user"=>{"email"=>"hello@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (14.8ms)
  Rendered devise/sessions/new.html.erb within layouts/application (57.9ms)
  Rendered layouts/_header.html.erb (19.0ms)
  Rendered layouts/_alert.html.erb (3.1ms)
Completed 200 OK in 1686ms (Views: 1390.8ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for ::1 at 2023-04-21 09:27:56 -0700
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"CRjNPdaSw1UE8vWBP3C1zvRd4nDjVbA+lzPCA6BYfAk+R0RipOlCYEAQTN7CvedzMOQAruHDQQ08R+kfVK33oA==", "user"=>{"email"=>"1234@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (4.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "1234@gmail.com"], ["LIMIT", 1]]
  â†³ /Users/dev/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.6/lib/active_record/log_subscriber.rb:98
  [1m[36mProduct Load (1.6ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/concerns/load_cart.rb:19
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/concerns/load_cart.rb:22
  [1m[36mCartItem Load (9.8ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1 AND "cart_items"."product_id" = $2 LIMIT $3[0m  [["user_id", 2], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/concerns/load_cart.rb:26
  [1m[35m (1.0ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/concerns/load_cart.rb:26
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/concerns/load_cart.rb:26
  [1m[36mCACHE Product Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/concerns/load_cart.rb:26
  [1m[36mCartItem Create (8.8ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 2], ["product_id", 1], ["created_at", "2023-04-21 16:27:57.161825"], ["updated_at", "2023-04-21 16:27:57.161825"]]
  â†³ app/controllers/concerns/load_cart.rb:26
  [1m[35m (12.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/concerns/load_cart.rb:26
  [1m[35m (0.9ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/concerns/load_cart.rb:28
  [1m[36mCartItem Update (4.8ms)[0m  [1m[33mUPDATE "cart_items" SET "quantity" = $1, "updated_at" = $2 WHERE "cart_items"."id" = $3[0m  [["quantity", 3], ["updated_at", "2023-04-21 16:27:57.216541"], ["id", 3]]
  â†³ app/controllers/concerns/load_cart.rb:28
  [1m[35m (10.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/concerns/load_cart.rb:28
  [1m[35m (2.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/controllers/concerns/load_cart.rb:37
  [1m[36mCartItem Load (1.3ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/controllers/concerns/load_cart.rb:37
Redirected to http://localhost:3000/
Completed 302 Found in 623ms (ActiveRecord: 60.9ms)


Started GET "/" for ::1 at 2023-04-21 09:27:57 -0700
Processing by ProductsController#index as HTML
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:7
  Rendering products/index.html.erb within layouts/application
  [1m[35m (13.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" WHERE (user_id != 2)[0m
  â†³ app/views/products/index.html.erb:6
  [1m[36mProduct Load (2.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (user_id != 2)[0m
  â†³ app/views/products/index.html.erb:7
  [1m[36mActiveStorage::Attachment Exists (1.6ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/index.html.erb:12
  [1m[36mCACHE ActiveStorage::Attachment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/index.html.erb:20
  Rendered products/index.html.erb within layouts/application (94.9ms)
  Rendered layouts/_header.html.erb (20.8ms)
  Rendered layouts/_alert.html.erb (8.2ms)
Completed 200 OK in 1486ms (Views: 1418.3ms | ActiveRecord: 19.3ms)


Started GET "/products/1" for ::1 at 2023-04-21 09:28:01 -0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (14.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:68
  [1m[36mUser Load (3.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:69
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/policies/product_policy.rb:23
  Rendering products/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Exists (1.5ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:9
  Rendered cart_items/_form.html.erb (60.2ms)
  Rendered products/show.html.erb within layouts/application (103.7ms)
  Rendered layouts/_header.html.erb (16.3ms)
  Rendered layouts/_alert.html.erb (3.0ms)
Completed 200 OK in 1533ms (Views: 1443.4ms | ActiveRecord: 20.4ms)


Started POST "/cart_items" for ::1 at 2023-04-21 09:28:04 -0700
Processing by CartItemsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"jF55qmTuoLqjJUOUlpuHOEohIedLwRrs7uxvQGYgYgsATsZQw61Vf2Fkpx5vyINErmRGrYqTTUnyGrbuKLb/LQ==", "cart_item"=>{"product_id"=>"1", "quantity"=>"1"}, "commit"=>"Add to cart"}
  [1m[36mUser Load (11.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cart_items_controller.rb:21
  [1m[36mCartItem Load (1.3ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."product_id" = $1 AND "cart_items"."user_id" = $2 LIMIT $3[0m  [["product_id", 1], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/helpers/cart_item_helper.rb:5
  [1m[36mProduct Load (13.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/helpers/cart_item_helper.rb:8
  [1m[35m (1.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/helpers/cart_item_helper.rb:14
  [1m[36mUser Load (22.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/helpers/cart_item_helper.rb:14
  [1m[35m (11.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/helpers/cart_item_helper.rb:14
Redirected to http://localhost:3000/cart_items
Completed 302 Found in 197ms (ActiveRecord: 60.8ms)


Started GET "/cart_items" for ::1 at 2023-04-21 09:28:04 -0700
Processing by CartItemsController#index as HTML
  [1m[36mUser Load (9.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cart_items_controller.rb:7
  Rendering cart_items/index.html.erb within layouts/application
  [1m[35m (1.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:4
  [1m[35mCACHE  (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:18
  [1m[36mCartItem Load (21.2ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:21
  [1m[36mProduct Load (7.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:21
  [1m[36mActiveStorage::Attachment Exists (1.8ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:23
  Rendered cart_items/_quantity.html.erb (32.0ms)
  Rendered cart_items/index.html.erb within layouts/application (176.7ms)
  Rendered layouts/_header.html.erb (16.8ms)
  Rendered layouts/_alert.html.erb (3.4ms)
Completed 200 OK in 1605ms (Views: 1522.8ms | ActiveRecord: 41.3ms)


Started POST "/checkouts" for ::1 at 2023-04-21 09:28:09 -0700
Processing by CheckoutsController#create as JS
  Parameters: {"authenticity_token"=>"l4jG/FmXAiz+IEwic9g6qRQWB4N3WvV/lA+WSg6c2blRW2zgpLgIAJWmTuyYNxhXvqdUKWjCJI5JqAlzy1JE0w=="}
  [1m[36mUser Load (6.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/checkouts_controller.rb:5
  [1m[35m (7.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/services/order_service.rb:13
  [1m[36mCartItem Load (1.5ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/services/order_service.rb:46
  [1m[36mProduct Load (9.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1[0m  [["id", 1]]
  â†³ app/services/order_service.rb:46
  [1m[36mOrder Create (19.8ms)[0m  [1m[32mINSERT INTO "orders" ("amount_paid", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["amount_paid", "100.0"], ["user_id", 2], ["created_at", "2023-04-21 16:28:10.381402"], ["updated_at", "2023-04-21 16:28:10.381402"]]
  â†³ app/services/order_service.rb:14
  [1m[36mOrderItem Create Many (3.1ms)[0m  [1m[32mINSERT INTO "order_items" ("product_id","price","quantity","order_id","created_at","updated_at") VALUES (1,100,3,3,'2023-04-21 16:28:10.499939','2023-04-21 16:28:10.499939') RETURNING "id"[0m
  â†³ app/services/order_service.rb:18
  [1m[36mProduct Create Many (11.2ms)[0m  [1m[32mINSERT INTO "products" ("id","name","description","price","quantity","user_id","created_at","updated_at") VALUES (1,'hello','12312312312321',1.0,0,1,'2023-04-21 15:13:43.593588','2023-04-21 16:28:10.590599') ON CONFLICT (id) DO UPDATE SET "quantity"=EXCLUDED."quantity","updated_at"=EXCLUDED."updated_at"  RETURNING "id"[0m
  â†³ app/services/order_service.rb:68
  [1m[36mCartItem Destroy (1.5ms)[0m  [1m[31mDELETE FROM "cart_items" WHERE "cart_items"."id" = $1[0m  [["id", 3]]
  â†³ app/services/order_service.rb:22
  [1m[35m (6.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/services/order_service.rb:13
Redirected to http://localhost:3000/products
Completed 200 OK in 925ms (ActiveRecord: 157.0ms)


Started GET "/products" for ::1 at 2023-04-21 09:28:10 -0700
Processing by ProductsController#index as HTML
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:7
  Rendering products/index.html.erb within layouts/application
  [1m[35m (7.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" WHERE (user_id != 2)[0m
  â†³ app/views/products/index.html.erb:6
  [1m[36mProduct Load (1.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (user_id != 2)[0m
  â†³ app/views/products/index.html.erb:7
  [1m[36mActiveStorage::Attachment Exists (6.8ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/index.html.erb:12
  [1m[36mCACHE ActiveStorage::Attachment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/index.html.erb:20
  Rendered products/index.html.erb within layouts/application (92.2ms)
  Rendered layouts/_header.html.erb (21.2ms)
  Rendered layouts/_alert.html.erb (3.5ms)
Completed 200 OK in 1508ms (Views: 1455.8ms | ActiveRecord: 17.8ms)


Started GET "/cart_items" for ::1 at 2023-04-21 09:28:23 -0700
DEPRECATION WARNING: 'include Pundit' is deprecated. Please use 'include Pundit::Authorization' instead.
 (called from include at /Users/dev/Documents/repos/ecommerceApp-main/app/controllers/concerns/authorizable.rb:7)
Processing by CartItemsController#index as HTML
  [1m[36mUser Load (8.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cart_items_controller.rb:7
  Rendering cart_items/index.html.erb within layouts/application
  [1m[35m (1.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:4
  Rendered cart_items/index.html.erb within layouts/application (14.3ms)
Started PUT "/cart_items/1" for ::1 at 2023-04-21 09:28:25 -0700
  Rendered layouts/_header.html.erb (17.3ms)
  Rendered layouts/_alert.html.erb (3.3ms)
Completed 200 OK in 1810ms (Views: 1482.2ms | ActiveRecord: 90.4ms)


Started GET "/cart_items/" for ::1 at 2023-04-21 09:28:27 -0700
DEPRECATION WARNING: 'include Pundit' is deprecated. Please use 'include Pundit::Authorization' instead.
 (called from include at /Users/dev/Documents/repos/ecommerceApp-main/app/controllers/concerns/authorizable.rb:7)
Processing by CartItemsController#update as JS
  Parameters: {"utf8"=>"âœ“", "cart_item"=>{"product_id"=>"1", "quantity"=>"4"}, "button"=>"", "id"=>"1"}
Processing by CartItemsController#index as TEXT
  [1m[36mUser Load (6.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cart_items_controller.rb:26
  [1m[36mUser Load (58.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cart_items_controller.rb:7
  Rendering cart_items/index.html.erb within layouts/application
  [1m[36mCartItem Load (14.6ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."product_id" = $1 LIMIT $2[0m  [["product_id", 0], ["LIMIT", 1]]
  â†³ app/models/cart_item.rb:10
  [1m[35m (61.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:4
  Rendered cart_items/index.html.erb within layouts/application (74.2ms)
Started GET "/cart_items" for ::1 at 2023-04-21 09:28:29 -0700
Processing by CartItemsController#index as HTML
  [1m[36mUser Load (7.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cart_items_controller.rb:7
  Rendering cart_items/index.html.erb within layouts/application
  [1m[35m (10.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:4
  Rendered cart_items/index.html.erb within layouts/application (23.0ms)
No template found for CartItemsController#update, rendering head :no_content
Completed 204 No Content in 2782ms (ActiveRecord: 63.4ms)


  Rendered layouts/_header.html.erb (18.0ms)
  Rendered layouts/_alert.html.erb (3.2ms)
Completed 200 OK in 2850ms (Views: 2477.1ms | ActiveRecord: 159.4ms)


  Rendered layouts/_header.html.erb (22.5ms)
  Rendered layouts/_alert.html.erb (3.1ms)
Completed 200 OK in 2713ms (Views: 2643.6ms | ActiveRecord: 17.6ms)


Started GET "/cart_items" for ::1 at 2023-04-21 09:29:00 -0700
Processing by CartItemsController#index as HTML
  [1m[36mUser Load (6.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cart_items_controller.rb:7
  Rendering cart_items/index.html.erb within layouts/application
  [1m[35m (4.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:4
  Rendered cart_items/index.html.erb within layouts/application (22.7ms)
  Rendered layouts/_header.html.erb (24.7ms)
  Rendered layouts/_alert.html.erb (3.2ms)
Completed 200 OK in 1561ms (Views: 1512.1ms | ActiveRecord: 11.0ms)


Started GET "/products/mine" for ::1 at 2023-04-21 09:29:02 -0700
Processing by ProductsController#mine as HTML
  [1m[36mUser Load (8.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:57
  Rendering products/mine.html.erb within layouts/application
  [1m[36mProduct Load (2.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (user_id = 2)[0m
  â†³ app/views/products/mine.html.erb:8
  Rendered products/mine.html.erb within layouts/application (117.0ms)
  Rendered layouts/_header.html.erb (22.6ms)
  Rendered layouts/_alert.html.erb (3.0ms)
Completed 200 OK in 1720ms (Views: 1590.4ms | ActiveRecord: 10.6ms)


Started GET "/orders" for ::1 at 2023-04-21 09:29:08 -0700
Processing by OrdersController#index as HTML
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/orders_controller.rb:3
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (2.1ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/orders/index.html.erb:18
  [1m[36mShipment Load (4.6ms)[0m  [1m[34mSELECT "shipments".* FROM "shipments" WHERE "shipments"."order_id" IN ($1, $2, $3)[0m  [["order_id", 1], ["order_id", 2], ["order_id", 3]]
  â†³ app/views/orders/index.html.erb:18
  Rendered orders/index.html.erb within layouts/application (583.1ms)
Completed 500 Internal Server Error in 731ms (ActiveRecord: 82.6ms)


  
ActionView::Template::Error (undefined method `customer_name' for nil:NilClass):
    20:           <td><%= order.id %></td>
    21:           <td><%= number_to_currency(order.amount_paid) %></td>
    22:           <% shipment = order.shipment %>
    23:           <td><%= shipment.customer_name %></td>
    24:           <td><%= shipment.shipping_address %></td>
    25:           <td><%= shipment.phone_number %></td>
    26:           <td><%= shipment.payment_method %></td>
  
app/views/orders/index.html.erb:23:in `block in _app_views_orders_index_html_erb__1168689992898387564_70318318061720'
app/views/orders/index.html.erb:18:in `_app_views_orders_index_html_erb__1168689992898387564_70318318061720'
Started GET "/products/mine" for ::1 at 2023-04-21 09:29:13 -0700
Processing by ProductsController#mine as HTML
  [1m[36mUser Load (14.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:57
  Rendering products/mine.html.erb within layouts/application
  [1m[36mProduct Load (15.9ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (user_id = 2)[0m
  â†³ app/views/products/mine.html.erb:8
  Rendered products/mine.html.erb within layouts/application (45.4ms)
  Rendered layouts/_header.html.erb (16.3ms)
  Rendered layouts/_alert.html.erb (3.0ms)
Completed 200 OK in 1358ms (Views: 1293.2ms | ActiveRecord: 30.6ms)


Started GET "/" for ::1 at 2023-04-21 09:29:15 -0700
Processing by ProductsController#index as HTML
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:7
  Rendering products/index.html.erb within layouts/application
  [1m[35m (7.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" WHERE (user_id != 2)[0m
  â†³ app/views/products/index.html.erb:6
  [1m[36mProduct Load (1.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (user_id != 2)[0m
  â†³ app/views/products/index.html.erb:7
  [1m[36mActiveStorage::Attachment Exists (6.4ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/index.html.erb:12
  [1m[36mCACHE ActiveStorage::Attachment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/index.html.erb:20
  Rendered products/index.html.erb within layouts/application (119.8ms)
  Rendered layouts/_header.html.erb (16.6ms)
  Rendered layouts/_alert.html.erb (2.9ms)
Completed 200 OK in 1443ms (Views: 1394.0ms | ActiveRecord: 16.6ms)


Started GET "/products/1" for ::1 at 2023-04-21 09:29:19 -0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (1.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:68
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:69
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/policies/product_policy.rb:23
  Rendering products/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Exists (1.8ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:9
  Rendered products/show.html.erb within layouts/application (39.3ms)
  Rendered layouts/_header.html.erb (16.3ms)
  Rendered layouts/_alert.html.erb (7.3ms)
Completed 200 OK in 1471ms (Views: 1325.2ms | ActiveRecord: 6.2ms)


  [1m[36mProduct Load (1.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" ORDER BY "products"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mProduct Load (1.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" ORDER BY "products"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mProduct Load (1.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" ORDER BY "products"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (3.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mProduct Update (13.9ms)[0m  [1m[33mUPDATE "products" SET "quantity" = $1, "updated_at" = $2 WHERE "products"."id" = $3[0m  [["quantity", 10], ["updated_at", "2023-04-21 16:29:42.057253"], ["id", 1]]
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
Started GET "/products/1" for ::1 at 2023-04-21 09:29:43 -0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (1.6ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:68
  [1m[36mUser Load (2.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:69
  [1m[36mUser Load (7.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/policies/product_policy.rb:23
  Rendering products/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Exists (9.9ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:9
  Rendered cart_items/_form.html.erb (26.8ms)
  Rendered products/show.html.erb within layouts/application (77.6ms)
  Rendered layouts/_header.html.erb (21.1ms)
  Rendered layouts/_alert.html.erb (3.0ms)
Completed 200 OK in 1426ms (Views: 1342.2ms | ActiveRecord: 21.1ms)


Started POST "/cart_items" for ::1 at 2023-04-21 09:29:46 -0700
Processing by CartItemsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"P7w55PVFA+8jkIhtRSNTDPMvF7FHL2ZgBUC1cwKdPpn5b5P4CGoJw0gWiqOuzHHyWZ5EG1i3t5HY5ypKx1Oj8w==", "cart_item"=>{"product_id"=>"1", "quantity"=>"1"}, "commit"=>"Add to cart"}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cart_items_controller.rb:21
  [1m[36mCartItem Load (1.5ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."product_id" = $1 AND "cart_items"."user_id" = $2 LIMIT $3[0m  [["product_id", 1], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/helpers/cart_item_helper.rb:5
  [1m[35m (1.0ms)[0m  [1m[35mBEGIN[0m
  â†³ app/helpers/cart_item_helper.rb:5
  [1m[36mUser Load (6.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/helpers/cart_item_helper.rb:5
  [1m[36mProduct Load (9.7ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/helpers/cart_item_helper.rb:5
  [1m[36mCartItem Create (8.6ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 2], ["product_id", 1], ["created_at", "2023-04-21 16:29:47.120119"], ["updated_at", "2023-04-21 16:29:47.120119"]]
  â†³ app/helpers/cart_item_helper.rb:5
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/helpers/cart_item_helper.rb:5
  [1m[36mProduct Load (1.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/helpers/cart_item_helper.rb:12
  [1m[35m (6.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/helpers/cart_item_helper.rb:14
  [1m[36mCartItem Update (1.7ms)[0m  [1m[33mUPDATE "cart_items" SET "quantity" = $1, "updated_at" = $2 WHERE "cart_items"."id" = $3[0m  [["quantity", 1], ["updated_at", "2023-04-21 16:29:47.188692"], ["id", 4]]
  â†³ app/helpers/cart_item_helper.rb:14
  [1m[35m (1.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/helpers/cart_item_helper.rb:14
Redirected to http://localhost:3000/cart_items
Completed 302 Found in 246ms (ActiveRecord: 40.4ms)


Started GET "/cart_items" for ::1 at 2023-04-21 09:29:47 -0700
Processing by CartItemsController#index as HTML
  [1m[36mUser Load (7.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cart_items_controller.rb:7
  Rendering cart_items/index.html.erb within layouts/application
  [1m[35m (22.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:4
  [1m[35mCACHE  (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:18
  [1m[36mCartItem Load (1.3ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:21
  [1m[36mProduct Load (1.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:21
  [1m[36mActiveStorage::Attachment Exists (2.1ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:23
  Rendered cart_items/_quantity.html.erb (22.6ms)
  Rendered cart_items/index.html.erb within layouts/application (161.6ms)
  Rendered layouts/_header.html.erb (16.0ms)
  Rendered layouts/_alert.html.erb (3.4ms)
Completed 200 OK in 1501ms (Views: 1438.0ms | ActiveRecord: 35.0ms)


Started POST "/checkouts" for ::1 at 2023-04-21 09:29:50 -0700
Processing by CheckoutsController#create as JS
  Parameters: {"authenticity_token"=>"oiFwFOK1PdCiOaQw211T3cSsyXjWN+/8WxRtY+7F7/pk8toIH5o3/Mm/pv4wsnEjbh2a0smvPg2Gs/JaKwtykA=="}
  [1m[36mUser Load (2.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/checkouts_controller.rb:5
  [1m[35m (0.9ms)[0m  [1m[35mBEGIN[0m
  â†³ app/services/order_service.rb:13
  [1m[36mCartItem Load (6.2ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/services/order_service.rb:46
  [1m[36mProduct Load (1.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1[0m  [["id", 1]]
  â†³ app/services/order_service.rb:46
  [1m[36mOrder Create (2.2ms)[0m  [1m[32mINSERT INTO "orders" ("amount_paid", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["amount_paid", "100.0"], ["user_id", 2], ["created_at", "2023-04-21 16:29:51.251125"], ["updated_at", "2023-04-21 16:29:51.251125"]]
  â†³ app/services/order_service.rb:14
  [1m[36mOrderItem Create Many (21.9ms)[0m  [1m[32mINSERT INTO "order_items" ("product_id","price","quantity","order_id","created_at","updated_at") VALUES (1,100,1,4,'2023-04-21 16:29:51.363764','2023-04-21 16:29:51.363764') RETURNING "id"[0m
  â†³ app/services/order_service.rb:18
  [1m[36mProduct Create Many (6.6ms)[0m  [1m[32mINSERT INTO "products" ("id","name","description","price","quantity","user_id","created_at","updated_at") VALUES (1,'hello','12312312312321',1.0,9,1,'2023-04-21 15:13:43.593588','2023-04-21 16:29:51.462870') ON CONFLICT (id) DO UPDATE SET "quantity"=EXCLUDED."quantity","updated_at"=EXCLUDED."updated_at"  RETURNING "id"[0m
  â†³ app/services/order_service.rb:68
  [1m[36mCartItem Destroy (1.9ms)[0m  [1m[31mDELETE FROM "cart_items" WHERE "cart_items"."id" = $1[0m  [["id", 4]]
  â†³ app/services/order_service.rb:22
  [1m[35m (13.8ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/services/order_service.rb:13
Redirected to http://localhost:3000/products
Completed 200 OK in 490ms (ActiveRecord: 101.7ms)


Started GET "/products" for ::1 at 2023-04-21 09:29:51 -0700
Processing by ProductsController#index as HTML
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:7
  Rendering products/index.html.erb within layouts/application
  [1m[35m (3.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" WHERE (user_id != 2)[0m
  â†³ app/views/products/index.html.erb:6
  [1m[36mProduct Load (1.7ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (user_id != 2)[0m
  â†³ app/views/products/index.html.erb:7
  [1m[36mActiveStorage::Attachment Exists (1.8ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/index.html.erb:12
  [1m[36mCACHE ActiveStorage::Attachment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/index.html.erb:20
  Rendered products/index.html.erb within layouts/application (86.3ms)
  Rendered layouts/_header.html.erb (15.9ms)
  Rendered layouts/_alert.html.erb (3.4ms)
Completed 200 OK in 1417ms (Views: 1374.6ms | ActiveRecord: 8.7ms)


Started GET "/cart_items" for ::1 at 2023-04-21 09:30:26 -0700
DEPRECATION WARNING: 'include Pundit' is deprecated. Please use 'include Pundit::Authorization' instead.
 (called from include at /Users/dev/Documents/repos/ecommerceApp-main/app/controllers/concerns/authorizable.rb:7)
Processing by CartItemsController#index as HTML
  [1m[36mUser Load (19.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cart_items_controller.rb:7
  Rendering cart_items/index.html.erb within layouts/application
  [1m[35m (2.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:4
  Rendered cart_items/index.html.erb within layouts/application (15.3ms)
  Rendered layouts/_header.html.erb (17.0ms)
  Rendered layouts/_alert.html.erb (11.3ms)
Completed 200 OK in 1620ms (Views: 1386.6ms | ActiveRecord: 22.2ms)


Started GET "/cart_items" for ::1 at 2023-04-21 09:30:30 -0700
Processing by CartItemsController#index as HTML
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cart_items_controller.rb:7
  Rendering cart_items/index.html.erb within layouts/application
  [1m[35m (8.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:4
  Rendered cart_items/index.html.erb within layouts/application (21.1ms)
  Rendered layouts/_header.html.erb (17.0ms)
  Rendered layouts/_alert.html.erb (7.8ms)
Completed 200 OK in 1421ms (Views: 1368.2ms | ActiveRecord: 9.7ms)


Started GET "/cart_items" for ::1 at 2023-04-21 09:30:34 -0700
Processing by CartItemsController#index as HTML
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cart_items_controller.rb:7
  Rendering cart_items/index.html.erb within layouts/application
  [1m[35m (1.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:4
  Rendered cart_items/index.html.erb within layouts/application (14.2ms)
Started GET "/cart_items" for ::1 at 2023-04-21 09:30:35 -0700
Processing by CartItemsController#index as HTML
  [1m[36mUser Load (8.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cart_items_controller.rb:7
  Rendering cart_items/index.html.erb within layouts/application
  [1m[35m (20.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:4
  Rendered cart_items/index.html.erb within layouts/application (38.6ms)
  Rendered layouts/_header.html.erb (17.0ms)
  Rendered layouts/_alert.html.erb (3.0ms)
Completed 200 OK in 2151ms (Views: 2110.0ms | ActiveRecord: 2.8ms)


  Rendered layouts/_header.html.erb (22.2ms)
  Rendered layouts/_alert.html.erb (8.1ms)
Completed 200 OK in 2252ms (Views: 2177.5ms | ActiveRecord: 28.9ms)


Started GET "/" for ::1 at 2023-04-21 09:30:41 -0700
Processing by ProductsController#index as HTML
  [1m[36mUser Load (4.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:7
  Rendering products/index.html.erb within layouts/application
  [1m[35m (7.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" WHERE (user_id != 2)[0m
  â†³ app/views/products/index.html.erb:6
  [1m[36mProduct Load (2.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (user_id != 2)[0m
  â†³ app/views/products/index.html.erb:7
  [1m[36mActiveStorage::Attachment Exists (4.2ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/index.html.erb:12
  [1m[36mCACHE ActiveStorage::Attachment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/index.html.erb:20
  Rendered products/index.html.erb within layouts/application (268.1ms)
  Rendered layouts/_header.html.erb (21.8ms)
  Rendered layouts/_alert.html.erb (3.3ms)
Completed 200 OK in 1777ms (Views: 1594.1ms | ActiveRecord: 74.2ms)


Started GET "/products/1" for ::1 at 2023-04-21 09:30:44 -0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (14.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:68
  [1m[36mUser Load (7.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:69
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/policies/product_policy.rb:23
  Rendering products/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Exists (1.9ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:9
  Rendered cart_items/_form.html.erb (26.9ms)
  Rendered products/show.html.erb within layouts/application (75.9ms)
  Rendered layouts/_header.html.erb (21.6ms)
  Rendered layouts/_alert.html.erb (2.9ms)
Completed 200 OK in 1634ms (Views: 1427.9ms | ActiveRecord: 48.3ms)


Started POST "/cart_items" for ::1 at 2023-04-21 09:30:48 -0700
Processing by CartItemsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"isyl1n/EZF3B22VNWgCfL6eHfQcPJLltrrws/qPQefoG3Bos2IeRmAOagcejU5tTQ8IaTc527siySvVQ7Ubk3A==", "cart_item"=>{"product_id"=>"1", "quantity"=>"1"}, "commit"=>"Add to cart"}
  [1m[36mUser Load (2.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cart_items_controller.rb:21
  [1m[36mCartItem Load (1.2ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."product_id" = $1 AND "cart_items"."user_id" = $2 LIMIT $3[0m  [["product_id", 1], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/helpers/cart_item_helper.rb:5
  [1m[35m (1.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/helpers/cart_item_helper.rb:5
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/helpers/cart_item_helper.rb:5
  [1m[36mProduct Load (2.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/helpers/cart_item_helper.rb:5
  [1m[36mCartItem Create (12.8ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 2], ["product_id", 1], ["created_at", "2023-04-21 16:30:48.247470"], ["updated_at", "2023-04-21 16:30:48.247470"]]
  â†³ app/helpers/cart_item_helper.rb:5
  [1m[35m (5.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/helpers/cart_item_helper.rb:5
  [1m[36mProduct Load (6.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/helpers/cart_item_helper.rb:12
  [1m[35m (1.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/helpers/cart_item_helper.rb:14
  [1m[36mCartItem Update (2.3ms)[0m  [1m[33mUPDATE "cart_items" SET "quantity" = $1, "updated_at" = $2 WHERE "cart_items"."id" = $3[0m  [["quantity", 1], ["updated_at", "2023-04-21 16:30:48.331029"], ["id", 5]]
  â†³ app/helpers/cart_item_helper.rb:14
  [1m[35m (4.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/helpers/cart_item_helper.rb:14
Redirected to http://localhost:3000/cart_items
Completed 302 Found in 263ms (ActiveRecord: 41.8ms)


Started GET "/cart_items" for ::1 at 2023-04-21 09:30:48 -0700
Processing by CartItemsController#index as HTML
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cart_items_controller.rb:7
  Rendering cart_items/index.html.erb within layouts/application
  [1m[35m (1.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:4
  [1m[35mCACHE  (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:18
  [1m[36mCartItem Load (1.2ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:21
  [1m[36mProduct Load (3.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:21
  [1m[36mActiveStorage::Attachment Exists (2.5ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:23
  Rendered cart_items/_quantity.html.erb (28.1ms)
  Rendered cart_items/index.html.erb within layouts/application (149.5ms)
  Rendered layouts/_header.html.erb (16.9ms)
  Rendered layouts/_alert.html.erb (3.5ms)
Completed 200 OK in 1556ms (Views: 1506.4ms | ActiveRecord: 10.9ms)


Started POST "/checkouts" for ::1 at 2023-04-21 09:30:59 -0700
DEPRECATION WARNING: 'include Pundit' is deprecated. Please use 'include Pundit::Authorization' instead.
 (called from include at /Users/dev/Documents/repos/ecommerceApp-main/app/controllers/concerns/authorizable.rb:7)
Processing by CheckoutsController#create as JS
  Parameters: {"authenticity_token"=>"wEgPaAJuBvH7fBAYF/fUEL6/pFMXzS9I0XvRZXcSBdQGm6V0/0EM3ZD6Etb8GPbuFA73+QhV/rkM3E5cstyYvg=="}
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/checkouts_controller.rb:5
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/services/order_service.rb:13
  [1m[36mCartItem Load (10.7ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/services/order_service.rb:46
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1[0m  [["id", 1]]
  â†³ app/services/order_service.rb:46
  [1m[36mOrder Create (1.3ms)[0m  [1m[32mINSERT INTO "orders" ("amount_paid", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["amount_paid", "100.0"], ["user_id", 2], ["created_at", "2023-04-21 16:31:10.222827"], ["updated_at", "2023-04-21 16:31:10.222827"]]
  â†³ app/services/order_service.rb:14
  [1m[36mOrderItem Create Many (0.5ms)[0m  [1m[32mINSERT INTO "order_items" ("product_id","price","quantity","order_id","created_at","updated_at") VALUES (1,100,1,5,'2023-04-21 16:31:10.270392','2023-04-21 16:31:10.270392') RETURNING "id"[0m
  â†³ app/services/order_service.rb:18
  [1m[36mProduct Create Many (0.4ms)[0m  [1m[32mINSERT INTO "products" ("id","name","description","price","quantity","user_id","created_at","updated_at") VALUES (1,'hello','12312312312321',1.0,8,1,'2023-04-21 15:13:43.593588','2023-04-21 16:31:10.274739') ON CONFLICT (id) DO UPDATE SET "quantity"=EXCLUDED."quantity","updated_at"=EXCLUDED."updated_at"  RETURNING "id"[0m
  â†³ app/services/order_service.rb:68
  [1m[36mCartItem Destroy (0.2ms)[0m  [1m[31mDELETE FROM "cart_items" WHERE "cart_items"."id" = $1[0m  [["id", 5]]
  â†³ app/services/order_service.rb:22
  [1m[35m (10.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/services/order_service.rb:13
  [1m[35m (8.8ms)[0m  [1m[35mBEGIN[0m
  â†³ app/services/order_service.rb:13
  [1m[36mCartItem Load (1.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/services/order_service.rb:46
  [1m[36mOrder Create (1.1ms)[0m  [1m[32mINSERT INTO "orders" ("user_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["user_id", 2], ["created_at", "2023-04-21 16:31:41.443389"], ["updated_at", "2023-04-21 16:31:41.443389"]]
  â†³ app/services/order_service.rb:14
  [1m[35m (0.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/services/order_service.rb:13
Redirected to http://localhost:3000/products
Completed 200 OK in 40048ms (ActiveRecord: 171.7ms)


Started GET "/products" for ::1 at 2023-04-21 09:31:41 -0700
Processing by ProductsController#index as HTML
  [1m[36mUser Load (18.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:7
  Rendering products/index.html.erb within layouts/application
  [1m[35m (2.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" WHERE (user_id != 2)[0m
  â†³ app/views/products/index.html.erb:6
  [1m[36mProduct Load (1.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (user_id != 2)[0m
  â†³ app/views/products/index.html.erb:7
  [1m[36mActiveStorage::Attachment Exists (2.2ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/index.html.erb:12
  [1m[36mCACHE ActiveStorage::Attachment Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/index.html.erb:20
  Rendered products/index.html.erb within layouts/application (25.3ms)
  Rendered layouts/_header.html.erb (1.3ms)
  Rendered layouts/_alert.html.erb (0.3ms)
Completed 200 OK in 101ms (Views: 60.2ms | ActiveRecord: 36.9ms)


Started GET "/products/1" for ::1 at 2023-04-21 09:31:44 -0700
DEPRECATION WARNING: 'include Pundit' is deprecated. Please use 'include Pundit::Authorization' instead.
 (called from include at /Users/dev/Documents/repos/ecommerceApp-main/app/controllers/concerns/authorizable.rb:7)
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (25.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:68
  [1m[36mUser Load (16.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:69
  [1m[36mUser Load (5.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/policies/product_policy.rb:23
  Rendering products/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Exists (1.6ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:9
  Rendered cart_items/_form.html.erb (3.2ms)
  Rendered products/show.html.erb within layouts/application (30.4ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_alert.html.erb (0.2ms)
Completed 200 OK in 258ms (Views: 48.4ms | ActiveRecord: 166.9ms)


Started GET "/orders" for ::1 at 2023-04-21 09:31:46 -0700
Processing by OrdersController#index as HTML
  [1m[36mUser Load (3.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/orders_controller.rb:3
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/orders/index.html.erb:18
  [1m[36mShipment Load (4.7ms)[0m  [1m[34mSELECT "shipments".* FROM "shipments" WHERE "shipments"."order_id" IN ($1, $2, $3, $4, $5, $6)[0m  [["order_id", 1], ["order_id", 2], ["order_id", 3], ["order_id", 4], ["order_id", 5], ["order_id", 6]]
  â†³ app/views/orders/index.html.erb:18
  Rendered orders/index.html.erb within layouts/application (75.5ms)
Completed 500 Internal Server Error in 112ms (ActiveRecord: 53.4ms)


  
ActionView::Template::Error (undefined method `customer_name' for nil:NilClass):
    20:           <td><%= order.id %></td>
    21:           <td><%= number_to_currency(order.amount_paid) %></td>
    22:           <% shipment = order.shipment %>
    23:           <td><%= shipment.customer_name %></td>
    24:           <td><%= shipment.shipping_address %></td>
    25:           <td><%= shipment.phone_number %></td>
    26:           <td><%= shipment.payment_method %></td>
  
app/views/orders/index.html.erb:23:in `block in _app_views_orders_index_html_erb__1168689992898387564_70318299997020'
app/views/orders/index.html.erb:18:in `_app_views_orders_index_html_erb__1168689992898387564_70318299997020'
Started GET "/products/1" for ::1 at 2023-04-21 09:31:48 -0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (2.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:68
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:69
  [1m[36mUser Load (6.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/policies/product_policy.rb:23
  Rendering products/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Exists (2.7ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:9
  Rendered cart_items/_form.html.erb (1.2ms)
  Rendered products/show.html.erb within layouts/application (6.6ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_alert.html.erb (0.2ms)
Completed 200 OK in 124ms (Views: 45.7ms | ActiveRecord: 12.0ms)


Started POST "/cart_items" for ::1 at 2023-04-21 09:31:49 -0700
Processing by CartItemsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"tbiSqhfyLxwkaa0tTSCk0Fh6GlvneTCazbuxi8HAZGFzazi26t0lME/vr+Omz4Yu8stJ8fjh4WsQHC6yBA75Cw==", "cart_item"=>{"product_id"=>"1", "quantity"=>"1"}, "commit"=>"Add to cart"}
  [1m[36mUser Load (10.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cart_items_controller.rb:21
  [1m[36mCartItem Load (0.5ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."product_id" = $1 AND "cart_items"."user_id" = $2 LIMIT $3[0m  [["product_id", 1], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/helpers/cart_item_helper.rb:5
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/helpers/cart_item_helper.rb:5
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/helpers/cart_item_helper.rb:5
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/helpers/cart_item_helper.rb:5
  [1m[36mCartItem Create (1.0ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 2], ["product_id", 1], ["created_at", "2023-04-21 16:31:49.577022"], ["updated_at", "2023-04-21 16:31:49.577022"]]
  â†³ app/helpers/cart_item_helper.rb:5
  [1m[35m (0.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/helpers/cart_item_helper.rb:5
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/helpers/cart_item_helper.rb:12
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/helpers/cart_item_helper.rb:14
  [1m[36mCartItem Update (0.6ms)[0m  [1m[33mUPDATE "cart_items" SET "quantity" = $1, "updated_at" = $2 WHERE "cart_items"."id" = $3[0m  [["quantity", 1], ["updated_at", "2023-04-21 16:31:49.580595"], ["id", 6]]
  â†³ app/helpers/cart_item_helper.rb:14
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/helpers/cart_item_helper.rb:14
Redirected to http://localhost:3000/cart_items
Completed 302 Found in 24ms (ActiveRecord: 14.1ms)


Started GET "/cart_items" for ::1 at 2023-04-21 09:31:49 -0700
Processing by CartItemsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cart_items_controller.rb:7
  Rendering cart_items/index.html.erb within layouts/application
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:4
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:18
  [1m[36mCartItem Load (0.6ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:21
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:21
  [1m[36mActiveStorage::Attachment Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:23
  Rendered cart_items/_quantity.html.erb (1.3ms)
  Rendered cart_items/index.html.erb within layouts/application (8.7ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_alert.html.erb (0.4ms)
Completed 200 OK in 50ms (Views: 44.8ms | ActiveRecord: 2.7ms)


Started POST "/checkouts" for ::1 at 2023-04-21 09:31:51 -0700
Processing by CheckoutsController#create as JS
  Parameters: {"authenticity_token"=>"MgSbhWciI7K2uX01xLLClJy8xK9p+OrLGsWCuxotkOH01zGZmg0pnt0/f/svXeBqNg2XBXZgOzrHYh2C3+MNiw=="}
  [1m[36mUser Load (3.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/checkouts_controller.rb:5
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/services/order_service.rb:13
  [1m[36mCartItem Load (0.2ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/services/order_service.rb:46
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1[0m  [["id", 1]]
  â†³ app/services/order_service.rb:46
  [1m[36mOrder Create (0.7ms)[0m  [1m[32mINSERT INTO "orders" ("amount_paid", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["amount_paid", "100.0"], ["user_id", 2], ["created_at", "2023-04-21 16:31:51.465739"], ["updated_at", "2023-04-21 16:31:51.465739"]]
  â†³ app/services/order_service.rb:14
  [1m[36mOrderItem Create Many (2.6ms)[0m  [1m[32mINSERT INTO "order_items" ("product_id","price","quantity","order_id","created_at","updated_at") VALUES (1,100,1,7,'2023-04-21 16:31:51.569297','2023-04-21 16:31:51.569297') RETURNING "id"[0m
  â†³ app/services/order_service.rb:18
  [1m[36mProduct Create Many (0.7ms)[0m  [1m[32mINSERT INTO "products" ("id","name","description","price","quantity","user_id","created_at","updated_at") VALUES (1,'hello','12312312312321',1.0,7,1,'2023-04-21 15:13:43.593588','2023-04-21 16:31:51.597181') ON CONFLICT (id) DO UPDATE SET "quantity"=EXCLUDED."quantity","updated_at"=EXCLUDED."updated_at"  RETURNING "id"[0m
  â†³ app/services/order_service.rb:68
  [1m[36mCartItem Destroy (0.4ms)[0m  [1m[31mDELETE FROM "cart_items" WHERE "cart_items"."id" = $1[0m  [["id", 6]]
  â†³ app/services/order_service.rb:22
  [1m[35m (0.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/services/order_service.rb:13
Redirected to http://localhost:3000/products
Completed 200 OK in 22264ms (ActiveRecord: 108.7ms)


Started GET "/products" for ::1 at 2023-04-21 09:32:13 -0700
Processing by ProductsController#index as HTML
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:7
  Rendering products/index.html.erb within layouts/application
  [1m[35m (1.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" WHERE (user_id != 2)[0m
  â†³ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (user_id != 2)[0m
  â†³ app/views/products/index.html.erb:7
  [1m[36mActiveStorage::Attachment Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/index.html.erb:12
  [1m[36mCACHE ActiveStorage::Attachment Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/index.html.erb:20
  Rendered products/index.html.erb within layouts/application (7.0ms)
  Rendered layouts/_header.html.erb (1.3ms)
  Rendered layouts/_alert.html.erb (0.3ms)
Completed 200 OK in 63ms (Views: 55.3ms | ActiveRecord: 4.5ms)


Started GET "/products/1" for ::1 at 2023-04-21 09:32:16 -0700
DEPRECATION WARNING: 'include Pundit' is deprecated. Please use 'include Pundit::Authorization' instead.
 (called from include at /Users/dev/Documents/repos/ecommerceApp-main/app/controllers/concerns/authorizable.rb:7)
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:68
  [1m[36mUser Load (2.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:69
  [1m[36mUser Load (10.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/policies/product_policy.rb:23
  Rendering products/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:9
  Rendered cart_items/_form.html.erb (1.3ms)
  Rendered products/show.html.erb within layouts/application (22.4ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_alert.html.erb (0.2ms)
Completed 200 OK in 200ms (Views: 43.0ms | ActiveRecord: 121.0ms)


Started POST "/cart_items" for ::1 at 2023-04-21 09:32:17 -0700
Processing by CartItemsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"3X/j5MaPdpFuYOW7eXuUyXh+ljA6I8CSt2UTUM3q8BtRb1weYcyDVKwhATGAKJC1nDvxevtxlzerk8r+g3xtPQ==", "cart_item"=>{"product_id"=>"1", "quantity"=>"1"}, "commit"=>"Add to cart"}
  [1m[36mUser Load (6.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cart_items_controller.rb:21
  [1m[36mCartItem Load (0.7ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."product_id" = $1 AND "cart_items"."user_id" = $2 LIMIT $3[0m  [["product_id", 1], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/helpers/cart_item_helper.rb:5
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/helpers/cart_item_helper.rb:5
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/helpers/cart_item_helper.rb:5
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/helpers/cart_item_helper.rb:5
  [1m[36mCartItem Create (1.1ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 2], ["product_id", 1], ["created_at", "2023-04-21 16:32:17.856325"], ["updated_at", "2023-04-21 16:32:17.856325"]]
  â†³ app/helpers/cart_item_helper.rb:5
  [1m[35m (0.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/helpers/cart_item_helper.rb:5
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/helpers/cart_item_helper.rb:12
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/helpers/cart_item_helper.rb:14
  [1m[36mCartItem Update (0.6ms)[0m  [1m[33mUPDATE "cart_items" SET "quantity" = $1, "updated_at" = $2 WHERE "cart_items"."id" = $3[0m  [["quantity", 1], ["updated_at", "2023-04-21 16:32:17.860627"], ["id", 7]]
  â†³ app/helpers/cart_item_helper.rb:14
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/helpers/cart_item_helper.rb:14
Redirected to http://localhost:3000/cart_items
Completed 302 Found in 25ms (ActiveRecord: 11.3ms)


Started GET "/cart_items" for ::1 at 2023-04-21 09:32:17 -0700
Processing by CartItemsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cart_items_controller.rb:7
  Rendering cart_items/index.html.erb within layouts/application
  [1m[35m (4.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:4
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:18
  [1m[36mCartItem Load (1.6ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:21
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:21
  [1m[36mActiveStorage::Attachment Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:23
  Rendered cart_items/_quantity.html.erb (1.2ms)
  Rendered cart_items/index.html.erb within layouts/application (12.9ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_alert.html.erb (0.3ms)
Completed 200 OK in 53ms (Views: 44.3ms | ActiveRecord: 6.9ms)


Started POST "/checkouts" for ::1 at 2023-04-21 09:32:19 -0700
Processing by CheckoutsController#create as JS
  Parameters: {"authenticity_token"=>"E4owZLmI6S6wCfSx0iHTEyK752fin5HrYn/Kh5qmcSPVWZp4RKfjAtuP9n85zvHtiAq0zf0HQBq/2FW+X2jsSQ=="}
  [1m[36mUser Load (2.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/checkouts_controller.rb:5
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  â†³ app/services/order_service.rb:13
  [1m[36mCartItem Load (0.5ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/services/order_service.rb:47
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1[0m  [["id", 1]]
  â†³ app/services/order_service.rb:47
  [1m[36mOrder Create (5.3ms)[0m  [1m[32mINSERT INTO "orders" ("amount_paid", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["amount_paid", "100.0"], ["user_id", 2], ["created_at", "2023-04-21 16:32:19.663050"], ["updated_at", "2023-04-21 16:32:19.663050"]]
  â†³ app/services/order_service.rb:14
  [1m[36mOrderItem Create Many (12.0ms)[0m  [1m[32mINSERT INTO "order_items" ("product_id","price","quantity","order_id","created_at","updated_at") VALUES (1,100,1,8,'2023-04-21 16:32:19.735119','2023-04-21 16:32:19.735119') RETURNING "id"[0m
  â†³ app/services/order_service.rb:18
  [1m[36mProduct Create Many (15.9ms)[0m  [1m[32mINSERT INTO "products" ("id","name","description","price","quantity","user_id","created_at","updated_at") VALUES (1,'hello','12312312312321',1.0,6,1,'2023-04-21 15:13:43.593588','2023-04-21 16:32:19.762016') ON CONFLICT (id) DO UPDATE SET "quantity"=EXCLUDED."quantity","updated_at"=EXCLUDED."updated_at"  RETURNING "id"[0m
  â†³ app/services/order_service.rb:69
  [1m[36mCartItem Destroy (0.7ms)[0m  [1m[31mDELETE FROM "cart_items" WHERE "cart_items"."id" = $1[0m  [["id", 7]]
  â†³ app/services/order_service.rb:22
  [1m[35m (3.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/services/order_service.rb:13
Redirected to http://localhost:3000/products
Completed 200 OK in 130210ms (ActiveRecord: 142.9ms)


Started GET "/products" for ::1 at 2023-04-21 09:34:29 -0700
Processing by ProductsController#index as HTML
  [1m[36mUser Load (14.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:7
  Rendering products/index.html.erb within layouts/application
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" WHERE (user_id != 2)[0m
  â†³ app/views/products/index.html.erb:6
  [1m[36mProduct Load (1.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (user_id != 2)[0m
  â†³ app/views/products/index.html.erb:7
  [1m[36mActiveStorage::Attachment Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/index.html.erb:12
  [1m[36mCACHE ActiveStorage::Attachment Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/index.html.erb:20
  Rendered products/index.html.erb within layouts/application (13.5ms)
  Rendered layouts/_header.html.erb (1.3ms)
  Rendered layouts/_alert.html.erb (0.4ms)
Completed 200 OK in 155ms (Views: 120.6ms | ActiveRecord: 17.2ms)


Started GET "/products/1" for ::1 at 2023-04-21 09:34:33 -0700
DEPRECATION WARNING: 'include Pundit' is deprecated. Please use 'include Pundit::Authorization' instead.
 (called from include at /Users/dev/Documents/repos/ecommerceApp-main/app/controllers/concerns/authorizable.rb:7)
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (9.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:68
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:69
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/policies/product_policy.rb:23
  Rendering products/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:9
  Rendered cart_items/_form.html.erb (1.4ms)
  Rendered products/show.html.erb within layouts/application (25.3ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_alert.html.erb (0.2ms)
Completed 200 OK in 167ms (Views: 48.0ms | ActiveRecord: 92.9ms)


Started POST "/cart_items" for ::1 at 2023-04-21 09:34:34 -0700
Processing by CartItemsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"Nay70+MSGPNL56tNEpumO8sj7u5DWRNwayEA0oIVNOm5vAQpRFHtNommT8fryKJHL2aJpIILRNV319l8zIOpzw==", "cart_item"=>{"product_id"=>"1", "quantity"=>"1"}, "commit"=>"Add to cart"}
  [1m[36mUser Load (10.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cart_items_controller.rb:21
  [1m[36mCartItem Load (1.7ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."product_id" = $1 AND "cart_items"."user_id" = $2 LIMIT $3[0m  [["product_id", 1], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/helpers/cart_item_helper.rb:5
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/helpers/cart_item_helper.rb:5
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/helpers/cart_item_helper.rb:5
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/helpers/cart_item_helper.rb:5
  [1m[36mCartItem Create (1.9ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 2], ["product_id", 1], ["created_at", "2023-04-21 16:34:34.962787"], ["updated_at", "2023-04-21 16:34:34.962787"]]
  â†³ app/helpers/cart_item_helper.rb:5
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/helpers/cart_item_helper.rb:5
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/helpers/cart_item_helper.rb:12
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/helpers/cart_item_helper.rb:14
  [1m[36mCartItem Update (0.5ms)[0m  [1m[33mUPDATE "cart_items" SET "quantity" = $1, "updated_at" = $2 WHERE "cart_items"."id" = $3[0m  [["quantity", 1], ["updated_at", "2023-04-21 16:34:34.967680"], ["id", 8]]
  â†³ app/helpers/cart_item_helper.rb:14
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/helpers/cart_item_helper.rb:14
Redirected to http://localhost:3000/cart_items
Completed 302 Found in 36ms (ActiveRecord: 16.6ms)


Started GET "/cart_items" for ::1 at 2023-04-21 09:34:34 -0700
Processing by CartItemsController#index as HTML
  [1m[36mUser Load (7.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cart_items_controller.rb:7
  Rendering cart_items/index.html.erb within layouts/application
  [1m[35m (3.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:4
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:18
  [1m[36mCartItem Load (0.3ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:21
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:21
  [1m[36mActiveStorage::Attachment Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:23
  Rendered cart_items/_quantity.html.erb (1.2ms)
  Rendered cart_items/index.html.erb within layouts/application (10.9ms)
  Rendered layouts/_header.html.erb (1.2ms)
  Rendered layouts/_alert.html.erb (0.4ms)
Completed 200 OK in 67ms (Views: 49.5ms | ActiveRecord: 12.4ms)


Started POST "/checkouts" for ::1 at 2023-04-21 09:34:37 -0700
Processing by CheckoutsController#create as JS
  Parameters: {"authenticity_token"=>"Dy/5tVgXPj2fCZAgZUVtbRc3RVn4UAt6uNnm+zoIHcTJ/FOppTg0EfSPku6Oqk+TvYYW8+fI2otlfnnC/8aArg=="}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/checkouts_controller.rb:5
  [1m[35m (6.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/services/order_service.rb:13
  [1m[36mCartItem Load (0.4ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/services/order_service.rb:48
  [1m[36mProduct Load (5.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1[0m  [["id", 1]]
  â†³ app/services/order_service.rb:48
  [1m[36mOrder Create (2.8ms)[0m  [1m[32mINSERT INTO "orders" ("amount_paid", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["amount_paid", "100.0"], ["user_id", 2], ["created_at", "2023-04-21 16:34:37.106875"], ["updated_at", "2023-04-21 16:34:37.106875"]]
  â†³ app/services/order_service.rb:14
  [1m[36mOrderItem Create Many (5.9ms)[0m  [1m[32mINSERT INTO "order_items" ("product_id","price","quantity","order_id","created_at","updated_at") VALUES (1,100,1,9,'2023-04-21 16:34:37.176559','2023-04-21 16:34:37.176559') RETURNING "id"[0m
  â†³ app/services/order_service.rb:18
  [1m[36mProduct Create Many (0.7ms)[0m  [1m[32mINSERT INTO "products" ("id","name","description","price","quantity","user_id","created_at","updated_at") VALUES (1,'hello','12312312312321',1.0,5,1,'2023-04-21 15:13:43.593588','2023-04-21 16:34:37.199712') ON CONFLICT (id) DO UPDATE SET "quantity"=EXCLUDED."quantity","updated_at"=EXCLUDED."updated_at"  RETURNING "id"[0m
  â†³ app/services/order_service.rb:70
  [1m[36mCartItem Destroy (0.6ms)[0m  [1m[31mDELETE FROM "cart_items" WHERE "cart_items"."id" = $1[0m  [["id", 8]]
  â†³ app/services/order_service.rb:22
  [1m[35m (5.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/services/order_service.rb:13
Redirected to http://localhost:3000/products
Completed 200 OK in 17680ms (ActiveRecord: 124.2ms)


Started GET "/products" for ::1 at 2023-04-21 09:34:54 -0700
Processing by ProductsController#index as HTML
  [1m[36mUser Load (9.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:7
  Rendering products/index.html.erb within layouts/application
  [1m[35m (2.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" WHERE (user_id != 2)[0m
  â†³ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (user_id != 2)[0m
  â†³ app/views/products/index.html.erb:7
  [1m[36mActiveStorage::Attachment Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/index.html.erb:12
  [1m[36mCACHE ActiveStorage::Attachment Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/index.html.erb:20
  Rendered products/index.html.erb within layouts/application (6.6ms)
  Rendered layouts/_header.html.erb (1.1ms)
  Rendered layouts/_alert.html.erb (0.3ms)
Completed 200 OK in 71ms (Views: 54.3ms | ActiveRecord: 13.2ms)


Started GET "/products/1" for ::1 at 2023-04-21 09:34:59 -0700
DEPRECATION WARNING: 'include Pundit' is deprecated. Please use 'include Pundit::Authorization' instead.
 (called from include at /Users/dev/Documents/repos/ecommerceApp-main/app/controllers/concerns/authorizable.rb:7)
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:68
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:69
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/policies/product_policy.rb:23
  Rendering products/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:9
  Rendered cart_items/_form.html.erb (2.8ms)
  Rendered products/show.html.erb within layouts/application (29.0ms)
  Rendered layouts/_header.html.erb (1.2ms)
  Rendered layouts/_alert.html.erb (0.2ms)
Completed 200 OK in 225ms (Views: 102.8ms | ActiveRecord: 92.8ms)


Started POST "/cart_items" for ::1 at 2023-04-21 09:35:00 -0700
Processing by CartItemsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"d9TA9gkeqQeFkPilygmBsg1Sz8D46AdldosOoSd5gib7xH8Mrl1cwkfRHC8zWoXO6Reoijm6UMBqfdcPae8fAA==", "cart_item"=>{"product_id"=>"1", "quantity"=>"1"}, "commit"=>"Add to cart"}
  [1m[36mUser Load (14.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cart_items_controller.rb:21
  [1m[36mCartItem Load (3.9ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."product_id" = $1 AND "cart_items"."user_id" = $2 LIMIT $3[0m  [["product_id", 1], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/helpers/cart_item_helper.rb:5
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  â†³ app/helpers/cart_item_helper.rb:5
  [1m[36mUser Load (14.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/helpers/cart_item_helper.rb:5
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/helpers/cart_item_helper.rb:5
  [1m[36mCartItem Create (1.9ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 2], ["product_id", 1], ["created_at", "2023-04-21 16:35:00.585527"], ["updated_at", "2023-04-21 16:35:00.585527"]]
  â†³ app/helpers/cart_item_helper.rb:5
  [1m[35m (0.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/helpers/cart_item_helper.rb:5
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/helpers/cart_item_helper.rb:12
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/helpers/cart_item_helper.rb:14
  [1m[36mCartItem Update (3.3ms)[0m  [1m[33mUPDATE "cart_items" SET "quantity" = $1, "updated_at" = $2 WHERE "cart_items"."id" = $3[0m  [["quantity", 1], ["updated_at", "2023-04-21 16:35:00.595270"], ["id", 9]]
  â†³ app/helpers/cart_item_helper.rb:14
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/helpers/cart_item_helper.rb:14
Redirected to http://localhost:3000/cart_items
Completed 302 Found in 69ms (ActiveRecord: 40.9ms)


Started GET "/cart_items" for ::1 at 2023-04-21 09:35:00 -0700
Processing by CartItemsController#index as HTML
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cart_items_controller.rb:7
  Rendering cart_items/index.html.erb within layouts/application
  [1m[35m (1.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:4
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:18
  [1m[36mCartItem Load (18.6ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:21
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:21
  [1m[36mActiveStorage::Attachment Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:23
  Rendered cart_items/_quantity.html.erb (2.6ms)
  Rendered cart_items/index.html.erb within layouts/application (31.6ms)
  Rendered layouts/_header.html.erb (1.3ms)
  Rendered layouts/_alert.html.erb (0.2ms)
Completed 200 OK in 114ms (Views: 83.9ms | ActiveRecord: 22.0ms)


Started POST "/checkouts" for ::1 at 2023-04-21 09:35:01 -0700
Processing by CheckoutsController#create as JS
  Parameters: {"authenticity_token"=>"MenpncStC66e4HYbixbZzmruB9BiKm1x87G81LKyv9n3OkOBOYIBgvVmdNVg+fswwF9Uen2yvIAuFiPtd3wisw=="}
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/checkouts_controller.rb:5
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  â†³ app/services/order_service.rb:13
  [1m[36mCartItem Load (0.6ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/services/order_service.rb:48
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1[0m  [["id", 1]]
  â†³ app/services/order_service.rb:48
  [1m[36mOrder Create (2.4ms)[0m  [1m[32mINSERT INTO "orders" ("amount_paid", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["amount_paid", "100.0"], ["user_id", 2], ["created_at", "2023-04-21 16:35:02.032976"], ["updated_at", "2023-04-21 16:35:02.032976"]]
  â†³ app/services/order_service.rb:14
  [1m[36mOrderItem Create Many (2.2ms)[0m  [1m[32mINSERT INTO "order_items" ("product_id","price","quantity","order_id","created_at","updated_at") VALUES (1,100,1,10,'2023-04-21 16:35:02.127857','2023-04-21 16:35:02.127857') RETURNING "id"[0m
  â†³ app/services/order_service.rb:18
  [1m[36mProduct Create Many (0.9ms)[0m  [1m[32mINSERT INTO "products" ("id","name","description","price","quantity","user_id","created_at","updated_at") VALUES (1,'hello','12312312312321',1.0,4,1,'2023-04-21 15:13:43.593588','2023-04-21 16:35:02.144569') ON CONFLICT (id) DO UPDATE SET "quantity"=EXCLUDED."quantity","updated_at"=EXCLUDED."updated_at"  RETURNING "id"[0m
  â†³ app/services/order_service.rb:70
  [1m[36mCartItem Destroy (1.0ms)[0m  [1m[31mDELETE FROM "cart_items" WHERE "cart_items"."id" = $1[0m  [["id", 9]]
  â†³ app/services/order_service.rb:22
  [1m[36mShipment Create Many (3.8ms)[0m  [1m[32mINSERT INTO "shipments" ("id","customer_name","shipping_address","phone_number","payment_method","status","user_id","order_id","created_at","updated_at") VALUES (nextval('public.shipments_id_seq'),'','','',NULL,0,2,10,'2023-04-21 16:35:02.200267','2023-04-21 16:35:02.200267') RETURNING "id"[0m
  â†³ app/services/order_service.rb:24
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/services/order_service.rb:13
Completed 500 Internal Server Error in 228ms (ActiveRecord: 153.9ms)


  
ActiveRecord::NotNullViolation (PG::NotNullViolation: ERROR:  null value in column "payment_method" violates not-null constraint
DETAIL:  Failing row contains (3, , , , null, 0, 2, 10, 2023-04-21 16:35:02.200267, 2023-04-21 16:35:02.200267).
: INSERT INTO "shipments" ("id","customer_name","shipping_address","phone_number","payment_method","status","user_id","order_id","created_at","updated_at") VALUES (nextval('public.shipments_id_seq'),'','','',NULL,0,2,10,'2023-04-21 16:35:02.200267','2023-04-21 16:35:02.200267') RETURNING "id"):
  
app/services/order_service.rb:24:in `block in create!'
app/services/order_service.rb:13:in `create!'
app/controllers/checkouts_controller.rb:9:in `create'
Started GET "/cart_items" for ::1 at 2023-04-21 09:38:54 -0700
DEPRECATION WARNING: 'include Pundit' is deprecated. Please use 'include Pundit::Authorization' instead.
 (called from include at /Users/dev/Documents/repos/ecommerceApp-main/app/controllers/concerns/authorizable.rb:7)
Processing by CartItemsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cart_items_controller.rb:7
  Rendering cart_items/index.html.erb within layouts/application
  [1m[35m (3.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:4
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:18
  [1m[36mCartItem Load (11.2ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:21
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:21
  [1m[36mActiveStorage::Attachment Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:23
  Rendered cart_items/_quantity.html.erb (1.9ms)
  Rendered cart_items/index.html.erb within layouts/application (126.6ms)
  Rendered layouts/_header.html.erb (1.3ms)
  Rendered layouts/_alert.html.erb (0.4ms)
Completed 200 OK in 307ms (Views: 120.4ms | ActiveRecord: 163.5ms)


Started POST "/checkouts" for ::1 at 2023-04-21 09:38:57 -0700
Processing by CheckoutsController#create as JS
  Parameters: {"authenticity_token"=>"SZgyD/IQqPDDPLYDrDzyt60okrjOoqbtCyV8wFjTzhqPS5gTDz+i3Ki6tM1H09BJB5nBEtE6dxzWguP5nR1TcA=="}
  [1m[36mUser Load (6.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/checkouts_controller.rb:5
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/services/order_service.rb:13
  [1m[36mCartItem Load (0.4ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/services/order_service.rb:48
  [1m[36mProduct Load (5.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1[0m  [["id", 1]]
  â†³ app/services/order_service.rb:48
  [1m[36mOrder Create (1.5ms)[0m  [1m[32mINSERT INTO "orders" ("amount_paid", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["amount_paid", "100.0"], ["user_id", 2], ["created_at", "2023-04-21 16:38:57.226363"], ["updated_at", "2023-04-21 16:38:57.226363"]]
  â†³ app/services/order_service.rb:14
  [1m[36mOrderItem Create Many (5.8ms)[0m  [1m[32mINSERT INTO "order_items" ("product_id","price","quantity","order_id","created_at","updated_at") VALUES (1,100,1,11,'2023-04-21 16:38:57.275006','2023-04-21 16:38:57.275006') RETURNING "id"[0m
  â†³ app/services/order_service.rb:18
  [1m[36mProduct Create Many (18.3ms)[0m  [1m[32mINSERT INTO "products" ("id","name","description","price","quantity","user_id","created_at","updated_at") VALUES (1,'hello','12312312312321',1.0,4,1,'2023-04-21 15:13:43.593588','2023-04-21 16:38:57.292559') ON CONFLICT (id) DO UPDATE SET "quantity"=EXCLUDED."quantity","updated_at"=EXCLUDED."updated_at"  RETURNING "id"[0m
  â†³ app/services/order_service.rb:70
  [1m[36mCartItem Destroy (0.7ms)[0m  [1m[31mDELETE FROM "cart_items" WHERE "cart_items"."id" = $1[0m  [["id", 9]]
  â†³ app/services/order_service.rb:22
  [1m[36mShipment Create (2.6ms)[0m  [1m[32mINSERT INTO "shipments" ("customer_name", "shipping_address", "phone_number", "payment_method", "user_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["customer_name", "121231234"], ["shipping_address", "somewhere"], ["phone_number", "1231122"], ["payment_method", "Cash On Delivery"], ["user_id", 2], ["order_id", 11], ["created_at", "2023-04-21 16:38:57.378988"], ["updated_at", "2023-04-21 16:38:57.378988"]]
  â†³ app/services/order_service.rb:23
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/services/order_service.rb:13
Redirected to http://localhost:3000/shipments/4
Completed 200 OK in 235ms (ActiveRecord: 165.0ms)


Started GET "/shipments/4" for ::1 at 2023-04-21 09:38:57 -0700
Processing by ShipmentsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mShipment Load (0.6ms)[0m  [1m[34mSELECT  "shipments".* FROM "shipments" WHERE "shipments"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/shipments_controller.rb:18
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/shipments_controller.rb:18
  [1m[36mOrder Load (2.0ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 11]]
  â†³ app/controllers/shipments_controller.rb:18
  Rendering shipments/show.html.erb within layouts/application
  Rendered shipments/show.html.erb within layouts/application (10.4ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/layouts/_header.html.erb:24
  Rendered layouts/_header.html.erb (2.5ms)
  Rendered layouts/_alert.html.erb (0.3ms)
Completed 200 OK in 104ms (Views: 76.9ms | ActiveRecord: 5.0ms)


Started PATCH "/shipments/4" for ::1 at 2023-04-21 09:39:02 -0700
Processing by ShipmentsController#update as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"OaJk2xmwE+MaSEPNUHN1INi0rh+RPAYpNb8tEaaOClvfrBjiGjWbq4Ej8DJ8+RQ0txU27KLym5znAAM2Y3RPNg==", "shipment"=>{"customer_name"=>"121231234", "shipping_address"=>"somewhere", "phone_number"=>"1231122", "payment_method"=>"cash_on_delivery", "order_id"=>"11", "user_id"=>"2"}, "commit"=>"Confirm Order", "id"=>"4"}
  [1m[36mShipment Load (0.6ms)[0m  [1m[34mSELECT  "shipments".* FROM "shipments" WHERE "shipments"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/shipments_controller.rb:18
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/shipments_controller.rb:18
  [1m[36mOrder Load (0.9ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 11]]
  â†³ app/controllers/shipments_controller.rb:18
Unpermitted parameter: :user_id
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/shipments_controller.rb:8
  [1m[36mShipment Update (1.3ms)[0m  [1m[33mUPDATE "shipments" SET "status" = $1, "updated_at" = $2 WHERE "shipments"."id" = $3[0m  [["status", 1], ["updated_at", "2023-04-21 16:39:02.913866"], ["id", 4]]
  â†³ app/controllers/shipments_controller.rb:8
  [1m[35m (10.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/shipments_controller.rb:8
Redirected to http://localhost:3000/products
Completed 302 Found in 23ms (ActiveRecord: 14.6ms)


Started GET "/products" for ::1 at 2023-04-21 09:39:02 -0700
Processing by ProductsController#index as HTML
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:7
  Rendering products/index.html.erb within layouts/application
  [1m[35m (8.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" WHERE (user_id != 2)[0m
  â†³ app/views/products/index.html.erb:6
  [1m[36mProduct Load (1.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (user_id != 2)[0m
  â†³ app/views/products/index.html.erb:7
  [1m[36mActiveStorage::Attachment Exists (2.1ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/index.html.erb:12
  [1m[36mCACHE ActiveStorage::Attachment Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/index.html.erb:20
  Rendered products/index.html.erb within layouts/application (18.2ms)
  Rendered layouts/_header.html.erb (1.3ms)
  Rendered layouts/_alert.html.erb (0.3ms)
Completed 200 OK in 99ms (Views: 80.7ms | ActiveRecord: 13.4ms)


Started GET "/orders" for ::1 at 2023-04-21 09:39:13 -0700
Processing by OrdersController#index as HTML
  [1m[36mUser Load (7.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/orders_controller.rb:3
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (10.9ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/orders/index.html.erb:18
  [1m[36mShipment Load (1.5ms)[0m  [1m[34mSELECT "shipments".* FROM "shipments" WHERE "shipments"."order_id" IN ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10)[0m  [["order_id", 1], ["order_id", 2], ["order_id", 3], ["order_id", 4], ["order_id", 5], ["order_id", 6], ["order_id", 7], ["order_id", 8], ["order_id", 9], ["order_id", 11]]
  â†³ app/views/orders/index.html.erb:18
  Rendered orders/index.html.erb within layouts/application (18.0ms)
Completed 500 Internal Server Error in 35ms (ActiveRecord: 20.2ms)


  
ActionView::Template::Error (undefined method `customer_name' for nil:NilClass):
    20:           <td><%= order.id %></td>
    21:           <td><%= number_to_currency(order.amount_paid) %></td>
    22:           <% shipment = order.shipment %>
    23:           <td><%= shipment.customer_name %></td>
    24:           <td><%= shipment.shipping_address %></td>
    25:           <td><%= shipment.phone_number %></td>
    26:           <td><%= shipment.payment_method %></td>
  
app/views/orders/index.html.erb:23:in `block in _app_views_orders_index_html_erb__1168689992898387564_70318300459360'
app/views/orders/index.html.erb:18:in `_app_views_orders_index_html_erb__1168689992898387564_70318300459360'
  [1m[36mOrder Load (6.7ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE (shipments.customer_name IS NULL) LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mOrder Load (2.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE (shipment.customer_name IS NULL) LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mOrder Load (2.5ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" INNER JOIN "shipments" ON "shipments"."order_id" = "orders"."id" WHERE (shipments.customer_name IS NULL) LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mOrder Load (1.3ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" INNER JOIN "shipments" ON "shipments"."order_id" = "orders"."id" WHERE (shipments.customer_name IS NULL) LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mOrder Load (11.6ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" INNER JOIN "shipments" ON "shipments"."order_id" = "orders"."id" WHERE (shipments.shipping_address IS NULL) LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mShipment Load (1.2ms)[0m  [1m[34mSELECT "shipments".* FROM "shipments" WHERE "shipments"."order_id" IN ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10)[0m  [["order_id", 1], ["order_id", 2], ["order_id", 3], ["order_id", 4], ["order_id", 5], ["order_id", 6], ["order_id", 7], ["order_id", 8], ["order_id", 9], ["order_id", 11]]
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" IS NULL LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mOrder Load (2.8ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" ORDER BY "orders"."id" DESC LIMIT $1[0m  [["LIMIT", 2]]
  [1m[36mOrder Load (5.8ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" ORDER BY "orders"."id" DESC LIMIT $1[0m  [["LIMIT", 2]]
  [1m[36mShipment Load (1.3ms)[0m  [1m[34mSELECT  "shipments".* FROM "shipments" WHERE "shipments"."order_id" = $1 LIMIT $2[0m  [["order_id", 9], ["LIMIT", 1]]
  [1m[36mOrder Load (4.1ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mOrderItem Load (1.0ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mOrder Load (5.8ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  [1m[35m (14.8ms)[0m  [1m[35mBEGIN[0m
  [1m[36mOrderItem Load (12.3ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mOrder Load (9.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mOrderItem Load (0.5ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mOrder Load (1.7ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 1]]
  [1m[36mOrderItem Destroy (7.8ms)[0m  [1m[31mDELETE FROM "order_items" WHERE "order_items"."id" = $1[0m  [["id", 1]]
  [1m[36mShipment Load (0.4ms)[0m  [1m[34mSELECT  "shipments".* FROM "shipments" WHERE "shipments"."order_id" = $1 LIMIT $2[0m  [["order_id", 1], ["LIMIT", 1]]
  [1m[36mShipment Destroy (0.7ms)[0m  [1m[31mDELETE FROM "shipments" WHERE "shipments"."id" = $1[0m  [["id", 1]]
  [1m[36mOrder Destroy (2.7ms)[0m  [1m[31mDELETE FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 1]]
  [1m[35m (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mOrderItem Load (0.3ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 2]]
  [1m[36mOrderItem Destroy (0.6ms)[0m  [1m[31mDELETE FROM "order_items" WHERE "order_items"."id" = $1[0m  [["id", 2]]
  [1m[36mShipment Load (0.3ms)[0m  [1m[34mSELECT  "shipments".* FROM "shipments" WHERE "shipments"."order_id" = $1 LIMIT $2[0m  [["order_id", 2], ["LIMIT", 1]]
  [1m[36mShipment Destroy (0.3ms)[0m  [1m[31mDELETE FROM "shipments" WHERE "shipments"."id" = $1[0m  [["id", 2]]
  [1m[36mOrder Destroy (0.8ms)[0m  [1m[31mDELETE FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 2]]
  [1m[35m (3.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 3]]
  [1m[36mOrderItem Destroy (0.3ms)[0m  [1m[31mDELETE FROM "order_items" WHERE "order_items"."id" = $1[0m  [["id", 3]]
  [1m[36mShipment Load (0.3ms)[0m  [1m[34mSELECT  "shipments".* FROM "shipments" WHERE "shipments"."order_id" = $1 LIMIT $2[0m  [["order_id", 3], ["LIMIT", 1]]
  [1m[36mOrder Destroy (8.9ms)[0m  [1m[31mDELETE FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 3]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mOrderItem Load (0.2ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  [1m[36mOrderItem Destroy (0.3ms)[0m  [1m[31mDELETE FROM "order_items" WHERE "order_items"."id" = $1[0m  [["id", 4]]
  [1m[36mShipment Load (0.3ms)[0m  [1m[34mSELECT  "shipments".* FROM "shipments" WHERE "shipments"."order_id" = $1 LIMIT $2[0m  [["order_id", 4], ["LIMIT", 1]]
  [1m[36mOrder Destroy (0.7ms)[0m  [1m[31mDELETE FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 4]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mOrderItem Load (0.2ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 5]]
  [1m[36mOrderItem Destroy (0.4ms)[0m  [1m[31mDELETE FROM "order_items" WHERE "order_items"."id" = $1[0m  [["id", 5]]
  [1m[36mShipment Load (0.3ms)[0m  [1m[34mSELECT  "shipments".* FROM "shipments" WHERE "shipments"."order_id" = $1 LIMIT $2[0m  [["order_id", 5], ["LIMIT", 1]]
  [1m[36mOrder Destroy (6.0ms)[0m  [1m[31mDELETE FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 5]]
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mOrderItem Load (0.1ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 6]]
  [1m[36mShipment Load (0.1ms)[0m  [1m[34mSELECT  "shipments".* FROM "shipments" WHERE "shipments"."order_id" = $1 LIMIT $2[0m  [["order_id", 6], ["LIMIT", 1]]
  [1m[36mOrder Destroy (0.4ms)[0m  [1m[31mDELETE FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 6]]
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mOrderItem Load (0.1ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 7]]
  [1m[36mOrderItem Destroy (0.2ms)[0m  [1m[31mDELETE FROM "order_items" WHERE "order_items"."id" = $1[0m  [["id", 6]]
  [1m[36mShipment Load (0.1ms)[0m  [1m[34mSELECT  "shipments".* FROM "shipments" WHERE "shipments"."order_id" = $1 LIMIT $2[0m  [["order_id", 7], ["LIMIT", 1]]
  [1m[36mOrder Destroy (0.2ms)[0m  [1m[31mDELETE FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 7]]
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mOrderItem Load (0.1ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 8]]
  [1m[36mOrderItem Destroy (0.2ms)[0m  [1m[31mDELETE FROM "order_items" WHERE "order_items"."id" = $1[0m  [["id", 7]]
  [1m[36mShipment Load (0.1ms)[0m  [1m[34mSELECT  "shipments".* FROM "shipments" WHERE "shipments"."order_id" = $1 LIMIT $2[0m  [["order_id", 8], ["LIMIT", 1]]
  [1m[36mOrder Destroy (0.2ms)[0m  [1m[31mDELETE FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 8]]
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mOrderItem Load (0.1ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  [1m[36mOrderItem Destroy (0.2ms)[0m  [1m[31mDELETE FROM "order_items" WHERE "order_items"."id" = $1[0m  [["id", 8]]
  [1m[36mShipment Load (0.1ms)[0m  [1m[34mSELECT  "shipments".* FROM "shipments" WHERE "shipments"."order_id" = $1 LIMIT $2[0m  [["order_id", 9], ["LIMIT", 1]]
  [1m[36mOrder Destroy (0.2ms)[0m  [1m[31mDELETE FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 9]]
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mOrderItem Load (0.1ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 11]]
  [1m[36mOrderItem Destroy (0.2ms)[0m  [1m[31mDELETE FROM "order_items" WHERE "order_items"."id" = $1[0m  [["id", 10]]
  [1m[36mShipment Load (0.1ms)[0m  [1m[34mSELECT  "shipments".* FROM "shipments" WHERE "shipments"."order_id" = $1 LIMIT $2[0m  [["order_id", 11], ["LIMIT", 1]]
  [1m[36mShipment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "shipments" WHERE "shipments"."id" = $1[0m  [["id", 4]]
  [1m[36mOrder Destroy (0.2ms)[0m  [1m[31mDELETE FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 11]]
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
Started GET "/orders" for ::1 at 2023-04-21 09:43:42 -0700
DEPRECATION WARNING: 'include Pundit' is deprecated. Please use 'include Pundit::Authorization' instead.
 (called from include at /Users/dev/Documents/repos/ecommerceApp-main/app/controllers/concerns/authorizable.rb:7)
Processing by OrdersController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/orders_controller.rb:3
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (9.9ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/orders/index.html.erb:18
  Rendered orders/index.html.erb within layouts/application (11.4ms)
  Rendered layouts/_header.html.erb (1.7ms)
  Rendered layouts/_alert.html.erb (0.3ms)
Completed 200 OK in 149ms (Views: 65.2ms | ActiveRecord: 66.6ms)


Started GET "/" for ::1 at 2023-04-21 09:43:45 -0700
Processing by ProductsController#index as HTML
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:7
  Rendering products/index.html.erb within layouts/application
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" WHERE (user_id != 2)[0m
  â†³ app/views/products/index.html.erb:6
  [1m[36mProduct Load (1.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (user_id != 2)[0m
  â†³ app/views/products/index.html.erb:7
  [1m[36mActiveStorage::Attachment Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/index.html.erb:12
  [1m[36mCACHE ActiveStorage::Attachment Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/index.html.erb:20
  Rendered products/index.html.erb within layouts/application (77.9ms)
  Rendered layouts/_header.html.erb (1.3ms)
  Rendered layouts/_alert.html.erb (0.3ms)
Completed 200 OK in 158ms (Views: 85.9ms | ActiveRecord: 61.5ms)


Started GET "/products/1" for ::1 at 2023-04-21 09:43:47 -0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (8.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:68
  [1m[36mUser Load (5.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:69
  [1m[36mUser Load (3.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/policies/product_policy.rb:23
  Rendering products/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Exists (3.5ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:9
  Rendered cart_items/_form.html.erb (2.1ms)
  Rendered products/show.html.erb within layouts/application (9.7ms)
  Rendered layouts/_header.html.erb (1.2ms)
  Rendered layouts/_alert.html.erb (0.3ms)
Completed 200 OK in 162ms (Views: 50.9ms | ActiveRecord: 64.6ms)


Started POST "/cart_items" for ::1 at 2023-04-21 09:43:48 -0700
Processing by CartItemsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"pWDfAHinGDB5I7HguzrEiXtR/xMPIpyu3eAWI895ChgpcGD63+Tt9btiVWpCacD1nxSYWc5wywvBFs+Nge+XPg==", "cart_item"=>{"product_id"=>"1", "quantity"=>"1"}, "commit"=>"Add to cart"}
  [1m[36mUser Load (3.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cart_items_controller.rb:21
  [1m[36mCartItem Load (0.9ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."product_id" = $1 AND "cart_items"."user_id" = $2 LIMIT $3[0m  [["product_id", 1], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/helpers/cart_item_helper.rb:5
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/helpers/cart_item_helper.rb:5
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/helpers/cart_item_helper.rb:5
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/helpers/cart_item_helper.rb:5
  [1m[36mCartItem Create (1.2ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 2], ["product_id", 1], ["created_at", "2023-04-21 16:43:48.268697"], ["updated_at", "2023-04-21 16:43:48.268697"]]
  â†³ app/helpers/cart_item_helper.rb:5
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/helpers/cart_item_helper.rb:5
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/helpers/cart_item_helper.rb:12
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/helpers/cart_item_helper.rb:14
  [1m[36mCartItem Update (0.9ms)[0m  [1m[33mUPDATE "cart_items" SET "quantity" = $1, "updated_at" = $2 WHERE "cart_items"."id" = $3[0m  [["quantity", 1], ["updated_at", "2023-04-21 16:43:48.272982"], ["id", 10]]
  â†³ app/helpers/cart_item_helper.rb:14
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/helpers/cart_item_helper.rb:14
Redirected to http://localhost:3000/cart_items
Completed 302 Found in 22ms (ActiveRecord: 8.5ms)


Started GET "/cart_items" for ::1 at 2023-04-21 09:43:48 -0700
Processing by CartItemsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cart_items_controller.rb:7
  Rendering cart_items/index.html.erb within layouts/application
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:4
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:18
  [1m[36mCartItem Load (0.3ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:21
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:21
  [1m[36mActiveStorage::Attachment Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:23
  Rendered cart_items/_quantity.html.erb (1.2ms)
  Rendered cart_items/index.html.erb within layouts/application (8.2ms)
  Rendered layouts/_header.html.erb (1.3ms)
  Rendered layouts/_alert.html.erb (0.3ms)
Completed 200 OK in 54ms (Views: 49.0ms | ActiveRecord: 2.1ms)


Started POST "/checkouts" for ::1 at 2023-04-21 09:43:49 -0700
Processing by CheckoutsController#create as JS
  Parameters: {"authenticity_token"=>"3Q/pjSG7za/egtr82sbzGrPztMTowgwOYEePIRVwOWgb3EOR3JTHg7UE2DIxKdHkGULnbvda3f+94BAY0L6kAg=="}
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/checkouts_controller.rb:5
  [1m[35m (1.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/services/order_service.rb:13
  [1m[36mCartItem Load (0.2ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/services/order_service.rb:48
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1[0m  [["id", 1]]
  â†³ app/services/order_service.rb:48
  [1m[36mOrder Create (2.2ms)[0m  [1m[32mINSERT INTO "orders" ("amount_paid", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["amount_paid", "100.0"], ["user_id", 2], ["created_at", "2023-04-21 16:43:50.013154"], ["updated_at", "2023-04-21 16:43:50.013154"]]
  â†³ app/services/order_service.rb:14
  [1m[36mOrderItem Create Many (9.4ms)[0m  [1m[32mINSERT INTO "order_items" ("product_id","price","quantity","order_id","created_at","updated_at") VALUES (1,100,1,12,'2023-04-21 16:43:50.071894','2023-04-21 16:43:50.071894') RETURNING "id"[0m
  â†³ app/services/order_service.rb:18
  [1m[36mProduct Create Many (5.2ms)[0m  [1m[32mINSERT INTO "products" ("id","name","description","price","quantity","user_id","created_at","updated_at") VALUES (1,'hello','12312312312321',1.0,3,1,'2023-04-21 15:13:43.593588','2023-04-21 16:43:50.092036') ON CONFLICT (id) DO UPDATE SET "quantity"=EXCLUDED."quantity","updated_at"=EXCLUDED."updated_at"  RETURNING "id"[0m
  â†³ app/services/order_service.rb:70
  [1m[36mCartItem Destroy (0.9ms)[0m  [1m[31mDELETE FROM "cart_items" WHERE "cart_items"."id" = $1[0m  [["id", 10]]
  â†³ app/services/order_service.rb:22
  [1m[36mShipment Create (7.8ms)[0m  [1m[32mINSERT INTO "shipments" ("customer_name", "shipping_address", "phone_number", "payment_method", "user_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["customer_name", "121231234"], ["shipping_address", "somewhere"], ["phone_number", "1231122"], ["payment_method", "Cash On Delivery"], ["user_id", 2], ["order_id", 12], ["created_at", "2023-04-21 16:43:50.142212"], ["updated_at", "2023-04-21 16:43:50.142212"]]
  â†³ app/services/order_service.rb:23
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/services/order_service.rb:13
Redirected to http://localhost:3000/shipments/5
Completed 200 OK in 177ms (ActiveRecord: 119.9ms)


Started GET "/shipments/5" for ::1 at 2023-04-21 09:43:50 -0700
Processing by ShipmentsController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mShipment Load (1.5ms)[0m  [1m[34mSELECT  "shipments".* FROM "shipments" WHERE "shipments"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/shipments_controller.rb:18
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/shipments_controller.rb:18
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 12]]
  â†³ app/controllers/shipments_controller.rb:18
  Rendering shipments/show.html.erb within layouts/application
  Rendered shipments/show.html.erb within layouts/application (6.5ms)
  [1m[36mUser Load (5.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/layouts/_header.html.erb:24
  Rendered layouts/_header.html.erb (7.1ms)
  Rendered layouts/_alert.html.erb (0.4ms)
Completed 200 OK in 57ms (Views: 46.3ms | ActiveRecord: 7.7ms)


Started PATCH "/shipments/5" for ::1 at 2023-04-21 09:43:51 -0700
Processing by ShipmentsController#update as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"Kv0w5lF1CgrGyFl7rHDdKUBlV0sTSdO7c1r5YvzBtRDvNRpCHdsSmyDGc29e/l2TdMi0IPEX3oGI3z/u9OHR0g==", "shipment"=>{"customer_name"=>"121231234", "shipping_address"=>"somewhere", "phone_number"=>"1231122", "payment_method"=>"cash_on_delivery", "order_id"=>"12", "user_id"=>"2"}, "commit"=>"Confirm Order", "id"=>"5"}
  [1m[36mShipment Load (1.4ms)[0m  [1m[34mSELECT  "shipments".* FROM "shipments" WHERE "shipments"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/shipments_controller.rb:18
  [1m[36mUser Load (14.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/shipments_controller.rb:18
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 12]]
  â†³ app/controllers/shipments_controller.rb:18
Unpermitted parameter: :user_id
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/shipments_controller.rb:8
  [1m[36mShipment Update (1.1ms)[0m  [1m[33mUPDATE "shipments" SET "status" = $1, "updated_at" = $2 WHERE "shipments"."id" = $3[0m  [["status", 1], ["updated_at", "2023-04-21 16:43:52.021639"], ["id", 5]]
  â†³ app/controllers/shipments_controller.rb:8
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/shipments_controller.rb:8
Redirected to http://localhost:3000/products
Completed 302 Found in 31ms (ActiveRecord: 17.8ms)


Started GET "/products" for ::1 at 2023-04-21 09:43:52 -0700
Processing by ProductsController#index as HTML
  [1m[36mUser Load (2.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:7
  Rendering products/index.html.erb within layouts/application
  [1m[35m (1.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" WHERE (user_id != 2)[0m
  â†³ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (user_id != 2)[0m
  â†³ app/views/products/index.html.erb:7
  [1m[36mActiveStorage::Attachment Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/index.html.erb:12
  [1m[36mCACHE ActiveStorage::Attachment Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/index.html.erb:20
  Rendered products/index.html.erb within layouts/application (11.7ms)
  Rendered layouts/_header.html.erb (1.3ms)
  Rendered layouts/_alert.html.erb (0.3ms)
Completed 200 OK in 77ms (Views: 63.2ms | ActiveRecord: 4.7ms)


Started GET "/products/1" for ::1 at 2023-04-21 09:43:54 -0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:68
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:69
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/policies/product_policy.rb:23
  Rendering products/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:9
  Rendered cart_items/_form.html.erb (1.2ms)
  Rendered products/show.html.erb within layouts/application (5.2ms)
  Rendered layouts/_header.html.erb (1.1ms)
  Rendered layouts/_alert.html.erb (0.2ms)
Completed 200 OK in 63ms (Views: 45.9ms | ActiveRecord: 3.6ms)


Started POST "/cart_items" for ::1 at 2023-04-21 09:43:55 -0700
Processing by CartItemsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"lRnT2GvO8V4DNxVEzzT31txECicckbECpdTEy78RpnIZCWwizI0Em8F28c42Z/OqOAFtbd3D5qe5Ih1l8Yc7VA==", "cart_item"=>{"product_id"=>"1", "quantity"=>"1"}, "commit"=>"Add to cart"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cart_items_controller.rb:21
  [1m[36mCartItem Load (0.5ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."product_id" = $1 AND "cart_items"."user_id" = $2 LIMIT $3[0m  [["product_id", 1], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/helpers/cart_item_helper.rb:5
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/helpers/cart_item_helper.rb:5
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/helpers/cart_item_helper.rb:5
  [1m[36mProduct Load (15.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/helpers/cart_item_helper.rb:5
  [1m[36mCartItem Create (1.2ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 2], ["product_id", 1], ["created_at", "2023-04-21 16:43:55.563026"], ["updated_at", "2023-04-21 16:43:55.563026"]]
  â†³ app/helpers/cart_item_helper.rb:5
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/helpers/cart_item_helper.rb:5
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/helpers/cart_item_helper.rb:12
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/helpers/cart_item_helper.rb:14
  [1m[36mCartItem Update (0.6ms)[0m  [1m[33mUPDATE "cart_items" SET "quantity" = $1, "updated_at" = $2 WHERE "cart_items"."id" = $3[0m  [["quantity", 1], ["updated_at", "2023-04-21 16:43:55.568015"], ["id", 11]]
  â†³ app/helpers/cart_item_helper.rb:14
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/helpers/cart_item_helper.rb:14
Redirected to http://localhost:3000/cart_items
Completed 302 Found in 39ms (ActiveRecord: 20.6ms)


Started GET "/cart_items" for ::1 at 2023-04-21 09:43:55 -0700
Processing by CartItemsController#index as HTML
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cart_items_controller.rb:7
  Rendering cart_items/index.html.erb within layouts/application
  [1m[35m (7.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:4
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:18
  [1m[36mCartItem Load (0.2ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:21
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:21
  [1m[36mActiveStorage::Attachment Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/cart_items/index.html.erb:23
  Rendered cart_items/_quantity.html.erb (1.3ms)
  Rendered cart_items/index.html.erb within layouts/application (14.2ms)
  Rendered layouts/_header.html.erb (1.4ms)
  Rendered layouts/_alert.html.erb (0.4ms)
Completed 200 OK in 68ms (Views: 56.9ms | ActiveRecord: 9.1ms)


Started POST "/checkouts" for ::1 at 2023-04-21 09:43:57 -0700
Processing by CheckoutsController#create as JS
  Parameters: {"authenticity_token"=>"oPg06o7qRhcEJeSl/HJULmfLEDC1cQyUgXUyAF/AcihmK572c8VMO2+j5msXnXbQzXpDmqrp3WVc0q05mg7vQg=="}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/checkouts_controller.rb:5
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/services/order_service.rb:13
  [1m[36mCartItem Load (1.2ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/services/order_service.rb:48
  [1m[36mProduct Load (1.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1[0m  [["id", 1]]
  â†³ app/services/order_service.rb:48
  [1m[36mOrder Create (5.1ms)[0m  [1m[32mINSERT INTO "orders" ("amount_paid", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["amount_paid", "100.0"], ["user_id", 2], ["created_at", "2023-04-21 16:43:57.557048"], ["updated_at", "2023-04-21 16:43:57.557048"]]
  â†³ app/services/order_service.rb:14
  [1m[36mOrderItem Create Many (3.1ms)[0m  [1m[32mINSERT INTO "order_items" ("product_id","price","quantity","order_id","created_at","updated_at") VALUES (1,100,1,13,'2023-04-21 16:43:57.564627','2023-04-21 16:43:57.564627') RETURNING "id"[0m
  â†³ app/services/order_service.rb:18
  [1m[36mProduct Create Many (1.2ms)[0m  [1m[32mINSERT INTO "products" ("id","name","description","price","quantity","user_id","created_at","updated_at") VALUES (1,'hello','12312312312321',1.0,2,1,'2023-04-21 15:13:43.593588','2023-04-21 16:43:57.570152') ON CONFLICT (id) DO UPDATE SET "quantity"=EXCLUDED."quantity","updated_at"=EXCLUDED."updated_at"  RETURNING "id"[0m
  â†³ app/services/order_service.rb:70
  [1m[36mCartItem Destroy (1.2ms)[0m  [1m[31mDELETE FROM "cart_items" WHERE "cart_items"."id" = $1[0m  [["id", 11]]
  â†³ app/services/order_service.rb:22
  [1m[36mShipment Create (5.9ms)[0m  [1m[32mINSERT INTO "shipments" ("customer_name", "shipping_address", "phone_number", "payment_method", "user_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["customer_name", "121231234"], ["shipping_address", "somewhere"], ["phone_number", "1231122"], ["payment_method", "Cash On Delivery"], ["user_id", 2], ["order_id", 13], ["created_at", "2023-04-21 16:43:57.578357"], ["updated_at", "2023-04-21 16:43:57.578357"]]
  â†³ app/services/order_service.rb:23
  [1m[35m (0.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/services/order_service.rb:13
Redirected to http://localhost:3000/shipments/6
Completed 200 OK in 45ms (ActiveRecord: 21.0ms)


Started GET "/shipments/6" for ::1 at 2023-04-21 09:43:57 -0700
Processing by ShipmentsController#show as HTML
  Parameters: {"id"=>"6"}
  [1m[36mShipment Load (0.9ms)[0m  [1m[34mSELECT  "shipments".* FROM "shipments" WHERE "shipments"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/shipments_controller.rb:18
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/shipments_controller.rb:18
  [1m[36mOrder Load (1.0ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 13]]
  â†³ app/controllers/shipments_controller.rb:18
  Rendering shipments/show.html.erb within layouts/application
  Rendered shipments/show.html.erb within layouts/application (6.4ms)
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/layouts/_header.html.erb:24
  Rendered layouts/_header.html.erb (2.9ms)
  Rendered layouts/_alert.html.erb (0.3ms)
Completed 200 OK in 69ms (Views: 55.6ms | ActiveRecord: 3.6ms)


Started PATCH "/shipments/6" for ::1 at 2023-04-21 09:43:59 -0700
Processing by ShipmentsController#update as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"6O5RfzYjFL/wwDKeDe7X40zkS+qOMDx2pLS7BGLdLe9QCav9Y74NUEml14Pn17iHAoAqr6DvfdiGpfg80R6jfg==", "shipment"=>{"customer_name"=>"121231234", "shipping_address"=>"somewhere", "phone_number"=>"1231122", "payment_method"=>"cash_on_delivery", "order_id"=>"13", "user_id"=>"2"}, "commit"=>"Confirm Order", "id"=>"6"}
  [1m[36mShipment Load (1.1ms)[0m  [1m[34mSELECT  "shipments".* FROM "shipments" WHERE "shipments"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/shipments_controller.rb:18
  [1m[36mUser Load (4.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/shipments_controller.rb:18
  [1m[36mOrder Load (1.0ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 13]]
  â†³ app/controllers/shipments_controller.rb:18
Unpermitted parameter: :user_id
  [1m[35m (1.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/shipments_controller.rb:8
  [1m[36mShipment Update (1.4ms)[0m  [1m[33mUPDATE "shipments" SET "status" = $1, "updated_at" = $2 WHERE "shipments"."id" = $3[0m  [["status", 1], ["updated_at", "2023-04-21 16:43:59.944731"], ["id", 6]]
  â†³ app/controllers/shipments_controller.rb:8
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/shipments_controller.rb:8
Redirected to http://localhost:3000/products
Completed 302 Found in 27ms (ActiveRecord: 9.6ms)


Started GET "/products" for ::1 at 2023-04-21 09:43:59 -0700
Processing by ProductsController#index as HTML
  [1m[36mUser Load (7.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:7
  Rendering products/index.html.erb within layouts/application
  [1m[35m (1.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" WHERE (user_id != 2)[0m
  â†³ app/views/products/index.html.erb:6
  [1m[36mProduct Load (3.8ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (user_id != 2)[0m
  â†³ app/views/products/index.html.erb:7
  [1m[36mActiveStorage::Attachment Exists (4.3ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/index.html.erb:12
  [1m[36mCACHE ActiveStorage::Attachment Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/index.html.erb:20
  Rendered products/index.html.erb within layouts/application (15.9ms)
  Rendered layouts/_header.html.erb (1.2ms)
  Rendered layouts/_alert.html.erb (0.3ms)
Completed 200 OK in 79ms (Views: 56.1ms | ActiveRecord: 17.0ms)


Started GET "/orders" for ::1 at 2023-04-21 09:44:01 -0700
Processing by OrdersController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/orders_controller.rb:3
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (9.1ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/orders/index.html.erb:18
  [1m[36mShipment Load (8.3ms)[0m  [1m[34mSELECT "shipments".* FROM "shipments" WHERE "shipments"."order_id" IN ($1, $2)[0m  [["order_id", 12], ["order_id", 13]]
  â†³ app/views/orders/index.html.erb:18
  Rendered orders/index.html.erb within layouts/application (31.8ms)
  Rendered layouts/_header.html.erb (1.1ms)
  Rendered layouts/_alert.html.erb (0.2ms)
Completed 200 OK in 87ms (Views: 62.4ms | ActiveRecord: 18.0ms)


Started GET "/orders/12" for ::1 at 2023-04-21 09:44:04 -0700
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"12"}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/orders_controller.rb:7
  [1m[36mOrder Load (0.7ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 12], ["LIMIT", 1]]
  â†³ app/controllers/orders_controller.rb:7
  [1m[36mShipment Load (0.5ms)[0m  [1m[34mSELECT "shipments".* FROM "shipments" WHERE "shipments"."order_id" = $1[0m  [["order_id", 12]]
  â†³ app/controllers/orders_controller.rb:7
  Rendering orders/show.html.erb within layouts/application
  Rendered orders/show.html.erb within layouts/application (2.4ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_alert.html.erb (0.3ms)
Completed 200 OK in 66ms (Views: 50.9ms | ActiveRecord: 2.3ms)


Started GET "/orders/13" for ::1 at 2023-04-21 09:44:07 -0700
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"13"}
  [1m[36mUser Load (23.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/orders_controller.rb:7
  [1m[36mOrder Load (1.0ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 13], ["LIMIT", 1]]
  â†³ app/controllers/orders_controller.rb:7
  [1m[36mShipment Load (0.7ms)[0m  [1m[34mSELECT "shipments".* FROM "shipments" WHERE "shipments"."order_id" = $1[0m  [["order_id", 13]]
  â†³ app/controllers/orders_controller.rb:7
  Rendering orders/show.html.erb within layouts/application
  Rendered orders/show.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_alert.html.erb (0.3ms)
Completed 200 OK in 85ms (Views: 49.3ms | ActiveRecord: 24.8ms)


Started GET "/cart_items" for ::1 at 2023-04-21 09:44:19 -0700
Processing by CartItemsController#index as HTML
  [1m[36mUser Load (3.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cart_items_controller.rb:7
  Rendering cart_items/index.html.erb within layouts/application
  [1m[35m (18.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:4
  Rendered cart_items/index.html.erb within layouts/application (37.6ms)
  Rendered layouts/_header.html.erb (2.2ms)
  Rendered layouts/_alert.html.erb (0.5ms)
Completed 200 OK in 137ms (Views: 96.0ms | ActiveRecord: 21.0ms)


Started GET "/products/mine" for ::1 at 2023-04-21 09:44:20 -0700
Processing by ProductsController#mine as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:57
  Rendering products/mine.html.erb within layouts/application
  [1m[36mProduct Load (1.7ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (user_id = 2)[0m
  â†³ app/views/products/mine.html.erb:8
  Rendered products/mine.html.erb within layouts/application (5.9ms)
  Rendered layouts/_header.html.erb (1.4ms)
  Rendered layouts/_alert.html.erb (0.7ms)
Completed 200 OK in 72ms (Views: 62.7ms | ActiveRecord: 2.1ms)


Started GET "/orders" for ::1 at 2023-04-21 09:44:21 -0700
Processing by OrdersController#index as HTML
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/orders_controller.rb:3
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (1.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/orders/index.html.erb:18
  [1m[36mShipment Load (1.0ms)[0m  [1m[34mSELECT "shipments".* FROM "shipments" WHERE "shipments"."order_id" IN ($1, $2)[0m  [["order_id", 12], ["order_id", 13]]
  â†³ app/views/orders/index.html.erb:18
  Rendered orders/index.html.erb within layouts/application (21.9ms)
  Rendered layouts/_header.html.erb (1.1ms)
  Rendered layouts/_alert.html.erb (0.3ms)
Completed 200 OK in 117ms (Views: 109.8ms | ActiveRecord: 3.5ms)


Started GET "/" for ::1 at 2023-04-21 09:44:21 -0700
Processing by ProductsController#index as HTML
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:7
  Rendering products/index.html.erb within layouts/application
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" WHERE (user_id != 2)[0m
  â†³ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (user_id != 2)[0m
  â†³ app/views/products/index.html.erb:7
  [1m[36mActiveStorage::Attachment Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/index.html.erb:12
  [1m[36mCACHE ActiveStorage::Attachment Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/index.html.erb:20
  Rendered products/index.html.erb within layouts/application (9.7ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_alert.html.erb (0.2ms)
Completed 200 OK in 61ms (Views: 50.5ms | ActiveRecord: 3.7ms)


Started GET "/" for ::1 at 2023-04-21 09:44:23 -0700
Processing by ProductsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:7
  Rendering products/index.html.erb within layouts/application
  [1m[35m (3.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" WHERE (user_id != 2)[0m
  â†³ app/views/products/index.html.erb:6
  [1m[36mProduct Load (1.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (user_id != 2)[0m
  â†³ app/views/products/index.html.erb:7
  [1m[36mActiveStorage::Attachment Exists (1.3ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/index.html.erb:12
  [1m[36mCACHE ActiveStorage::Attachment Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/index.html.erb:20
  Rendered products/index.html.erb within layouts/application (12.6ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_alert.html.erb (0.2ms)
Completed 200 OK in 64ms (Views: 50.4ms | ActiveRecord: 6.2ms)


Started GET "/" for ::1 at 2023-04-21 09:44:24 -0700
Processing by ProductsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:7
  Rendering products/index.html.erb within layouts/application
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" WHERE (user_id != 2)[0m
  â†³ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (user_id != 2)[0m
  â†³ app/views/products/index.html.erb:7
  [1m[36mActiveStorage::Attachment Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/index.html.erb:12
  [1m[36mCACHE ActiveStorage::Attachment Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/index.html.erb:20
  Rendered products/index.html.erb within layouts/application (5.1ms)
  Rendered layouts/_header.html.erb (1.1ms)
  Rendered layouts/_alert.html.erb (0.3ms)
Completed 200 OK in 65ms (Views: 50.6ms | ActiveRecord: 2.4ms)


Started GET "/" for ::1 at 2023-04-21 09:44:24 -0700
Processing by ProductsController#index as HTML
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:7
  Rendering products/index.html.erb within layouts/application
  [1m[35m (10.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" WHERE (user_id != 2)[0m
  â†³ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (user_id != 2)[0m
  â†³ app/views/products/index.html.erb:7
  [1m[36mActiveStorage::Attachment Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/index.html.erb:12
  [1m[36mCACHE ActiveStorage::Attachment Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/index.html.erb:20
  Rendered products/index.html.erb within layouts/application (14.6ms)
  Rendered layouts/_header.html.erb (1.3ms)
  Rendered layouts/_alert.html.erb (0.3ms)
Completed 200 OK in 70ms (Views: 49.3ms | ActiveRecord: 12.3ms)


Started GET "/" for ::1 at 2023-04-21 09:44:24 -0700
Processing by ProductsController#index as HTML
  [1m[36mUser Load (5.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:7
  Rendering products/index.html.erb within layouts/application
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" WHERE (user_id != 2)[0m
  â†³ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (user_id != 2)[0m
  â†³ app/views/products/index.html.erb:7
  [1m[36mActiveStorage::Attachment Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/index.html.erb:12
  [1m[36mCACHE ActiveStorage::Attachment Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/index.html.erb:20
  Rendered products/index.html.erb within layouts/application (5.4ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_alert.html.erb (0.2ms)
Completed 200 OK in 52ms (Views: 42.1ms | ActiveRecord: 7.7ms)


Started GET "/" for ::1 at 2023-04-21 09:44:25 -0700
Processing by ProductsController#index as HTML
  [1m[36mUser Load (3.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:7
  Rendering products/index.html.erb within layouts/application
  [1m[35m (1.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" WHERE (user_id != 2)[0m
  â†³ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (user_id != 2)[0m
  â†³ app/views/products/index.html.erb:7
  [1m[36mActiveStorage::Attachment Exists (1.7ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/index.html.erb:12
  [1m[36mCACHE ActiveStorage::Attachment Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/index.html.erb:20
  Rendered products/index.html.erb within layouts/application (11.2ms)
  Rendered layouts/_header.html.erb (1.2ms)
  Rendered layouts/_alert.html.erb (0.3ms)
Completed 200 OK in 97ms (Views: 62.5ms | ActiveRecord: 7.2ms)


Started GET "/cart_items" for ::1 at 2023-04-21 09:44:26 -0700
Processing by CartItemsController#index as HTML
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cart_items_controller.rb:7
  Rendering cart_items/index.html.erb within layouts/application
  [1m[35m (7.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:4
  Rendered cart_items/index.html.erb within layouts/application (11.9ms)
  Rendered layouts/_header.html.erb (1.2ms)
  Rendered layouts/_alert.html.erb (0.3ms)
Completed 200 OK in 70ms (Views: 56.1ms | ActiveRecord: 8.5ms)


Started GET "/" for ::1 at 2023-04-21 09:44:27 -0700
Processing by ProductsController#index as HTML
  [1m[36mUser Load (2.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:7
  Rendering products/index.html.erb within layouts/application
  [1m[35m (4.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" WHERE (user_id != 2)[0m
  â†³ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (user_id != 2)[0m
  â†³ app/views/products/index.html.erb:7
  [1m[36mActiveStorage::Attachment Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/index.html.erb:12
  [1m[36mCACHE ActiveStorage::Attachment Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/index.html.erb:20
  Rendered products/index.html.erb within layouts/application (8.8ms)
  Rendered layouts/_header.html.erb (1.1ms)
  Rendered layouts/_alert.html.erb (0.3ms)
Completed 200 OK in 91ms (Views: 45.2ms | ActiveRecord: 8.5ms)


Started GET "/" for ::1 at 2023-04-21 09:45:00 -0700
Processing by ProductsController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:7
  Rendering products/index.html.erb within layouts/application
  [1m[35m (6.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" WHERE (user_id != 2)[0m
  â†³ app/views/products/index.html.erb:6
  [1m[36mProduct Load (1.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (user_id != 2)[0m
  â†³ app/views/products/index.html.erb:7
  [1m[36mActiveStorage::Attachment Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/index.html.erb:12
  [1m[36mCACHE ActiveStorage::Attachment Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/index.html.erb:20
  Rendered products/index.html.erb within layouts/application (31.3ms)
  Rendered layouts/_header.html.erb (0.7ms)
  Rendered layouts/_alert.html.erb (0.3ms)
Completed 200 OK in 119ms (Views: 101.4ms | ActiveRecord: 9.3ms)


Started GET "/" for ::1 at 2023-04-21 09:45:20 -0700
Processing by ProductsController#index as HTML
  [1m[36mUser Load (2.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:7
  Rendering products/index.html.erb within layouts/application
  [1m[35m (2.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" WHERE (user_id != 2)[0m
  â†³ app/views/products/index.html.erb:6
  [1m[36mProduct Load (3.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (user_id != 2)[0m
  â†³ app/views/products/index.html.erb:7
  [1m[36mActiveStorage::Attachment Exists (29.5ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/index.html.erb:12
  [1m[36mCACHE ActiveStorage::Attachment Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/index.html.erb:20
  Rendered products/index.html.erb within layouts/application (82.5ms)
  Rendered layouts/_header.html.erb (0.9ms)
Completed 500 Internal Server Error in 142ms (ActiveRecord: 37.8ms)


  
SyntaxError (/Users/dev/Documents/repos/ecommerceApp-main/app/views/layouts/_header.html.erb:40: syntax error, unexpected tIDENTIFIER, expecting ')'
...troy' destroy_user_session_path, :method => :delete, :class ...
...      ^~~~~~~~~~~~~~~~~~~~~~~~~
/Users/dev/Documents/repos/ecommerceApp-main/app/views/layouts/_header.html.erb:40: syntax error, unexpected =>, expecting &. or :: or '[' or '.'
...y_user_session_path, :method => :delete, :class => "nav-link...
...                             ^~):
  
app/views/layouts/_header.html.erb:40: syntax error, unexpected tIDENTIFIER, expecting ')'
app/views/layouts/_header.html.erb:40: syntax error, unexpected =>, expecting &. or :: or '[' or '.'
app/views/layouts/application.html.erb:15:in `_app_views_layouts_application_html_erb___1578130822340953003_70318301133000'
Started GET "/" for ::1 at 2023-04-21 09:45:27 -0700
Processing by ProductsController#index as HTML
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:7
  Rendering products/index.html.erb within layouts/application
  [1m[35m (8.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" WHERE (user_id != 2)[0m
  â†³ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (user_id != 2)[0m
  â†³ app/views/products/index.html.erb:7
  [1m[36mActiveStorage::Attachment Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/index.html.erb:12
  [1m[36mCACHE ActiveStorage::Attachment Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/index.html.erb:20
  Rendered products/index.html.erb within layouts/application (16.9ms)
  Rendered layouts/_header.html.erb (0.6ms)
Completed 500 Internal Server Error in 80ms (ActiveRecord: 10.9ms)


  
SyntaxError (/Users/dev/Documents/repos/ecommerceApp-main/app/views/layouts/_header.html.erb:40: syntax error, unexpected ',', expecting =>
...oy', destroy_user_session_path, :method => :delete, :class =...
...                              ^):
  
app/views/layouts/_header.html.erb:40: syntax error, unexpected ',', expecting =>
app/views/layouts/application.html.erb:15:in `_app_views_layouts_application_html_erb___1578130822340953003_70318300165340'
Started GET "/" for ::1 at 2023-04-21 09:45:45 -0700
Processing by ProductsController#index as HTML
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:7
  Rendering products/index.html.erb within layouts/application
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" WHERE (user_id != 2)[0m
  â†³ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (user_id != 2)[0m
  â†³ app/views/products/index.html.erb:7
  [1m[36mActiveStorage::Attachment Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/index.html.erb:12
  [1m[36mCACHE ActiveStorage::Attachment Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/index.html.erb:20
  Rendered products/index.html.erb within layouts/application (5.5ms)
  Rendered layouts/_header.html.erb (0.7ms)
  Rendered layouts/_alert.html.erb (0.3ms)
Completed 200 OK in 59ms (Views: 50.8ms | ActiveRecord: 2.9ms)


Started GET "/" for ::1 at 2023-04-21 09:45:49 -0700
Processing by ProductsController#index as HTML
  [1m[36mUser Load (10.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:7
  Rendering products/index.html.erb within layouts/application
  [1m[35m (12.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" WHERE (user_id != 2)[0m
  â†³ app/views/products/index.html.erb:6
  [1m[36mProduct Load (14.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (user_id != 2)[0m
  â†³ app/views/products/index.html.erb:7
  [1m[36mActiveStorage::Attachment Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/index.html.erb:12
  [1m[36mCACHE ActiveStorage::Attachment Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/index.html.erb:20
  Rendered products/index.html.erb within layouts/application (31.9ms)
  Rendered layouts/_header.html.erb (0.7ms)
  Rendered layouts/_alert.html.erb (0.3ms)
Completed 200 OK in 91ms (Views: 45.6ms | ActiveRecord: 38.2ms)


Started GET "/cart_items" for ::1 at 2023-04-21 09:45:54 -0700
Processing by CartItemsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cart_items_controller.rb:7
  Rendering cart_items/index.html.erb within layouts/application
  [1m[35m (6.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:4
  Rendered cart_items/index.html.erb within layouts/application (11.6ms)
  Rendered layouts/_header.html.erb (0.7ms)
  Rendered layouts/_alert.html.erb (0.2ms)
Completed 200 OK in 65ms (Views: 52.6ms | ActiveRecord: 7.0ms)


Started GET "/products/mine" for ::1 at 2023-04-21 09:45:55 -0700
Processing by ProductsController#mine as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:57
  Rendering products/mine.html.erb within layouts/application
  [1m[36mProduct Load (3.9ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (user_id = 2)[0m
  â†³ app/views/products/mine.html.erb:8
  Rendered products/mine.html.erb within layouts/application (11.6ms)
  Rendered layouts/_header.html.erb (0.7ms)
  Rendered layouts/_alert.html.erb (0.2ms)
Completed 200 OK in 79ms (Views: 68.5ms | ActiveRecord: 4.3ms)


Started GET "/orders" for ::1 at 2023-04-21 09:45:56 -0700
Processing by OrdersController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/orders_controller.rb:3
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (3.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/orders/index.html.erb:18
  [1m[36mShipment Load (0.9ms)[0m  [1m[34mSELECT "shipments".* FROM "shipments" WHERE "shipments"."order_id" IN ($1, $2)[0m  [["order_id", 12], ["order_id", 13]]
  â†³ app/views/orders/index.html.erb:18
  Rendered orders/index.html.erb within layouts/application (9.7ms)
  Rendered layouts/_header.html.erb (0.7ms)
  Rendered layouts/_alert.html.erb (0.3ms)
Completed 200 OK in 66ms (Views: 52.8ms | ActiveRecord: 5.0ms)


Started GET "/" for ::1 at 2023-04-21 09:46:05 -0700
Processing by ProductsController#index as HTML
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:7
  Rendering products/index.html.erb within layouts/application
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" WHERE (user_id != 2)[0m
  â†³ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (user_id != 2)[0m
  â†³ app/views/products/index.html.erb:7
  [1m[36mActiveStorage::Attachment Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/index.html.erb:12
  [1m[36mCACHE ActiveStorage::Attachment Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/index.html.erb:20
  Rendered products/index.html.erb within layouts/application (5.1ms)
  Rendered layouts/_header.html.erb (0.6ms)
  Rendered layouts/_alert.html.erb (0.2ms)
Completed 200 OK in 51ms (Views: 42.6ms | ActiveRecord: 3.5ms)


Started GET "/cart_items" for ::1 at 2023-04-21 09:46:06 -0700
Processing by CartItemsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cart_items_controller.rb:7
  Rendering cart_items/index.html.erb within layouts/application
  [1m[35m (4.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/cart_items/index.html.erb:4
  Rendered cart_items/index.html.erb within layouts/application (9.0ms)
  Rendered layouts/_header.html.erb (0.7ms)
  Rendered layouts/_alert.html.erb (0.3ms)
Completed 200 OK in 67ms (Views: 55.1ms | ActiveRecord: 5.3ms)


Started GET "/products/mine" for ::1 at 2023-04-21 09:46:06 -0700
Processing by ProductsController#mine as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:57
  Rendering products/mine.html.erb within layouts/application
  [1m[36mProduct Load (3.8ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (user_id = 2)[0m
  â†³ app/views/products/mine.html.erb:8
  Rendered products/mine.html.erb within layouts/application (5.4ms)
  Rendered layouts/_header.html.erb (0.7ms)
  Rendered layouts/_alert.html.erb (0.2ms)
Completed 200 OK in 67ms (Views: 53.1ms | ActiveRecord: 4.4ms)


Started GET "/products/new" for ::1 at 2023-04-21 09:46:09 -0700
Processing by ProductsController#new as HTML
  [1m[36mUser Load (3.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:12
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (18.3ms)
  Rendered products/new.html.erb within layouts/application (22.7ms)
  Rendered layouts/_header.html.erb (0.7ms)
  Rendered layouts/_alert.html.erb (0.2ms)
Completed 200 OK in 99ms (Views: 75.1ms | ActiveRecord: 17.1ms)


Started GET "/" for ::1 at 2023-04-21 09:46:13 -0700
Processing by ProductsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:7
  Rendering products/index.html.erb within layouts/application
  [1m[35m (3.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" WHERE (user_id != 2)[0m
  â†³ app/views/products/index.html.erb:6
  [1m[36mProduct Load (1.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (user_id != 2)[0m
  â†³ app/views/products/index.html.erb:7
  [1m[36mActiveStorage::Attachment Exists (3.5ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/index.html.erb:12
  [1m[36mCACHE ActiveStorage::Attachment Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "images"], ["LIMIT", 1]]
  â†³ app/views/products/index.html.erb:20
  Rendered products/index.html.erb within layouts/application (11.1ms)
  Rendered layouts/_header.html.erb (0.7ms)
  Rendered layouts/_alert.html.erb (0.2ms)
Completed 200 OK in 72ms (Views: 55.7ms | ActiveRecord: 8.2ms)


